{"version":3,"file":"index.dev.js","sources":["../node_modules/babel-runtime/helpers/classCallCheck.js","../node_modules/core-js/library/modules/_global.js","../node_modules/core-js/library/modules/_core.js","../node_modules/core-js/library/modules/_a-function.js","../node_modules/core-js/library/modules/_ctx.js","../node_modules/core-js/library/modules/_is-object.js","../node_modules/core-js/library/modules/_an-object.js","../node_modules/core-js/library/modules/_fails.js","../node_modules/core-js/library/modules/_descriptors.js","../node_modules/core-js/library/modules/_dom-create.js","../node_modules/core-js/library/modules/_ie8-dom-define.js","../node_modules/core-js/library/modules/_to-primitive.js","../node_modules/core-js/library/modules/_object-dp.js","../node_modules/core-js/library/modules/_property-desc.js","../node_modules/core-js/library/modules/_hide.js","../node_modules/core-js/library/modules/_export.js","../node_modules/core-js/library/modules/es6.object.define-property.js","../node_modules/core-js/library/fn/object/define-property.js","../node_modules/babel-runtime/core-js/object/define-property.js","../node_modules/babel-runtime/helpers/createClass.js","../node_modules/core-js/library/modules/_to-integer.js","../node_modules/core-js/library/modules/_defined.js","../node_modules/core-js/library/modules/_string-at.js","../node_modules/core-js/library/modules/_library.js","../node_modules/core-js/library/modules/_redefine.js","../node_modules/core-js/library/modules/_has.js","../node_modules/core-js/library/modules/_iterators.js","../node_modules/core-js/library/modules/_cof.js","../node_modules/core-js/library/modules/_iobject.js","../node_modules/core-js/library/modules/_to-iobject.js","../node_modules/core-js/library/modules/_to-length.js","../node_modules/core-js/library/modules/_to-absolute-index.js","../node_modules/core-js/library/modules/_array-includes.js","../node_modules/core-js/library/modules/_shared.js","../node_modules/core-js/library/modules/_uid.js","../node_modules/core-js/library/modules/_shared-key.js","../node_modules/core-js/library/modules/_object-keys-internal.js","../node_modules/core-js/library/modules/_enum-bug-keys.js","../node_modules/core-js/library/modules/_object-keys.js","../node_modules/core-js/library/modules/_object-dps.js","../node_modules/core-js/library/modules/_html.js","../node_modules/core-js/library/modules/_object-create.js","../node_modules/core-js/library/modules/_wks.js","../node_modules/core-js/library/modules/_set-to-string-tag.js","../node_modules/core-js/library/modules/_iter-create.js","../node_modules/core-js/library/modules/_to-object.js","../node_modules/core-js/library/modules/_object-gpo.js","../node_modules/core-js/library/modules/_iter-define.js","../node_modules/core-js/library/modules/es6.string.iterator.js","../node_modules/core-js/library/modules/_add-to-unscopables.js","../node_modules/core-js/library/modules/_iter-step.js","../node_modules/core-js/library/modules/es6.array.iterator.js","../node_modules/core-js/library/modules/web.dom.iterable.js","../node_modules/core-js/library/modules/_wks-ext.js","../node_modules/core-js/library/fn/symbol/iterator.js","../node_modules/babel-runtime/core-js/symbol/iterator.js","../node_modules/core-js/library/modules/_meta.js","../node_modules/core-js/library/modules/_wks-define.js","../node_modules/core-js/library/modules/_object-gops.js","../node_modules/core-js/library/modules/_object-pie.js","../node_modules/core-js/library/modules/_enum-keys.js","../node_modules/core-js/library/modules/_is-array.js","../node_modules/core-js/library/modules/_object-gopn.js","../node_modules/core-js/library/modules/_object-gopn-ext.js","../node_modules/core-js/library/modules/_object-gopd.js","../node_modules/core-js/library/modules/es6.symbol.js","../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","../node_modules/core-js/library/modules/es7.symbol.observable.js","../node_modules/core-js/library/fn/symbol/index.js","../node_modules/babel-runtime/core-js/symbol.js","../node_modules/babel-runtime/helpers/typeof.js","../node_modules/core-js/library/modules/_object-sap.js","../node_modules/core-js/library/modules/es6.object.keys.js","../node_modules/core-js/library/fn/object/keys.js","../node_modules/babel-runtime/core-js/object/keys.js","../node_modules/core-js/library/modules/_is-integer.js","../node_modules/core-js/library/modules/es6.number.is-integer.js","../node_modules/core-js/library/fn/number/is-integer.js","../node_modules/babel-runtime/core-js/number/is-integer.js","../node_modules/core-js/library/modules/_string-ws.js","../node_modules/core-js/library/modules/_string-trim.js","../node_modules/core-js/library/modules/_parse-float.js","../node_modules/core-js/library/modules/es6.number.parse-float.js","../node_modules/core-js/library/fn/number/parse-float.js","../node_modules/babel-runtime/core-js/number/parse-float.js","../node_modules/toxic-predicate-functions/lib/index.mjs","../node_modules/chimee-helper-log/lib/index.mjs","../node_modules/ua-parser-js/src/ua-parser.js","../node_modules/core-js/library/modules/_iter-call.js","../node_modules/core-js/library/modules/_is-array-iter.js","../node_modules/core-js/library/modules/_create-property.js","../node_modules/core-js/library/modules/_classof.js","../node_modules/core-js/library/modules/core.get-iterator-method.js","../node_modules/core-js/library/modules/_iter-detect.js","../node_modules/core-js/library/modules/es6.array.from.js","../node_modules/core-js/library/fn/array/from.js","../node_modules/babel-runtime/core-js/array/from.js","../node_modules/babel-runtime/helpers/toConsumableArray.js","../node_modules/toxic-utils/lib/index.mjs","../node_modules/core-js/library/modules/_an-instance.js","../node_modules/core-js/library/modules/_for-of.js","../node_modules/core-js/library/modules/_species-constructor.js","../node_modules/core-js/library/modules/_invoke.js","../node_modules/core-js/library/modules/_task.js","../node_modules/core-js/library/modules/_microtask.js","../node_modules/core-js/library/modules/_new-promise-capability.js","../node_modules/core-js/library/modules/_perform.js","../node_modules/core-js/library/modules/_promise-resolve.js","../node_modules/core-js/library/modules/_redefine-all.js","../node_modules/core-js/library/modules/_set-species.js","../node_modules/core-js/library/modules/es6.promise.js","../node_modules/core-js/library/modules/es7.promise.finally.js","../node_modules/core-js/library/modules/es7.promise.try.js","../node_modules/core-js/library/fn/promise.js","../node_modules/babel-runtime/core-js/promise.js","../node_modules/chimee-helper-utils/lib/index.mjs","../node_modules/core-js/library/modules/_object-assign.js","../node_modules/core-js/library/modules/es6.object.assign.js","../node_modules/core-js/library/fn/object/assign.js","../node_modules/babel-runtime/core-js/object/assign.js","../node_modules/core-js/library/modules/es6.object.create.js","../node_modules/core-js/library/fn/object/create.js","../node_modules/babel-runtime/core-js/object/create.js","../node_modules/chimee-helper-events/lib/index.mjs","../node_modules/chimee-helper-dom/lib/index.mjs","../node_modules/chimee-helper/lib/index.mjs","../src/core/mse-controller.js","../src/io/handleRange.js","../src/io/fetch.js","../src/io/xhr-range.js","../src/io/websocket.js","../src/io/xhr-moz-chunk.js","../src/io/io-loader.js","../src/mp4decode/core.js","../src/mp4decode/index.js","../node_modules/rollup-plugin-bundle-worker/src/index.js","../src/core/transmuxer-worker.js","../src/core/transmuxer.js","../src/config.js","../src/index.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && key in exports) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      (0, _defineProperty2.default)(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","module.exports = true;\n","module.exports = require('./_hide');\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","module.exports = {};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","var global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function (key) {\n  return store[key] || (store[key] = {});\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","module.exports = function () { /* empty */ };\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","exports.f = require('./_wks');\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = Object.getOwnPropertySymbols;\n","exports.f = {}.propertyIsEnumerable;\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    replacer = args[1];\n    if (typeof replacer == 'function') $replacer = replacer;\n    if ($replacer || !isArray(replacer)) replacer = function (key, value) {\n      if ($replacer) value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n","module.exports = { \"default\": require(\"core-js/library/fn/number/is-integer\"), __esModule: true };","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 20.1.2.12 Number.parseFloat(string)\n$export($export.S + $export.F * (Number.parseFloat != $parseFloat), 'Number', { parseFloat: $parseFloat });\n","require('../../modules/es6.number.parse-float');\nmodule.exports = parseFloat;\n","module.exports = { \"default\": require(\"core-js/library/fn/number/parse-float\"), __esModule: true };","\n/**\n * toxic-predicate-functions v0.1.4\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\nimport _Number$isInteger from 'babel-runtime/core-js/number/is-integer';\nimport _Number$parseFloat from 'babel-runtime/core-js/number/parse-float';\n\n/**\n * to check whether the object is defined or not\n */\nfunction defined(obj) {\n  return typeof obj !== 'undefined';\n}\n/**\n * is void element or not ? Means it will return true when val is undefined or null\n */\nfunction isVoid(obj) {\n  return obj === undefined || obj === null;\n}\n/**\n * to check whether a variable is array\n */\nfunction isArray(arr) {\n  return Array.isArray(arr);\n}\n\n/**\n * is it a function or not\n */\nfunction isFunction(obj) {\n  return typeof obj === 'function';\n}\n\n/**\n * is it an object or not\n */\nfunction isObject(obj) {\n  // incase of arrow function and array\n  return Object(obj) === obj && String(obj) === '[object Object]' && !isFunction(obj) && !isArray(obj);\n}\n/**\n * to tell you if it's a real number\n */\nfunction isNumber(obj) {\n  return typeof obj === 'number';\n}\n/**\n * to tell you if the val can be transfer into number\n */\nfunction isNumeric(obj) {\n  return !isArray(obj) && obj - _Number$parseFloat(obj) + 1 >= 0;\n}\n/**\n * is it an interget or not\n */\nfunction isInteger(num) {\n  return _Number$isInteger(num);\n}\n\n/**\n * return true when the value is \"\", {}, [], 0, null, undefined, false.\n */\nfunction isEmpty(obj) {\n  if (isArray(obj)) {\n    return obj.length === 0;\n  } else if (isObject(obj)) {\n    return _Object$keys(obj).length === 0;\n  } else {\n    return !obj;\n  }\n}\n/**\n * is it an event or not\n */\nfunction isEvent(obj) {\n  return obj instanceof Event || (obj && obj.originalEvent) instanceof Event;\n}\n/**\n * is it a blob\n */\nfunction isBlob(obj) {\n  return obj instanceof Blob;\n}\n/**\n * is it a file uploaded by user through file inpue\n */\nfunction isFile(obj) {\n  return isBlob(obj) && isString(obj.name);\n}\n/**\n * is it a date\n */\nfunction isDate(obj) {\n  return Object.prototype.toString.call(obj) === '[object Date]';\n}\n/**\n * is it a string\n */\nfunction isString(str) {\n  return typeof str === 'string' || str instanceof String;\n}\n/**\n * is Boolean or not\n */\nfunction isBoolean(bool) {\n  return typeof bool === 'boolean';\n}\n/**\n * is a promise or not\n */\nfunction isPromise(obj) {\n  return !!obj && ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n/**\n * is Primitive type or not, whick means it will return true when data is number/string/boolean/undefined/null\n */\nfunction isPrimitive(val) {\n  return isVoid(val) || isBoolean(val) || isString(val) || isNumber(val);\n}\n/**\n * is it an url, but this test require the url to have an protocol\n */\nfunction isUrl(str) {\n  return isString(str) && !!str.match(/^((https?|ftp|rtsp|mms):\\/\\/)(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}\\.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+\\.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]\\.[a-z]{2,6}|localhost)(:[0-9]{1,4})?((\\/?)|(\\/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+\\/?)$/i);\n}\n/**\n * to test if a HTML node\n */\nfunction isNode(obj) {\n  return !!((typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? obj instanceof Node : obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && typeof obj.nodeType === 'number' && typeof obj.nodeName === 'string');\n}\n/**\n * to test if a HTML element\n */\nfunction isElement(obj) {\n  return !!((typeof HTMLElement === 'undefined' ? 'undefined' : _typeof(HTMLElement)) === 'object' ? obj instanceof HTMLElement : obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === 'string');\n}\n/**\n * check if node A is node B's parent or not\n */\nfunction isChildNode(parent, child) {\n  if (!isNode(parent) || !isNode(child)) {\n    return false;\n  }\n  return child.parentNode === parent;\n}\n/**\n * check if node B is node A's posterrity or not\n */\nfunction isPosterityNode(parent, child) {\n  if (!isNode(parent) || !isNode(child)) {\n    return false;\n  }\n  while (child.parentNode) {\n    child = child.parentNode;\n    if (child === parent) {\n      return true;\n    }\n  }\n  return false;\n}\n/**\n * check if the string is an HTMLString\n */\nfunction isHTMLString(str) {\n  return (/<[^>]+?>/.test(str)\n  );\n}\n/**\n * check if is an error\n */\nfunction isError(val) {\n  return val instanceof Error;\n}\n\nexport { defined, isVoid, isArray, isFunction, isObject, isNumber, isNumeric, isInteger, isEmpty, isEvent, isBlob, isFile, isDate, isString, isBoolean, isPromise, isPrimitive, isUrl, isNode, isElement, isChildNode, isPosterityNode, isHTMLString, isError };\n","\n/**\n * chimee-helper-log v0.1.2\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport { isString } from 'toxic-predicate-functions';\n\nfunction formatter(tag, msg) {\n  if (!isString(tag)) throw new TypeError('Log\\'s method only acccept string as argument, but not ' + tag + ' in ' + (typeof tag === 'undefined' ? 'undefined' : _typeof(tag)));\n  if (!isString(msg)) return '[' + Log.GLOBAL_TAG + '] > ' + tag;\n  tag = Log.FORCE_GLOBAL_TAG ? Log.GLOBAL_TAG : tag || Log.GLOBAL_TAG;\n  return '[' + tag + '] > ' + msg;\n}\n/**\n * Log Object\n */\n\nvar Log = function () {\n  function Log() {\n    _classCallCheck(this, Log);\n  }\n\n  _createClass(Log, null, [{\n    key: 'error',\n\n    /**\n     * equal to console.error, output `[${tag}] > {$msg}`\n     * @param {string} tag optional, the header of log \n     * @param {string} msg the message\n     */\n\n    /**\n     * @member {boolean}\n     */\n\n    /**\n     * @member {boolean}\n     */\n\n    /**\n     * @member {boolean}\n     */\n    value: function error(tag, msg) {\n      if (!Log.ENABLE_ERROR) {\n        return;\n      }\n\n      (console.error || console.warn || console.log)(formatter(tag, msg));\n    }\n    /**\n     * equal to console.info, output `[${tag}] > {$msg}`\n     * @param {string} tag optional, the header of log \n     * @param {string} msg the message\n     */\n\n    /**\n     * @member {boolean}\n     */\n\n    /**\n     * @member {boolean}\n     */\n\n    /**\n     * @member {boolean}\n     */\n\n    /**\n     * @member {string}\n     */\n\n  }, {\n    key: 'info',\n    value: function info(tag, msg) {\n      if (!Log.ENABLE_INFO) {\n        return;\n      }\n      (console.info || console.log)(formatter(tag, msg));\n    }\n    /**\n     * equal to console.warn, output `[${tag}] > {$msg}`\n     * @param {string} tag optional, the header of log \n     * @param {string} msg the message\n     */\n\n  }, {\n    key: 'warn',\n    value: function warn(tag, msg) {\n      if (!Log.ENABLE_WARN) {\n        return;\n      }\n      (console.warn || console.log)(formatter(tag, msg));\n    }\n    /**\n     * equal to console.debug, output `[${tag}] > {$msg}`\n     * @param {string} tag optional, the header of log \n     * @param {string} msg the message\n     */\n\n  }, {\n    key: 'debug',\n    value: function debug(tag, msg) {\n      if (!Log.ENABLE_DEBUG) {\n        return;\n      }\n      (console.debug || console.log)(formatter(tag, msg));\n    }\n    /**\n     * equal to console.verbose, output `[${tag}] > {$msg}`\n     * @param {string} tag optional, the header of log \n     * @param {string} msg the message\n     */\n\n  }, {\n    key: 'verbose',\n    value: function verbose(tag, msg) {\n      if (!Log.ENABLE_VERBOSE) {\n        return;\n      }\n      console.log(formatter(tag, msg));\n    }\n  }]);\n\n  return Log;\n}();\n\nLog.GLOBAL_TAG = 'chimee';\nLog.FORCE_GLOBAL_TAG = false;\nLog.ENABLE_ERROR = true;\nLog.ENABLE_INFO = true;\nLog.ENABLE_WARN = true;\nLog.ENABLE_DEBUG = true;\nLog.ENABLE_VERBOSE = true;\n\nexport default Log;\n","/**\n * UAParser.js v0.7.14\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>\n * Dual licensed under GPLv2 & MIT\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.14',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var margedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    margedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    margedRegexes[i] = regexes[i];\n                }\n            }\n            return margedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            //var result = {},\n            var i = 0, j, k, p, q, matches, match;//, args = arguments;\n\n            /*// construct object barebones\n            for (p = 0; p < args[1].length; p++) {\n                q = args[1][p];\n                result[typeof q === OBJ_TYPE ? q[0] : q] = undefined;\n            }*/\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n            //console.log(this);\n            //return this;\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]+)*/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n\n            // Trident based\n            /(avant\\s|iemobile|slim|baidu)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser/Baidu\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]+)*/i,                                            // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser\n            ], [NAME, VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge)\\/((\\d+)?[\\w\\.]+)/i                                          // Microsoft Edge\n            ], [NAME, VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i\n                                                                                // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /(headlesschrome) ([\\w\\.]+)/i                                       // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(konqueror)\\/([\\w\\.]+)/i,                                          // Konqueror\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\\/([\\w\\.-]+)/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]+)*/i,                                        // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n\n            /* /////////////////////\n            // Media players BEGIN\n            ////////////////////////\n\n            , [\n\n            /(apple(?:coremedia|))\\/((\\d+)[\\w\\._]+)/i,                          // Generic Apple CoreMedia\n            /(coremedia) v((\\d+)[\\w\\._]+)/i\n            ], [NAME, VERSION], [\n\n            /(aqualung|lyssna|bsplayer)\\/((\\d+)?[\\w\\.-]+)/i                     // Aqualung/Lyssna/BSPlayer\n            ], [NAME, VERSION], [\n\n            /(ares|ossproxy)\\s((\\d+)[\\w\\.-]+)/i                                 // Ares/OSSProxy\n            ], [NAME, VERSION], [\n\n            /(audacious|audimusicstream|amarok|bass|core|dalvik|gnomemplayer|music on console|nsplayer|psp-internetradioplayer|videos)\\/((\\d+)[\\w\\.-]+)/i,\n                                                                                // Audacious/AudiMusicStream/Amarok/BASS/OpenCORE/Dalvik/GnomeMplayer/MoC\n                                                                                // NSPlayer/PSP-InternetRadioPlayer/Videos\n            /(clementine|music player daemon)\\s((\\d+)[\\w\\.-]+)/i,               // Clementine/MPD\n            /(lg player|nexplayer)\\s((\\d+)[\\d\\.]+)/i,\n            /player\\/(nexplayer|lg player)\\s((\\d+)[\\w\\.-]+)/i                   // NexPlayer/LG Player\n            ], [NAME, VERSION], [\n            /(nexplayer)\\s((\\d+)[\\w\\.-]+)/i                                     // Nexplayer\n            ], [NAME, VERSION], [\n\n            /(flrp)\\/((\\d+)[\\w\\.-]+)/i                                          // Flip Player\n            ], [[NAME, 'Flip Player'], VERSION], [\n\n            /(fstream|nativehost|queryseekspider|ia-archiver|facebookexternalhit)/i\n                                                                                // FStream/NativeHost/QuerySeekSpider/IA Archiver/facebookexternalhit\n            ], [NAME], [\n\n            /(gstreamer) souphttpsrc (?:\\([^\\)]+\\)){0,1} libsoup\\/((\\d+)[\\w\\.-]+)/i\n                                                                                // Gstreamer\n            ], [NAME, VERSION], [\n\n            /(htc streaming player)\\s[\\w_]+\\s\\/\\s((\\d+)[\\d\\.]+)/i,              // HTC Streaming Player\n            /(java|python-urllib|python-requests|wget|libcurl)\\/((\\d+)[\\w\\.-_]+)/i,\n                                                                                // Java/urllib/requests/wget/cURL\n            /(lavf)((\\d+)[\\d\\.]+)/i                                             // Lavf (FFMPEG)\n            ], [NAME, VERSION], [\n\n            /(htc_one_s)\\/((\\d+)[\\d\\.]+)/i                                      // HTC One S\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(mplayer)(?:\\s|\\/)(?:(?:sherpya-){0,1}svn)(?:-|\\s)(r\\d+(?:-\\d+[\\w\\.-]+){0,1})/i\n                                                                                // MPlayer SVN\n            ], [NAME, VERSION], [\n\n            /(mplayer)(?:\\s|\\/|[unkow-]+)((\\d+)[\\w\\.-]+)/i                      // MPlayer\n            ], [NAME, VERSION], [\n\n            /(mplayer)/i,                                                       // MPlayer (no other info)\n            /(yourmuze)/i,                                                      // YourMuze\n            /(media player classic|nero showtime)/i                             // Media Player Classic/Nero ShowTime\n            ], [NAME], [\n\n            /(nero (?:home|scout))\\/((\\d+)[\\w\\.-]+)/i                           // Nero Home/Nero Scout\n            ], [NAME, VERSION], [\n\n            /(nokia\\d+)\\/((\\d+)[\\w\\.-]+)/i                                      // Nokia\n            ], [NAME, VERSION], [\n\n            /\\s(songbird)\\/((\\d+)[\\w\\.-]+)/i                                    // Songbird/Philips-Songbird\n            ], [NAME, VERSION], [\n\n            /(winamp)3 version ((\\d+)[\\w\\.-]+)/i,                               // Winamp\n            /(winamp)\\s((\\d+)[\\w\\.-]+)/i,\n            /(winamp)mpeg\\/((\\d+)[\\w\\.-]+)/i\n            ], [NAME, VERSION], [\n\n            /(ocms-bot|tapinradio|tunein radio|unknown|winamp|inlight radio)/i  // OCMS-bot/tap in radio/tunein/unknown/winamp (no other info)\n                                                                                // inlight radio\n            ], [NAME], [\n\n            /(quicktime|rma|radioapp|radioclientapplication|soundtap|totem|stagefright|streamium)\\/((\\d+)[\\w\\.-]+)/i\n                                                                                // QuickTime/RealMedia/RadioApp/RadioClientApplication/\n                                                                                // SoundTap/Totem/Stagefright/Streamium\n            ], [NAME, VERSION], [\n\n            /(smp)((\\d+)[\\d\\.]+)/i                                              // SMP\n            ], [NAME, VERSION], [\n\n            /(vlc) media player - version ((\\d+)[\\w\\.]+)/i,                     // VLC Videolan\n            /(vlc)\\/((\\d+)[\\w\\.-]+)/i,\n            /(xbmc|gvfs|xine|xmms|irapp)\\/((\\d+)[\\w\\.-]+)/i,                    // XBMC/gvfs/Xine/XMMS/irapp\n            /(foobar2000)\\/((\\d+)[\\d\\.]+)/i,                                    // Foobar2000\n            /(itunes)\\/((\\d+)[\\d\\.]+)/i                                         // iTunes\n            ], [NAME, VERSION], [\n\n            /(wmplayer)\\/((\\d+)[\\w\\.-]+)/i,                                     // Windows Media Player\n            /(windows-media-player)\\/((\\d+)[\\w\\.-]+)/i\n            ], [[NAME, /-/g, ' '], VERSION], [\n\n            /windows\\/((\\d+)[\\w\\.-]+) upnp\\/[\\d\\.]+ dlnadoc\\/[\\d\\.]+ (home media server)/i\n                                                                                // Windows Media Server\n            ], [VERSION, [NAME, 'Windows']], [\n\n            /(com\\.riseupradioalarm)\\/((\\d+)[\\d\\.]*)/i                          // RiseUP Radio Alarm\n            ], [NAME, VERSION], [\n\n            /(rad.io)\\s((\\d+)[\\d\\.]+)/i,                                        // Rad.io\n            /(radio.(?:de|at|fr))\\s((\\d+)[\\d\\.]+)/i\n            ], [[NAME, 'rad.io'], VERSION]\n\n            //////////////////////\n            // Media players END\n            ////////////////////*/\n\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+;))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\);-]+(rim|apple)/i                         // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple']], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/[\\w\\.]+.*silk\\//i                               // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/[\\w\\.]+.*silk\\//i                  // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]+)*/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(S(?:5000|6000)+(?:[-][\\w+]))/i                         // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\))|\\w+)*/i,                               // HTC\n            /(zte)-(\\w+)*/i,                                                    // ZTE\n            /(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]+)*/i\n                                                                                // Alcatel/GeeksPhone/Lenovo/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p)/i                                                      // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?(:?\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w+)*/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)*/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w+)*/i                                                       // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]+)*/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android\\s3\\.[\\s\\w;-]{10}(a\\d{3})/i                                 // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w+)*/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google']], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)\\s/i                                          // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel xl|pixel)\\s/i                                   // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+(\\w+)\\s+build\\/hm\\1/i,                                    // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d\\w)?)\\s+build/i    // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu Tablet\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, TABLET]], [\n\n            /android.+a000(1)\\s+build/i                                         // OnePlus\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Venue[\\d\\s]*)\\s+build/i                          // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(zte)?.+(k\\d{2})\\s+build/i                        // ZTE K Series Tablet\n            ], [[VENDOR, 'ZTE'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2}x?.*)\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(.+)\\s+build/i          // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?.+)\\s+build/i                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?.+)\\s+build/i                         // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-?)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(.*\\b)\\s+build/i             // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q.+)\\s+build/i                           // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /(android.+)[;\\/].+build/i                                          // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n\n\n        /*//////////////////////////\n            // TODO: move to string map\n            ////////////////////////////\n\n            /(C6603)/i                                                          // Sony Xperia Z C6603\n            ], [[MODEL, 'Xperia Z C6603'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n            /(C6903)/i                                                          // Sony Xperia Z 1\n            ], [[MODEL, 'Xperia Z 1'], [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /(SM-G900[F|H])/i                                                   // Samsung Galaxy S5\n            ], [[MODEL, 'Galaxy S5'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G7102)/i                                                       // Samsung Galaxy Grand 2\n            ], [[MODEL, 'Galaxy Grand 2'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G530H)/i                                                       // Samsung Galaxy Grand Prime\n            ], [[MODEL, 'Galaxy Grand Prime'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-G313HZ)/i                                                      // Samsung Galaxy V\n            ], [[MODEL, 'Galaxy V'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T805)/i                                                        // Samsung Galaxy Tab S 10.5\n            ], [[MODEL, 'Galaxy Tab S 10.5'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n            /(SM-G800F)/i                                                       // Samsung Galaxy S5 Mini\n            ], [[MODEL, 'Galaxy S5 Mini'], [VENDOR, 'Samsung'], [TYPE, MOBILE]], [\n            /(SM-T311)/i                                                        // Samsung Galaxy Tab 3 8.0\n            ], [[MODEL, 'Galaxy Tab 3 8.0'], [VENDOR, 'Samsung'], [TYPE, TABLET]], [\n\n            /(T3C)/i                                                            // Advan Vandroid T3C\n            ], [MODEL, [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN T1J\\+)/i                                                    // Advan Vandroid T1J+\n            ], [[MODEL, 'Vandroid T1J+'], [VENDOR, 'Advan'], [TYPE, TABLET]], [\n            /(ADVAN S4A)/i                                                      // Advan Vandroid S4A\n            ], [[MODEL, 'Vandroid S4A'], [VENDOR, 'Advan'], [TYPE, MOBILE]], [\n\n            /(V972M)/i                                                          // ZTE V972M\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n\n            /(i-mobile)\\s(IQ\\s[\\d\\.]+)/i                                        // i-mobile IQ\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(IQ6.3)/i                                                          // i-mobile IQ IQ 6.3\n            ], [[MODEL, 'IQ 6.3'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n            /(i-mobile)\\s(i-style\\s[\\d\\.]+)/i                                   // i-mobile i-STYLE\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(i-STYLE2.1)/i                                                     // i-mobile i-STYLE 2.1\n            ], [[MODEL, 'i-STYLE 2.1'], [VENDOR, 'i-mobile'], [TYPE, MOBILE]], [\n\n            /(mobiistar touch LAI 512)/i                                        // mobiistar touch LAI 512\n            ], [[MODEL, 'Touch LAI 512'], [VENDOR, 'mobiistar'], [TYPE, MOBILE]], [\n\n            /////////////\n            // END TODO\n            ///////////*/\n\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\\/([\\w\\.]+)/i,     // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]+).*(gecko)/i                                           // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s]+\\w)*/i,                  // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]+)*/i,                                    // Blackberry\n            /(tizen)[\\/\\s]([\\w\\.]+)/i,                                          // Tizen\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|contiki)[\\/\\s-]?([\\w\\.]+)*/i,\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki\n            /linux;.+(sailfish);/i                                              // Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]+)*/i                 // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w+)*/i,                                           // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]+)*/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]+)*/i,                                       // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]+)*/i                                               // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.]+\\d)*/i                                           // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]+)*/i                   // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                  // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]+(?:.*os\\s([\\w]+)*\\slike\\smac|;\\sopera)/i                // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]+\\w)*/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]+)*/i,                            // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.]*)*/i,                               // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS\n            /(unix)\\s?([\\w\\.]+)*/i                                              // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var Browser = function (name, version) {\n        this[NAME] = name;\n        this[VERSION] = version;\n    };\n    var CPU = function (arch) {\n        this[ARCHITECTURE] = arch;\n    };\n    var Device = function (vendor, model, type) {\n        this[VENDOR] = vendor;\n        this[MODEL] = model;\n        this[TYPE] = type;\n    };\n    var Engine = Browser;\n    var OS = Browser;\n\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n        var browser = new Browser();\n        var cpu = new CPU();\n        var device = new Device();\n        var engine = new Engine();\n        var os = new OS();\n\n        this.getBrowser = function () {\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            browser = new Browser();\n            cpu = new CPU();\n            device = new Device();\n            engine = new Engine();\n            os = new OS();\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    //UAParser.Utils = util;\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if (typeof $ !== UNDEF_TYPE) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};","\n/**\n * toxic-utils v0.1.6\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport { isArray, isObject, isPrimitive, isString, isVoid } from 'toxic-predicate-functions';\n\n/**\n * the handler to generate an deep traversal handler\n * @param  {Function} fn the function you wanna run when you reach in the deep property\n * @return {Function}    the handler\n */\nfunction genTraversalHandler(fn) {\n  function recursiveFn(source, target, key) {\n    if (isArray(source) || isObject(source)) {\n      target = isPrimitive(target) ? isObject(source) ? {} : [] : target;\n      for (var _key in source) {\n        // $FlowFixMe: support computed key here\n        target[_key] = recursiveFn(source[_key], target[_key], _key);\n      }\n      return target;\n    }\n    return fn(source, target, key);\n  }\n  return recursiveFn;\n}\nvar _deepAssign = genTraversalHandler(function (val) {\n  return val;\n});\n/**\n * deeply clone an object\n * @param  {Array|Object} source if you pass in other type, it will throw an error\n * @return {clone-target}        the new Object\n */\nfunction deepClone(source) {\n  if (isPrimitive(source)) {\n    throw new TypeError('deepClone only accept non primitive type');\n  }\n  return _deepAssign(source);\n}\n/**\n * merge multiple objects\n * @param  {...Object} args [description]\n * @return {merge-object}         [description]\n */\nfunction deepAssign() {\n  for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  if (args.length < 2) {\n    throw new Error('deepAssign accept two and more argument');\n  }\n  for (var i = args.length - 1; i > -1; i--) {\n    if (isPrimitive(args[i])) {\n      throw new TypeError('deepAssign only accept non primitive type');\n    }\n  }\n  var target = args.shift();\n  args.forEach(function (source) {\n    return _deepAssign(source, target);\n  });\n  return target;\n}\n\n/**\n * camelize any string, e.g hello world -> helloWorld\n * @param  {string} str only accept string!\n * @return {string}     camelize string\n */\nfunction camelize(str, isBig) {\n  return str.replace(/(^|[^a-zA-Z]+)([a-zA-Z])/g, function (match, spilt, initials, index) {\n    return !isBig && index === 0 ? initials.toLowerCase() : initials.toUpperCase();\n  });\n}\n/**\n * hypenate any string e.g hello world -> hello-world\n * @param  {string} str only accept string\n * @return {string}\n */\nfunction hypenate(str) {\n  return camelize(str).replace(/([A-Z])/g, function (match) {\n    return '-' + match.toLowerCase();\n  });\n}\n\n/**\n * bind the function with some context. we have some fallback strategy here\n * @param {function} fn the function which we need to bind the context on\n * @param {any} context the context object\n */\nfunction bind(fn, context) {\n  if (fn.bind) {\n    return fn.bind(context);\n  } else if (fn.apply) {\n    return function __autobind__() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key3 = 0; _key3 < _len2; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return fn.apply(context, args);\n    };\n  } else {\n    return function __autobind__() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key4 = 0; _key4 < _len3; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return fn.call.apply(fn, [context].concat(_toConsumableArray(args)));\n    };\n  }\n}\n\n/**\n * generate an uuid\n */\nfunction uuid() {\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();\n}\n/**\n * generate an random number which length is 4\n */\nfunction S4() {\n  return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n}\n\n/**\n * generate an random number with specific length\n */\nfunction rand(length) {\n  var str = '';\n  while (str.length < length) {\n    str += S4();\n  }\n  return str.slice(0, length);\n}\n\n/**\n * get an deep property\n */\nfunction getDeepProperty(obj, keys) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref$throwError = _ref.throwError,\n      throwError = _ref$throwError === undefined ? false : _ref$throwError,\n      backup = _ref.backup;\n\n  if (isString(keys)) {\n    keys = keys.split('.');\n  }\n  if (!isArray(keys)) {\n    throw new TypeError('keys of getDeepProperty must be string or Array<string>');\n  }\n  var read = [];\n  var target = obj;\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    if (isVoid(target)) {\n      if (throwError) {\n        throw new Error('obj' + (read.length > 0 ? '.' + read.join('.') : ' itself') + ' is ' + target);\n      } else {\n        return backup;\n      }\n    }\n    target = target[key];\n    read.push(key);\n  }\n  return target;\n}\n\nexport { genTraversalHandler, deepClone, deepAssign, camelize, hypenate, bind, uuid, S4, rand, getDeepProperty };\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if (Observer) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    var promise = Promise.resolve();\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value);\n            if (domain) domain.exit();\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  if (promise._h == 1) return false;\n  var chain = promise._a || promise._c;\n  var i = 0;\n  var reaction;\n  while (chain.length > i) {\n    reaction = chain[i++];\n    if (reaction.fail || !isUnhandled(reaction.promise)) return false;\n  } return true;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","\n/**\n * chimee-helper-utils v0.2.0\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _Promise from 'babel-runtime/core-js/promise';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\nimport _Array$from from 'babel-runtime/core-js/array/from';\nimport { isArray, isFunction } from 'toxic-predicate-functions';\n\n// **********************  judgement   ************************\n/**\n * check if the code running in browser environment (not include worker env)\n * @returns {Boolean}\n */\nvar inBrowser = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\n// **********************  对象操作  ************************\n/**\n * 转变一个类数组对象为数组\n */\nfunction makeArray(obj) {\n  return _Array$from(obj);\n}\n\n/**\n * sort Object attributes by function\n * and transfer them into array\n * @param  {Object} obj Object form from numric\n * @param  {Function} fn sort function\n * @return {Array} the sorted attirbutes array\n */\nfunction transObjectAttrIntoArray(obj) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (a, b) {\n    return +a - +b;\n  };\n\n  return _Object$keys(obj).sort(fn).reduce(function (order, key) {\n    return order.concat(obj[key]);\n  }, []);\n}\n/**\n * run a queue one by one.If include function reject or return false it will stop\n * @param  {Array} queue the queue which we want to run one by one\n * @return {Promise}    tell us whether a queue run finished\n */\nfunction runRejectableQueue(queue) {\n  for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  return new _Promise(function (resolve, reject) {\n    var step = function step(index) {\n      if (index >= queue.length) {\n        resolve();\n        return;\n      }\n      var result = isFunction(queue[index]) ? queue[index].apply(queue, _toConsumableArray(args)) : queue[index];\n      if (result === false) return reject('stop');\n      return _Promise.resolve(result).then(function () {\n        return step(index + 1);\n      }).catch(function (err) {\n        return reject(err || 'stop');\n      });\n    };\n    step(0);\n  });\n}\n/**\n * run a queue one by one.If include function return false it will stop\n * @param  {Array} queue the queue which we want to run one by one\n * @return {boolean} tell the user if the queue run finished\n */\nfunction runStoppableQueue(queue) {\n  for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  var step = function step(index) {\n    if (index >= queue.length) {\n      return true;\n    }\n    var result = isFunction(queue[index]) ? queue[index].apply(queue, _toConsumableArray(args)) : queue[index];\n    if (result === false) return false;\n    return step(++index);\n  };\n  return step(0);\n}\n\nfunction checkContinuation(uint8array, start, checkLength) {\n  var array = uint8array;\n  if (start + checkLength < array.length) {\n    while (checkLength--) {\n      if ((array[++start] & 0xC0) !== 0x80) {\n        return false;\n      }\n    }\n    return true;\n  } else {\n    return false;\n  }\n}\n\n// decodeUTF8\nfunction decodeUTF8(uint8array) {\n  var out = [];\n  var input = uint8array;\n  var i = 0;\n  var length = uint8array.length;\n\n  while (i < length) {\n    if (input[i] < 0x80) {\n      out.push(String.fromCharCode(input[i]));\n      ++i;\n      continue;\n    } else if (input[i] < 0xC0) {\n      // fallthrough\n    } else if (input[i] < 0xE0) {\n      if (checkContinuation(input, i, 1)) {\n        var ucs4 = (input[i] & 0x1F) << 6 | input[i + 1] & 0x3F;\n        if (ucs4 >= 0x80) {\n          out.push(String.fromCharCode(ucs4 & 0xFFFF));\n          i += 2;\n          continue;\n        }\n      }\n    } else if (input[i] < 0xF0) {\n      if (checkContinuation(input, i, 2)) {\n        var _ucs = (input[i] & 0xF) << 12 | (input[i + 1] & 0x3F) << 6 | input[i + 2] & 0x3F;\n        if (_ucs >= 0x800 && (_ucs & 0xF800) !== 0xD800) {\n          out.push(String.fromCharCode(_ucs & 0xFFFF));\n          i += 3;\n          continue;\n        }\n      }\n    } else if (input[i] < 0xF8) {\n      if (checkContinuation(input, i, 3)) {\n        var _ucs2 = (input[i] & 0x7) << 18 | (input[i + 1] & 0x3F) << 12 | (input[i + 2] & 0x3F) << 6 | input[i + 3] & 0x3F;\n        if (_ucs2 > 0x10000 && _ucs2 < 0x110000) {\n          _ucs2 -= 0x10000;\n          out.push(String.fromCharCode(_ucs2 >>> 10 | 0xD800));\n          out.push(String.fromCharCode(_ucs2 & 0x3FF | 0xDC00));\n          i += 4;\n          continue;\n        }\n      }\n    }\n    out.push(String.fromCharCode(0xFFFD));\n    ++i;\n  }\n  return out.join('');\n}\n\nfunction debounce(func, wait, immediate) {\n  // immediate默认为false\n  var timeout = void 0,\n      args = void 0,\n      context = void 0,\n      timestamp = void 0,\n      result = void 0;\n\n  var later = function later() {\n    // 当wait指定的时间间隔期间多次调用_.debounce返回的函数，则会不断更新timestamp的值，导致last < wait && last >= 0一直为true，从而不断启动新的计时器延时执行func\n    var last = new Date() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function () {\n    context = this;\n    args = arguments;\n    timestamp = new Date();\n    // 第一次调用该方法时，且immediate为true，则调用func函数\n    var callNow = immediate && !timeout;\n    // 在wait指定的时间间隔内首次调用该方法，则启动计时器定时调用func函数\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n}\n\n/**\n * 函数节流（控制函数执行频率）\n * @param  {Function} func 要节流控制的函数，必填\n * @return {Number}   wait 等待时长\n * @return {Object}   options {\n *                      leading<是否首次调用立即执行，否：则按wait设定等待到期后调用才执行>:false,\n *                      trailing<是否在调用并未到期时启用定时器，以保证一定执行>:true\n *                    }\n * @return {Object}   cxt 上下文对象\n * @return {Function}\n */\nfunction throttle(func, wait, options, cxt) {\n  /* options的默认值\n   *  表示首次调用返回值方法时，会马上调用func；否则仅会记录当前时刻，当第二次调用的时间间隔超过wait时，才调用func。\n   *  options.leading = true;\n   * 表示当调用方法时，未到达wait指定的时间间隔，则启动计时器延迟调用func函数，若后续在既未达到wait指定的时间间隔和func函数又未被调用的情况下调用返回值方法，则被调用请求将被丢弃。\n   *  options.trailing = true;\n   * 注意：当options.trailing = false时，效果与上面的简单实现效果相同\n   */\n  var context = void 0,\n      args = void 0,\n      result = void 0;\n  var timeout = null;\n  var previous = 0;\n  if (!options) options = {};\n  var later = function later() {\n    previous = options.leading === false ? 0 : new Date() - 0;\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n  wait = wait || 0;\n  return function () {\n    var now = new Date();\n    if (!previous && options.leading === false) previous = now;\n    // 计算剩余时间\n    var remaining = wait - (now - previous);\n    if (cxt) {\n      context = cxt;\n    } else {\n      context = this;\n    }\n\n    args = arguments;\n    // 当到达wait指定的时间间隔，则调用func函数\n    // 精彩之处：按理来说remaining <= 0已经足够证明已经到达wait的时间间隔，但这里还考虑到假如客户端修改了系统时间则马上执行func函数。\n    if (remaining <= 0 || remaining > wait) {\n      // 由于setTimeout存在最小时间精度问题，因此会存在到达wait的时间间隔，但之前设置的setTimeout操作还没被执行，因此为保险起见，这里先清理setTimeout操作\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      // options.trailing=true时，延时执行func函数\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n}\n\n// requestAnimationFrame\nvar raf = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame || function (cb) {\n  return setTimeout(cb, 17);\n};\n\n// cancelAnimationFrame\nvar caf = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.msCancelAnimationFrame || window.oCancelAnimationFrame || function (id) {\n  clearTimeout(id);\n};\n\n// 根据要求的位数，将9格式化为 09\\009\\0009...\nfunction strRepeat(num, bit) {\n  var pBit = bit;\n  num = '' + (num || '');\n  var numLen = num.length;\n  bit = (bit || numLen) - numLen;\n  var paddingStr = bit > 0 ? num.repeat ? '0'.repeat(bit) : new Array(bit + 1).join('0') : '';\n  return (paddingStr + num).slice(0, pBit);\n}\n\n// video 时间格式化\nfunction formatTime(time) {\n  var hh = Math.floor(time / 3600);\n  time = Math.floor(time % 3600);\n  var mm = strRepeat(Math.floor(time / 60), 2);\n  time = Math.floor(time % 60);\n  var ss = strRepeat(time, 2);\n  return hh >= 1 ? hh + ':' + mm + ':' + ss : mm + ':' + ss;\n}\n\n/**\n * 追加样式代码到head的style标签，不存在则创建\n * @param {String} cssText 样式文本\n * @return {HTMLElement}\n */\nfunction appendCSS(cssText) {\n  var doc = document;\n  var styleEl = doc.querySelector('style');\n  if (!styleEl) {\n    styleEl = doc.createElement('style');\n    var header = doc.querySelector('head');\n    header && header.appendChild(styleEl);\n  }\n  styleEl.appendChild(doc.createTextNode(cssText));\n  return styleEl;\n}\n\n/**\n * 格式化日期对象为：年-月-日 时:分:秒.毫秒\n * @param {Date} date Date日期对象\n * @param {String} pattern 要输出的日期格式，默认：`yyyy-MM-dd hh:mm:ss.i`\n * @return {String}\n */\nfunction formatDate() {\n  var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n  var pattern = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'yyyy-MM-dd hh:mm:ss.i';\n\n  var year = date.getFullYear().toString();\n  var fields = {\n    M: date.getMonth() + 1,\n    d: date.getDate(),\n    h: date.getHours(),\n    m: date.getMinutes(),\n    s: date.getSeconds(),\n    i: date.getMilliseconds()\n  };\n  pattern = pattern.replace(/(y+)/ig, function (_, yearPattern) {\n    return year.substr(4 - Math.min(4, yearPattern.length));\n  });\n\n  var _loop = function _loop(i) {\n    pattern = pattern.replace(new RegExp('(' + i + '+)', 'g'), function (_, pattStr) {\n      return (fields[i] < 10 && pattStr.length > 1 ? '0' : '') + fields[i];\n    });\n  };\n\n  for (var i in fields) {\n    _loop(i);\n  }\n  return pattern;\n}\n\n/**\n * 读取本地存储的值（不支持localStorage则降级到cookie）\n * @param {String} key 目标数据key\n * @return {String}\n */\nfunction getLocalStorage(key) {\n  try {\n    return window.localStorage.getItem(key);\n  } catch (e) {\n    try {\n      var regRt = document.cookie.match(new RegExp('(^| )' + key + '=([^;]*)(;|$)'));\n      return isArray(regRt) ? unescape(regRt[2]) : '';\n    } catch (e) {\n      return '';\n    }\n  }\n}\n/**\n * 将指定key对应值写入本地存储（不支持localStorage则降级到cookie）\n * @param {String} key\n * @param {String} val\n * @return {String}\n */\nfunction setLocalStorage(key, val) {\n  try {\n    window.localStorage.setItem(key, val);\n  } catch (e) {\n    var expires = new Date();\n    // 默认存储300天\n    expires.setTime(expires.getTime() + 24 * 3600 * 1000 * 300);\n    try {\n      document.cookie = key + '=' + escape(val) + ';expires=' + expires.toUTCString() + ';path=/;';\n    } catch (e) {}\n  }\n}\n\nexport { inBrowser, makeArray, transObjectAttrIntoArray, runRejectableQueue, runStoppableQueue, decodeUTF8, debounce, throttle, raf, caf, strRepeat, formatTime, appendCSS, formatDate, getLocalStorage, setLocalStorage };\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","\n/**\n * chimee-helper-events v0.1.0\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _Object$assign from 'babel-runtime/core-js/object/assign';\nimport _Object$create from 'babel-runtime/core-js/object/create';\nimport { isFunction, isObject } from 'toxic-predicate-functions';\n\n/**\n* @module event\n* @author huzunjie\n* @description 自定义事件基础类\n*/\n\n/* 缓存事件监听方法及包装，内部数据格式：\n * targetIndex_<type:'click|mouseup|done'>: [ [\n *   function(){ ... handler ... },\n *   function(){ ... handlerWrap ... handler.apply(target, arguments) ... },\n *   isOnce\n * ]]\n */\nvar _evtListenerCache = _Object$create(null);\n_evtListenerCache.count = 0;\n\n/**\n * 得到某对象的某事件类型对应的监听队列数组\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型(这里的时间类型不只是名称，还是缓存标识，可以通过添加后缀来区分)\n * @return {Array}\n */\nfunction getEvtTypeCache(target, type) {\n\n  var evtId = target.__evt_id;\n  if (!evtId) {\n\n    /* 设置__evt_id不可枚举 */\n    Object.defineProperty(target, '__evt_id', {\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n\n    /* 空对象初始化绑定索引 */\n    evtId = target.__evt_id = ++_evtListenerCache.count;\n  }\n\n  var typeCacheKey = evtId + '_' + type;\n  var evtTypeCache = _evtListenerCache[typeCacheKey];\n  if (!evtTypeCache) {\n    evtTypeCache = _evtListenerCache[typeCacheKey] = [];\n  }\n\n  return evtTypeCache;\n}\n\n/**\n * 触发事件监听方法\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型\n * @param {Object} eventObj 触发事件时要传回的event对象\n * @return {undefined}\n */\nfunction emitEventCache(target, type, eventObj) {\n  var evt = _Object$create(null);\n  evt.type = type;\n  evt.target = target;\n  if (eventObj) {\n    _Object$assign(evt, isObject(eventObj) ? eventObj : { data: eventObj });\n  }\n  getEvtTypeCache(target, type).forEach(function (item) {\n    (item[1] || item[0]).apply(target, [evt]);\n  });\n}\n\n/**\n * 添加事件监听到缓存\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型\n * @param {Function} handler 监听函数\n * @param {Boolean} isOnce 是否单次执行\n * @param {Function} handlerWrap\n * @return {undefined}\n */\nfunction addEventCache(target, type, handler) {\n  var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var handlerWrap = arguments[4];\n\n  if (isFunction(isOnce) && !handlerWrap) {\n    handlerWrap = isOnce;\n    isOnce = undefined;\n  }\n  var handlers = [handler, undefined, isOnce];\n  if (isOnce && !handlerWrap) {\n    handlerWrap = function handlerWrap() {\n      removeEventCache(target, type, handler, isOnce);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(target, args);\n    };\n  }\n  if (handlerWrap) {\n    handlers[1] = handlerWrap;\n  }\n  getEvtTypeCache(target, type).push(handlers);\n}\n\n/**\n * 移除事件监听\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型\n * @param {Function} handler 监听函数\n * @return {undefined}\n */\nfunction removeEventCache(target, type, handler) {\n  var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var typeCache = getEvtTypeCache(target, type);\n\n  if (handler || isOnce) {\n    /* 有指定 handler 则清除对应监听 */\n    var handlerId = -1;\n    var handlerWrap = void 0;\n    typeCache.find(function (item, i) {\n      if ((!handler || item[0] === handler) && (!isOnce || item[2])) {\n        handlerId = i;\n        handlerWrap = item[1];\n        return true;\n      }\n    });\n    if (handlerId !== -1) {\n      typeCache.splice(handlerId, 1);\n    }\n    return handlerWrap;\n  } else {\n    /* 未指定 handler 则清除type对应的所有监听 */\n    typeCache.length = 0;\n  }\n}\n\n/**\n * @class CustEvent\n * @description\n * Event 自定义事件类\n * 1. 可以使用不传参得到的实例作为eventBus使用\n * 2. 可以通过指定target，用多个实例操作同一target对象的事件管理\n * 3. 当设定target时，可以通过设置assign为true，来给target实现\"on\\once\\off\\emit\"方法\n * @param  {Object}  target 发生事件的对象（空则默认为event实例）\n * @param  {Boolean}  assign 是否将\"on\\once\\off\\emit\"方法实现到target对象上\n * @return {event}\n */\nvar CustEvent = function () {\n  function CustEvent(target, assign) {\n    var _this = this;\n\n    _classCallCheck(this, CustEvent);\n\n    /* 设置__target不可枚举 */\n    Object.defineProperty(this, '__target', {\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n    this.__target = this;\n\n    if (target) {\n\n      if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object') {\n        throw new Error('CusEvent target are not object');\n      }\n      this.__target = target;\n\n      /* 为target实现on\\once\\off\\emit */\n      if (assign) {\n        ['on', 'once', 'off', 'emit'].forEach(function (mth) {\n          target[mth] = _this[mth];\n        });\n      }\n    }\n  }\n\n  /**\n   * 添加事件监听\n   * @param {String} type 事件类型\n   * @param {Function} handler 监听函数\n   * @param {Boolean} isOnce 单次监听类型\n   * @return {event}\n   */\n\n\n  _createClass(CustEvent, [{\n    key: 'on',\n    value: function on(type, handler) {\n      var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      addEventCache(this.__target, type, handler, isOnce);\n      return this;\n    }\n\n    /**\n     * 添加事件监听,并且只执行一次\n     * @param {String} type 事件类型\n     * @param {Function} handler 监听函数\n     * @return {event}\n     */\n\n  }, {\n    key: 'once',\n    value: function once(type, handler) {\n      return this.on(type, handler, true);\n    }\n\n    /**\n     * 移除事件监听\n     * @param {String} type 事件类型\n     * @param {Function} handler 监听函数(不指定handler则清除type对应的所有事件监听)\n     * @param {Boolean} isOnce 单次监听类型\n     * @return {event}\n     */\n\n  }, {\n    key: 'off',\n    value: function off(type, handler) {\n      var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      removeEventCache(this.__target, type, handler, isOnce);\n      return this;\n    }\n\n    /**\n     * 触发事件监听函数\n     * @param {String} type 事件类型\n     * @return {event}\n     */\n\n  }, {\n    key: 'emit',\n    value: function emit(type, data) {\n      emitEventCache(this.__target, type, { data: data });\n      return this;\n    }\n  }]);\n\n  return CustEvent;\n}();\n\nexport { emitEventCache, addEventCache, removeEventCache, CustEvent };\n","\n/**\n * chimee-helper-dom v0.1.2\n * (c) 2017 huzunjie\n * Released under MIT\n */\n\nimport _Object$assign from 'babel-runtime/core-js/object/assign';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _Array$from from 'babel-runtime/core-js/array/from';\nimport { isArray, isFunction, isObject, isString } from 'toxic-predicate-functions';\nimport _typeof from 'babel-runtime/helpers/typeof';\nimport _Object$create from 'babel-runtime/core-js/object/create';\nimport _Object$defineProperty from 'babel-runtime/core-js/object/define-property';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _Promise from 'babel-runtime/core-js/promise';\nimport _Object$keys from 'babel-runtime/core-js/object/keys';\n\n/**\n * chimee-helper-events v0.1.0\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\n/**\n* @module event\n* @author huzunjie\n* @description 自定义事件基础类\n*/\n\n/* 缓存事件监听方法及包装，内部数据格式：\n * targetIndex_<type:'click|mouseup|done'>: [ [\n *   function(){ ... handler ... },\n *   function(){ ... handlerWrap ... handler.apply(target, arguments) ... },\n *   isOnce\n * ]]\n */\nvar _evtListenerCache = _Object$create(null);\n_evtListenerCache.count = 0;\n\n/**\n * 得到某对象的某事件类型对应的监听队列数组\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型(这里的时间类型不只是名称，还是缓存标识，可以通过添加后缀来区分)\n * @return {Array}\n */\nfunction getEvtTypeCache(target, type) {\n\n  var evtId = target.__evt_id;\n  if (!evtId) {\n\n    /* 设置__evt_id不可枚举 */\n    Object.defineProperty(target, '__evt_id', {\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n\n    /* 空对象初始化绑定索引 */\n    evtId = target.__evt_id = ++_evtListenerCache.count;\n  }\n\n  var typeCacheKey = evtId + '_' + type;\n  var evtTypeCache = _evtListenerCache[typeCacheKey];\n  if (!evtTypeCache) {\n    evtTypeCache = _evtListenerCache[typeCacheKey] = [];\n  }\n\n  return evtTypeCache;\n}\n\n/**\n * 触发事件监听方法\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型\n * @param {Object} eventObj 触发事件时要传回的event对象\n * @return {undefined}\n */\nfunction emitEventCache(target, type, eventObj) {\n  var evt = _Object$create(null);\n  evt.type = type;\n  evt.target = target;\n  if (eventObj) {\n    _Object$assign(evt, isObject(eventObj) ? eventObj : { data: eventObj });\n  }\n  getEvtTypeCache(target, type).forEach(function (item) {\n    (item[1] || item[0]).apply(target, [evt]);\n  });\n}\n\n/**\n * 添加事件监听到缓存\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型\n * @param {Function} handler 监听函数\n * @param {Boolean} isOnce 是否单次执行\n * @param {Function} handlerWrap\n * @return {undefined}\n */\nfunction addEventCache(target, type, handler) {\n  var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var handlerWrap = arguments[4];\n\n  if (isFunction(isOnce) && !handlerWrap) {\n    handlerWrap = isOnce;\n    isOnce = undefined;\n  }\n  var handlers = [handler, undefined, isOnce];\n  if (isOnce && !handlerWrap) {\n    handlerWrap = function handlerWrap() {\n      removeEventCache(target, type, handler, isOnce);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(target, args);\n    };\n  }\n  if (handlerWrap) {\n    handlers[1] = handlerWrap;\n  }\n  getEvtTypeCache(target, type).push(handlers);\n}\n\n/**\n * 移除事件监听\n * @param  {Object}  target 发生事件的对象\n * @param {String} type 事件类型\n * @param {Function} handler 监听函数\n * @return {undefined}\n */\nfunction removeEventCache(target, type, handler) {\n  var isOnce = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n  var typeCache = getEvtTypeCache(target, type);\n\n  if (handler || isOnce) {\n    /* 有指定 handler 则清除对应监听 */\n    var handlerId = -1;\n    var handlerWrap = void 0;\n    typeCache.find(function (item, i) {\n      if ((!handler || item[0] === handler) && (!isOnce || item[2])) {\n        handlerId = i;\n        handlerWrap = item[1];\n        return true;\n      }\n    });\n    if (handlerId !== -1) {\n      typeCache.splice(handlerId, 1);\n    }\n    return handlerWrap;\n  } else {\n    /* 未指定 handler 则清除type对应的所有监听 */\n    typeCache.length = 0;\n  }\n}\n\n/**\n * @class CustEvent\n * @description\n * Event 自定义事件类\n * 1. 可以使用不传参得到的实例作为eventBus使用\n * 2. 可以通过指定target，用多个实例操作同一target对象的事件管理\n * 3. 当设定target时，可以通过设置assign为true，来给target实现\"on\\once\\off\\emit\"方法\n * @param  {Object}  target 发生事件的对象（空则默认为event实例）\n * @param  {Boolean}  assign 是否将\"on\\once\\off\\emit\"方法实现到target对象上\n * @return {event}\n */\nvar CustEvent = function () {\n  function CustEvent(target, assign) {\n    var _this = this;\n\n    _classCallCheck(this, CustEvent);\n\n    /* 设置__target不可枚举 */\n    Object.defineProperty(this, '__target', {\n      writable: true,\n      enumerable: false,\n      configurable: true\n    });\n    this.__target = this;\n\n    if (target) {\n\n      if ((typeof target === 'undefined' ? 'undefined' : _typeof(target)) !== 'object') {\n        throw new Error('CusEvent target are not object');\n      }\n      this.__target = target;\n\n      /* 为target实现on\\once\\off\\emit */\n      if (assign) {\n        ['on', 'once', 'off', 'emit'].forEach(function (mth) {\n          target[mth] = _this[mth];\n        });\n      }\n    }\n  }\n\n  /**\n   * 添加事件监听\n   * @param {String} type 事件类型\n   * @param {Function} handler 监听函数\n   * @param {Boolean} isOnce 单次监听类型\n   * @return {event}\n   */\n\n\n  _createClass(CustEvent, [{\n    key: 'on',\n    value: function on(type, handler) {\n      var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      addEventCache(this.__target, type, handler, isOnce);\n      return this;\n    }\n\n    /**\n     * 添加事件监听,并且只执行一次\n     * @param {String} type 事件类型\n     * @param {Function} handler 监听函数\n     * @return {event}\n     */\n\n  }, {\n    key: 'once',\n    value: function once(type, handler) {\n      return this.on(type, handler, true);\n    }\n\n    /**\n     * 移除事件监听\n     * @param {String} type 事件类型\n     * @param {Function} handler 监听函数(不指定handler则清除type对应的所有事件监听)\n     * @param {Boolean} isOnce 单次监听类型\n     * @return {event}\n     */\n\n  }, {\n    key: 'off',\n    value: function off(type, handler) {\n      var isOnce = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      removeEventCache(this.__target, type, handler, isOnce);\n      return this;\n    }\n\n    /**\n     * 触发事件监听函数\n     * @param {String} type 事件类型\n     * @return {event}\n     */\n\n  }, {\n    key: 'emit',\n    value: function emit(type, data) {\n      emitEventCache(this.__target, type, { data: data });\n      return this;\n    }\n  }]);\n\n  return CustEvent;\n}();\n\n/**\n * chimee-helper-utils v0.1.3\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\n// **********************  judgement   ************************\n/**\n * check if the code running in browser environment (not include worker env)\n * @returns {Boolean}\n */\nvar inBrowser = typeof window !== 'undefined' && Object.prototype.toString.call(window) !== '[object Object]';\n\n// **********************  对象操作  ************************\n/**\n * 转变一个类数组对象为数组\n */\nfunction makeArray(obj) {\n  return _Array$from(obj);\n}\n\n/**\n* @module dom\n* @author huzunjie\n* @description 一些常用的DOM判断及操作方法，可以使用dom.$('*')包装DOM，实现类jQuery的链式操作；当然这里的静态方法也可以直接使用。\n*/\n\nvar _divEl = document.createElement('div');\nvar _textAttrName = 'innerText';\n'textContent' in _divEl && (_textAttrName = 'textContent');\nvar _arrPrototype = Array.prototype;\n\n/**\n * 读取HTML元素属性值\n * @param {HTMLElement} el 目标元素\n * @param {String} attrName 目标属性名称\n * @return {String}\n */\nfunction getAttr(el, attrName) {\n  return el.getAttribute(attrName);\n}\n\n/**\n * 设置HTML元素属性值\n * @param {HTMLElement} el 目标元素\n * @param {String} attrName 目标属性名称\n * @param {String} attrVal 目标属性值\n */\nfunction setAttr(el, attrName, attrVal) {\n  if (attrVal === undefined) {\n    el.removeAttribute(attrName);\n  } else {\n    el.setAttribute(attrName, attrVal);\n  }\n}\n\n/**\n * 为HTML元素添加className\n * @param {HTMLElement} el 目标元素\n * @param {String} cls 要添加的className（多个以空格分割）\n */\nfunction addClassName(el, cls) {\n  if (!cls || !(cls = cls.trim())) {\n    return;\n  }\n  var clsArr = cls.split(/\\s+/);\n  if (el.classList) {\n    clsArr.forEach(function (c) {\n      return el.classList.add(c);\n    });\n  } else {\n    var curCls = ' ' + (el.className || '') + ' ';\n    clsArr.forEach(function (c) {\n      curCls.indexOf(' ' + c + ' ') === -1 && (curCls += ' ' + c);\n    });\n    el.className = curCls.trim();\n  }\n}\n\n/**\n * 为HTML元素移除className\n * @param {HTMLElement} el 目标元素\n * @param {String} cls 要移除的className（多个以空格分割）\n */\nfunction removeClassName(el, cls) {\n  if (!cls || !(cls = cls.trim())) {\n    return;\n  }\n\n  var clsArr = cls.split(/\\s+/);\n  if (el.classList) {\n    clsArr.forEach(function (c) {\n      return el.classList.remove(c);\n    });\n  } else {\n    var curCls = ' ' + el.className + ' ';\n    clsArr.forEach(function (c) {\n      var tar = ' ' + c + ' ';\n      while (curCls.indexOf(tar) !== -1) {\n        curCls = curCls.replace(tar, ' ');\n      }\n    });\n    el.className = curCls.trim();\n  }\n}\n\n/**\n * 检查HTML元素是否已设置className\n * @param {HTMLElement} el 目标元素\n * @param {String} className 要检查的className\n * @return {Boolean}\n */\nfunction hasClassName(el, className) {\n  return new RegExp('(?:^|\\\\s)' + className + '(?=\\\\s|$)').test(el.className);\n}\n\n/**\n * 为HTML元素移除事件监听\n * @param {HTMLElement} el 目标元素\n * @param {String} type 事件名称\n * @param {Function} handler 处理函数\n * @param {Boolean} once 是否只监听一次\n * @param {Boolean} capture 是否在捕获阶段的监听\n */\nfunction removeEvent(el, type, handler) {\n  var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  if (once) {\n    /* 尝试从缓存中读取包装后的方法 */\n    var handlerWrap = removeEventCache(el, type + '_once', handler);\n    if (handlerWrap) {\n      handler = handlerWrap;\n    }\n  }\n  el.removeEventListener(type, handler, capture);\n}\n\n/**\n * 为HTML元素添加事件监听\n * @param {HTMLElement} el 目标元素\n * @param {String} type 事件名称\n * @param {Function} handler 处理函数\n * @param {Boolean} once 是否只监听一次\n * @param {Boolean} capture 是否在捕获阶段监听\n */\nfunction addEvent(el, type, handler) {\n  var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  if (once) {\n    var oldHandler = handler;\n    handler = function () {\n      return function () {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        oldHandler.apply(this, args);\n        removeEvent(el, type, handler, once, capture);\n      };\n    }();\n    /* 将包装后的方法记录到缓存中 */\n    addEventCache(el, type + '_once', oldHandler, handler);\n  }\n\n  el.addEventListener(type, handler, capture);\n}\n\n/**\n * 为HTML元素添加事件代理\n * @param {HTMLElement} el 目标元素\n * @param {String} selector 要被代理的元素\n * @param {String} type 事件名称\n * @param {Function} handler 处理函数\n * @param {Boolean} capture 是否在捕获阶段监听\n */\nfunction addDelegate(el, selector, type, handler) {\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n\n  var handlerWrap = function handlerWrap(e) {\n    var targetEls = findParents(e.target || e.srcElement, el, true);\n    var targetEl = query(selector, el, true).find(function (seEl) {\n      return targetEls.find(function (tgEl) {\n        return seEl === tgEl;\n      });\n    });\n    targetEl && handler.apply(targetEl, arguments);\n  };\n  /* 将包装后的方法记录到缓存中 */\n  addEventCache(el, type + '_delegate_' + selector, handler, handlerWrap);\n  el.addEventListener(type, handlerWrap, capture);\n}\n\n/**\n * 为HTML元素移除事件代理\n * @param {HTMLElement} el 目标元素\n * @param {String} selector 要被代理的元素\n * @param {String} type 事件名称\n * @param {Function} handler 处理函数\n * @param {Boolean} capture 是否在捕获阶段监听\n */\nfunction removeDelegate(el, selector, type, handler) {\n  var capture = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  /* 尝试从缓存中读取包装后的方法 */\n  var handlerWrap = removeEventCache(el, type + '_delegate_' + selector, handler);\n  handlerWrap && el.removeEventListener(type, handlerWrap, capture);\n}\n\n/**\n * 读取HTML元素样式值\n * @param {HTMLElement} el 目标元素\n * @param {String} key 样式key\n * @return {String}\n */\nfunction getStyle(el, key) {\n  return (el.currentStyle || document.defaultView.getComputedStyle(el, null))[key] || el.style[key];\n}\n\n/**\n * 设置HTML元素样式值\n * @param {HTMLElement} el 目标元素\n * @param {String} key 样式key\n * @param {String} val 样式值\n */\nfunction setStyle(el, key, val) {\n  if (isObject(key)) {\n    for (var k in key) {\n      setStyle(el, k, key[k]);\n    }\n  } else {\n    el.style[key] = val;\n  }\n}\n\n/**\n * 根据选择器查询目标元素\n * @param {String} selector 选择器,用于 querySelectorAll\n * @param {HTMLElement} container 父容器\n * @param {Boolean} toArray 强制输出为数组\n * @return {NodeList|Array}\n */\nfunction query(selector) {\n  var container = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n  var toArray = arguments[2];\n\n  var retNodeList = container.querySelectorAll(selector);\n  return toArray ? _Array$from(retNodeList) : retNodeList;\n}\n\n/**\n * 从DOM树中移除el\n * @param {HTMLElement} el 目标元素\n */\nfunction removeEl(el) {\n  el.parentNode.removeChild(el);\n}\n\n/**\n * 查找元素的父节点们\n * @param {HTMLElement} el 目标元素\n * @param {HTMLElement} endEl 最大父容器（不指定则找到html）\n * @param {Boolean} haveEl 包含当前元素\n * @param {Boolean} haveEndEl 包含设定的最大父容器\n */\nfunction findParents(el) {\n  var endEl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var haveEl = arguments[2];\n  var haveEndEl = arguments[3];\n\n  var retEls = [];\n  if (haveEl) {\n    retEls.push(el);\n  }\n  while (el && el.parentNode !== endEl) {\n    el = el.parentNode;\n    el && retEls.push(el);\n  }\n  if (haveEndEl) {\n    retEls.push(endEl);\n  }\n  return retEls;\n}\n\n/**\n * 根据选择器查询并得到目标元素的wrap包装器\n * @param {String} selector 选择器,另外支持 HTMLString||NodeList||NodeArray||HTMLElement\n * @param {HTMLElement} container 父容器\n * @return {Object}\n */\nfunction $(selector, container) {\n  return selector.constructor === NodeWrap ? selector : new NodeWrap(selector, container);\n}\n\n/**\n * @class NodeWrap\n * @description\n * NodeWrap DOM包装器，用以实现基本的链式操作\n * new dom.NodeWrap('*') 相当于 dom.$('*')\n * 这里面用于DOM操作的属性方法都是基于上面静态方法实现，有需要可以随时修改补充\n * @param {String} selector 选择器(兼容 String||HTMLString||NodeList||NodeArray||HTMLElement)\n * @param {HTMLElement} container 父容器（默认为document）\n */\n\nvar NodeWrap = function () {\n  function NodeWrap(selector) {\n    var container = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    _classCallCheck(this, NodeWrap);\n\n    var _this = this;\n    _this.selector = selector;\n\n    /* String||NodeList||HTMLElement 识别处理 */\n    var elsArr = void 0;\n    if (selector && selector.constructor === NodeList) {\n      /* 支持直接传入NodeList来构建包装器 */\n      elsArr = makeArray(selector);\n    } else if (isArray(selector)) {\n      /* 支持直接传入Node数组来构建包装器 */\n      elsArr = selector;\n    } else if (isString(selector)) {\n      if (selector.indexOf('<') === 0) {\n        /* 支持直接传入HTML字符串来新建DOM并构建包装器 */\n        _divEl.innerHTML = selector;\n        elsArr = query('*', _divEl, true);\n      } else {\n        /* 支持直接传入字符串选择器来查找DOM并构建包装器 */\n        elsArr = query(selector, container, true);\n      }\n    } else {\n      /* 其他任意对象直接构建包装器 */\n      elsArr = [selector];\n    }\n    _Object$assign(_this, elsArr);\n\n    /* NodeWrap本意可以 extends Array省略构造方法中下面这部分代码，但目前编译不支持 */\n    _this.length = elsArr.length;\n  }\n\n  /**\n   * 循环遍历DOM集合\n   * @param {Function} fn 遍历函数 fn(item, i)\n   * @return {Object}\n   */\n\n\n  _createClass(NodeWrap, [{\n    key: 'each',\n    value: function each() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      _arrPrototype.forEach.apply(this, args);\n      return this;\n    }\n  }, {\n    key: 'push',\n\n\n    /**\n     * 添加元素到DOM集合\n     * @param {HTMLElement} el 要加入的元素\n     * @return {this}\n     */\n    value: function push() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      _arrPrototype.push.apply(this, args);\n      return this;\n    }\n  }, {\n    key: 'splice',\n\n\n    /**\n     * 截取DOM集合片段，并得到新的包装器splice\n     * @param {Nubmer} start\n     * @param {Nubmer} count\n     * @return {NodeWrap} 新的DOM集合包装器\n     */\n    value: function splice() {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return $(_arrPrototype.splice.apply(this, args));\n    }\n  }, {\n    key: 'find',\n\n\n    /**\n     * 查找子元素\n     * @param {String} selector 选择器\n     * @return {NodeWrap} 新的DOM集合包装器\n     */\n    value: function find(selector) {\n      var childs = [];\n      this.each(function (el) {\n        childs = childs.concat(query(selector, el, true));\n      });\n      var childsWrap = $(childs);\n      childsWrap.parent = this;\n      childsWrap.selector = selector;\n      return childsWrap;\n    }\n\n    /**\n     * 添加子元素\n     * @param {HTMLElement} childEls 要添加的HTML元素\n     * @return {this}\n     */\n\n  }, {\n    key: 'append',\n    value: function append(childEls) {\n      var childsWrap = $(childEls);\n      var firstEl = this[0];\n      childsWrap.each(function (newEl) {\n        return firstEl.appendChild(newEl);\n      });\n      return this;\n    }\n\n    /**\n     * 将元素集合添加到指定容器\n     * @param {HTMLElement} parentEl 要添加到父容器\n     * @return {this}\n     */\n\n  }, {\n    key: 'appendTo',\n    value: function appendTo(parentEl) {\n      $(parentEl).append(this);\n      return this;\n    }\n\n    /**\n     * DOM集合text内容读写操作\n     * @param {String} val 文本内容（如果有设置该参数则执行写操作，否则执行读操作）\n     * @return {this}\n     */\n\n  }, {\n    key: 'text',\n    value: function text(val) {\n      if (arguments.length === 0) {\n        return this[0][_textAttrName];\n      }\n      return this.each(function (el) {\n        el[_textAttrName] = val;\n      });\n    }\n\n    /**\n     * DOM集合HTML内容读写操作\n     * @param {String} html html内容（如果有设置该参数则执行写操作，否则执行读操作）\n     * @return {this}\n     */\n\n  }, {\n    key: 'html',\n    value: function html(_html) {\n      if (arguments.length === 0) {\n        return this[0].innerHTML;\n      }\n      return this.each(function (el) {\n        el.innerHTML = _html;\n      });\n    }\n\n    /**\n     * DOM集合属性读写操作\n     * @param {String} name 属性名称\n     * @param {String} val 属性值（如果有设置该参数则执行写操作，否则执行读操作）\n     * @return {this}\n     */\n\n  }, {\n    key: 'attr',\n    value: function attr(name, val) {\n      if (arguments.length === 1) {\n        return getAttr(this[0], name);\n      }\n      return this.each(function (el) {\n        return setAttr(el, name, val);\n      });\n    }\n\n    /**\n     * DOM集合dataset读写操作\n     * @param {String} key 键名\n     * @param {Any} val 键值（如果有设置该参数则执行写操作，否则执行读操作）\n     * @return {this}\n     */\n\n  }, {\n    key: 'data',\n    value: function data(key, val) {\n      if (arguments.length === 0) {\n        return this[0].dataset || {};\n      }\n      if (arguments.length === 1) {\n        return (this[0].dataset || {})[key];\n      }\n      return this.each(function (el) {\n        (el.dataset || (el.dataset = {}))[key] = val;\n      });\n    }\n\n    /**\n     * DOM集合样式读写操作\n     * @param {String} key 样式key\n     * @param {String} val 样式值（如果有设置该参数则执行写操作，否则执行读操作）\n     * @return {this}\n     */\n\n  }, {\n    key: 'css',\n    value: function css(key, val) {\n      if (arguments.length === 1 && !isObject(key)) {\n        return getStyle(this[0], key);\n      }\n      return this.each(function (el) {\n        return setStyle(el, key, val);\n      });\n    }\n\n    /**\n     * 为DOM集合增加className\n     * @param {String} cls 要增加的className\n     * @return {this}\n     */\n\n  }, {\n    key: 'addClass',\n    value: function addClass(cls) {\n      return this.each(function (el) {\n        return addClassName(el, cls);\n      });\n    }\n\n    /**\n     * 移除当前DOM集合的className\n     * @param {String} cls 要移除的className\n     * @return {this}\n     */\n\n  }, {\n    key: 'removeClass',\n    value: function removeClass(cls) {\n      return this.each(function (el) {\n        return removeClassName(el, cls);\n      });\n    }\n\n    /**\n     * 检查索引0的DOM是否有className\n     * @param {String} cls 要检查的className\n     * @return {this}\n     */\n\n  }, {\n    key: 'hasClass',\n    value: function hasClass(cls) {\n      return hasClassName(this[0], cls);\n    }\n\n    /**\n     * 为DOM集合添加事件监听\n     * @param {String} type 事件名称\n     * @param {Function} handler 处理函数\n     * @param {Boolean} once 是否只监听一次\n     * @param {Boolean} capture 是否在捕获阶段监听\n     * @return {this}\n     */\n\n  }, {\n    key: 'on',\n    value: function on(type, handler) {\n      var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      return this.each(function (el) {\n        return addEvent(el, type, handler, once, capture);\n      });\n    }\n\n    /**\n     * 为DOM集合解除事件监听\n     * @param {String} type 事件名称\n     * @param {Function} handler 处理函数\n     * @param {Boolean} once 是否只监听一次\n     * @param {Boolean} capture 是否在捕获阶段监听\n     * @return {this}\n     */\n\n  }, {\n    key: 'off',\n    value: function off(type, handler) {\n      var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      return this.each(function (el) {\n        return removeEvent(el, type, handler, once, capture);\n      });\n    }\n\n    /**\n     * 为DOM集合绑定事件代理\n     * @param {String} selector 目标子元素选择器\n     * @param {String} type 事件名称\n     * @param {Function} handler 处理函数\n     * @param {Boolean} capture 是否在捕获阶段监听\n     * @return {this}\n     */\n\n  }, {\n    key: 'delegate',\n    value: function delegate(selector, type, handler) {\n      var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      return this.each(function (el) {\n        return addDelegate(el, selector, type, handler, capture);\n      });\n    }\n\n    /**\n     * 为DOM集合解绑事件代理\n     * @param {String} selector 目标子元素选择器\n     * @param {String} type 事件名称\n     * @param {Function} handler 处理函数\n     * @param {Boolean} capture 是否在捕获阶段监听\n     * @return {this}\n     */\n\n  }, {\n    key: 'undelegate',\n    value: function undelegate(selector, type, handler) {\n      var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      return this.each(function (el) {\n        return removeDelegate(el, selector, type, handler, capture);\n      });\n    }\n\n    /**\n     * 从DOM树中移除\n     * @return {this}\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove() {\n      return this.each(function (el) {\n        return removeEl(el);\n      });\n    }\n  }]);\n\n  return NodeWrap;\n}();\n\nexport { getAttr, setAttr, addClassName, removeClassName, hasClassName, removeEvent, addEvent, addDelegate, removeDelegate, getStyle, setStyle, query, removeEl, findParents, $, NodeWrap };\n","\n/**\n * chimee-helper v0.2.5\n * (c) 2017 toxic-johann\n * Released under MIT\n */\n\nimport chimeeHelperLog from 'chimee-helper-log';\nimport uaParserJs from 'ua-parser-js';\n\n\n\nexport { chimeeHelperLog as Log, uaParserJs as UAParser };\nexport * from 'toxic-utils';\nexport * from 'toxic-predicate-functions';\nexport * from 'chimee-helper-utils';\nexport * from 'chimee-helper-events';\nexport * from 'chimee-helper-dom';\n","import {CustEvent} from 'chimee-helper';\nimport {Log} from 'chimee-helper';\n\nexport default class MSEController extends CustEvent {\n\n  /**\n   * mediasource 控制层\n   * @class mediasource\n   * @param {Element} videoElement\n   * @param {object} config\n   */\n  constructor (videoElement, config) {\n    super();\n    this.video = videoElement;\n    this.config = config;\n    this.tag = 'mse-controller';\n    this.e = {\n      onSourceOpen: this.onSourceOpen.bind(this),\n      onSourceEnded: this.onSourceEnded.bind(this),\n      onSourceClose: this.onSourceClose.bind(this),\n      onSourceBufferError: this.onSourceBufferError.bind(this)\n    };\n    this.removeRangesList = {\n      video: [],\n      audio: []\n    };\n    this.removeBucketing = false;\n    this.timer = {\n      video: null,\n      audio: null\n    };\n    this.queue = {\n      video: [],\n      audio: []\n    }\n    this.sourceBuffer = {\n      video: null,\n      audio: null\n    }\n    this.mimeCodec = {\n      video: null,\n      audio: null\n    }\n  }\n\n  /**\n   * 初始化 控制层\n   */\n  init (mediaInfo) {\n    if (this.mediaSource) {\n      Log.Error(this.tag, 'MediaSource has been attached to an HTMLMediaElement!');\n      throw new Error('MediaSource has been attached to an HTMLMediaElement!');\n    }\n    mediaInfo.data.videoCodec || (mediaInfo.data.videoCodec = 'avc1.640020');\n    mediaInfo.data.audioCodec || (mediaInfo.data.audioCodec = 'mp4a.40.2');\n\n    this.mimeCodec['video'] = `video/mp4; codecs=\"${mediaInfo.data.videoCodec}`;\n    this.mimeCodec['audio'] = `video/mp4; codecs=\"${mediaInfo.data.audioCodec}`;\n\n    const ms = this.mediaSource = new window.MediaSource();\n    ms.addEventListener('sourceopen', this.e.onSourceOpen);\n    ms.addEventListener('sourceended', this.e.onSourceEnded);\n    ms.addEventListener('sourceclose', this.e.onSourceClose);\n    // this.sourceBuffer.updating = true;\n    this.sourceBufferEvent();\n  }\n\n  /**\n   * mediaSource open\n   */\n  onSourceOpen () {\n    Log.verbose(this.tag, 'MediaSource onSourceOpen');\n    this.mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);\n    this.addSourceBuffer('video');\n    this.addSourceBuffer('audio');\n    this.emit('source_open');\n    // this.sourceBuffer.updating = false;\n  }\n\n  addSourceBuffer(type) {\n    this.sourceBuffer[type] = this.mediaSource.addSourceBuffer(this.mimeCodec[type]);\n    Log.verbose(this.tag, 'add sourcebuffer '+ type);\n    const sb = this.sourceBuffer[type];\n    sb.addEventListener('error', this.e.onSourceBufferError);\n    sb.addEventListener('abort', () => Log.verbose(this.tag, 'sourceBuffer: abort'));\n    sb.addEventListener('updateend', () => {\n      if(this.queue[type].length > 0) {\n        if(!sb.updating) {\n          if(this.needCleanupSourceBuffer(type)) {\n            this.doCleanupSourceBuffer(type);\n          } else {\n            const data = this.queue[type].shift();\n            this.appendBuffer(data, type);\n          }\n        }\n      }\n      this.emit('updateend');\n    });\n    this.doUpdate(type);\n  }\n\n  doUpdate(type) {\n    clearTimeout(this.timer[type]);\n    if(this.queue[type].length > 0) {\n      const data = this.queue[type].shift();\n      this.appendBuffer(data, type);\n    } else {\n      this.timer[type] = setTimeout(()=>{\n        this.doUpdate(type);\n      }, 100)\n    }\n  }\n\n  /**\n   * sourceBuffer 事件\n   */\n  sourceBufferEvent () {\n    this.on('mediaSegment', (handler)=> {\n      const data = handler.data;\n      const type = data.type;\n\n      if(!this.sourceBuffer[type] || (this.sourceBuffer[type].updating || this.queue[type].length > 0)) {\n        this.queue[type].push(data);\n      } else {\n        this.appendBuffer(data, type);\n      }\n    });\n\n    this.on('mediaSegmentInit', (handler)=> {\n      const data = handler.data;\n      const type = data.type;\n      if (!this.sourceBuffer[type] || (this.sourceBuffer[type].updating || this.queue[type].length > 0)) {\n        this.queue[type].push(data);\n      } else {\n       this.appendBuffer(data, type);\n      }\n    });\n  }\n\n  /**\n   * 是否需要清除sourcebuffer 里的buffer\n   */\n  needCleanupSourceBuffer (type) {\n    const currentTime = this.video.currentTime;\n\n    const sb = this.sourceBuffer[type];\n    const buffered = sb.buffered;\n\n    if (buffered.length >= 1) {\n        if (currentTime - buffered.start(0) >= this.config.autoCleanupMaxBackwardDuration) {\n            return true;\n        }\n    }\n    return false;\n  }\n\n  /**\n   * 清除buffer\n   */\n  doCleanupSourceBuffer (type) {\n    Log.verbose(this.tag, 'docleanBuffer');\n    const currentTime = this.video.currentTime;\n    const sb = this.sourceBuffer[type];\n    const buffered = sb.buffered;\n    let doRemove = false;\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n\n      if (start <= currentTime && currentTime < end + 3) {\n        if (currentTime - start >= this.config.autoCleanupMaxBackwardDuration) {\n          doRemove = true;\n          const removeEnd = currentTime - this.config.autoCleanupMinBackwardDuration;\n          this.removeRangesList[type].push({start, end: removeEnd});\n        }\n      } else if (end < currentTime) {\n        doRemove = true;\n        this.removeRangesList[type].push({start, end});\n      }\n    }\n    if(doRemove && !this.sourceBuffer[type].updating) {\n      this.cleanRangesList(type);\n    }\n  }\n\n  /**\n   * 清除bufferlist\n   */\n  cleanRangesList (type) {\n    if (this.sourceBuffer[type].updating) {\n      return;\n    }\n    const sb = this.sourceBuffer[type];\n    while (this.removeRangesList[type].length && !sb.updating) {\n      const ranges = this.removeRangesList[type].shift();\n      sb.remove(ranges.start, ranges.end);\n    }\n  }\n\n  /**\n   * 往sourcebuffer里添加数据\n   */\n  appendBuffer (data, type) {\n    try {\n      this.sourceBuffer[type].appendBuffer(data.buffer);\n    }catch(e) {\n      if(e.code === 22) {\n        // chrome 大概会有350M\n        Log.verbose(this.tag, 'MediaSource bufferFull');\n        this.emit('bufferFull');\n      }\n    }\n  }\n\n  /**\n   * sourcebuffer 结束\n   */\n  onSourceEnded () {\n    Log.verbose(this.tag, 'MediaSource onSourceEnded');\n  }\n\n  /**\n   * sourcebuffer 关闭\n   */\n  onSourceClose () {\n     Log.verbose(this.tag, 'MediaSource onSourceClose');\n     if (this.mediaSource && this.e !== null) {\n        this.mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen);\n        this.mediaSource.removeEventListener('sourceended', this.e.onSourceEnded);\n        this.mediaSource.removeEventListener('sourceclose', this.e.onSourceClose);\n      }\n  }\n\n   /**\n   * sourcebuffer 错误\n   */\n  onSourceBufferError (e) {\n    console.log(e);\n    // Log.info(e);\n    Log.error(this.tag, `SourceBuffer Error: ${e}`);\n  }\n\n  /**\n   * seek\n   */\n  seek () {\n\n  }\n\n  /**\n   * 销毁\n   */\n  destroy () {\n    if (this.mediaSource) {\n        const ms = this.mediaSource;\n        // pending segments should be discard\n        this.queue = [];\n        // remove all sourcebuffers\n        const sb = this.sourceBuffer;\n        if (sb) {\n            if (ms.readyState !== 'closed') {\n                ms.removeSourceBuffer(sb);\n                sb.removeEventListener('error', this.e.onSourceBufferError);\n                sb.removeEventListener('updateend', this.e.onSourceBufferUpdateEnd);\n            }\n            this.sourceBuffer = null;\n        }\n      if (ms.readyState === 'open') {\n          try {\n              ms.endOfStream();\n          } catch (error) {\n              Log.e(this.tag, error.message);\n          }\n      }\n      ms.removeEventListener('sourceopen', this.e.onSourceOpen);\n      ms.removeEventListener('sourceended', this.e.onSourceEnded);\n      ms.removeEventListener('sourceclose', this.e.onSourceClose);\n      this.mediaSource = null;\n    }\n\n    if (this._mediaElement) {\n        this._mediaElement.src = '';\n        this._mediaElement.removeAttribute('src');\n        this._mediaElement = null;\n    }\n    if (this._mediaSourceObjectURL) {\n        window.URL.revokeObjectURL(this._mediaSourceObjectURL);\n        this._mediaSourceObjectURL = null;\n    }\n  }\n}\n","/**\n* 处理range的静态函数\n* author songguangyu\n* emil 522963130@qq.com\n*/\nexport default function (range) {\n  const headers = {};\n  let param;\n\n  if (range.to !== -1) {\n      param = `bytes=${range.from.toString()}-${range.to.toString()}`;\n  } else {\n      param = `bytes=${range.from.toString()}-`;\n  }\n  headers['Range'] = param;\n\n  return {\n    headers\n  };\n};\n","/**\n* fetch firfox 直播 点播\n* author songguangyu\n* emil 522963130@qq.com\n*/\nimport handleRange from './handleRange';\nimport {CustEvent} from 'chimee-helper';\nimport {Log} from 'chimee-helper';\n\n/**\n * FetchLoader\n * @class FetchLoader\n * @param {string} video url\n * @param  {object} range.from range.to\n */\nexport default class FetchLoader extends CustEvent {\n\n\t/**\n   * broswer is support moz-chunk\n   */\n\tstatic isSupport () {\n\t\tif(window.fetch && window.ReadableStream) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconstructor (src, config) {\n\t\tsuper();\n\t\tthis.tag = 'fetch';\n\t\tthis.fetching = false;\n\t\tthis.config = config;\n\t\tthis.range = {\n\t\t\tfrom: 0,\n\t\t\tto: 500000\n\t\t};\n\t\tthis.src = src;\n\t\tthis.totalRange = null;\n\t\tthis.block = 500000;\n\t\tthis.reader = null;\n\t\tthis.requestAbort = false;\n\t\tthis.arrivalDataCallback = null;\n\t\tthis.bytesStart = 0;\n\t}\n\t/**\n   * if don't need range don't set\n   * @param  {object} range.from range.to\n   */\n\topen (range, keyframePoint) {\n\t\tthis.requestAbort = false;\n\t\tconst reqHeaders = new Headers();\n\t\tconst r = range || {from: 0, to: -1};\n\t\tif(!this.config.isLive) {\n\t\t\tthis.range.from = r.from;\n\t\t\tthis.range.to = r.to;\n\t\t\tconst headers = handleRange(r).headers;\n\t\t\tfor(const i in headers) {\n\t\t\t\treqHeaders.append(i, headers[i]);\n\t\t\t}\n\t\t}\n    if(keyframePoint) {\n    \tthis.bytesStart = 0;\n    }\n    this.bytesStart = range.from;\n\t\tthis.req = new Request(this.src, {headers: reqHeaders});\n\n\t\tfetch(this.req).then((res)=>{\n\t\t\tif(res.ok) {\n\t\t\t\tconst reader = res.body.getReader();\n\t\t\t\treturn this.pump(reader, keyframePoint);\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n   * pause video\n   */\n\tpause () {\n\t\tthis.requestAbort = true;\n\t}\n\n\t/**\n   * pump data\n   */\n\tpump (reader, keyframePoint) { // ReadableStreamReader\n    return reader.read().then((result) => {\n        if (result.done) {\n\t\t\t\t\tLog.verbose(this.tag, 'play end');\n        \t// trigger complete\n        } else {\n        \tif (this.requestAbort === true) {\n        \t\treturn reader.cancel();\n        \t}\n        \tconst chunk = result.value.buffer;\n\n        \tif(this.arrivalDataCallback) {\n        \t\tthis.arrivalDataCallback(chunk, this.bytesStart, keyframePoint);\n        \t\tthis.bytesStart += chunk.byteLength;\n        \t}\n        \treturn this.pump(reader);\n        }\n      });\n\t}\n}\n","/**\n* XHR 点播\n* author songguangyu\n* emil 522963130@qq.com\n*/\n// import Log from 'helper/log';\nimport handleRange from './handleRange';\nimport {CustEvent} from 'chimee-helper';\n\n/**\n * MozChunkLoader\n * @class MozChunkLoader\n * @param {string} video url\n * @param  {object} range.from range.to\n */\nexport default class RangeLoader extends CustEvent {\n\n   /**\n   * broswer is support XMLHttpRequest\n   */\n\tstatic isSupport () {\n    try {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', 'https://example.com', true);\n      xhr.responseType = 'arraybuffer';\n      return (xhr.responseType === 'arraybuffer');\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor (src, config) {\n    super();\n    this.tag = 'RangeLoader';\n  \tthis.xhr = null;\n    this.src = src;\n    this.totalLength = null;\n    this.chunkSizeKB = 393216;\n    this.range = {};\n    this.bytesStart = 0;\n  }\n  /**\n   * if don't need range don't set\n   * @param  {object} range.from range.to\n   */\n  open (range) {\n    const xhr = this.xhr = new XMLHttpRequest();\n    xhr.open('GET', this.src, true);\n    xhr.responseType = 'arraybuffer';\n    xhr.onreadystatechange = this.onReadyStateChange.bind(this);\n    xhr.onprogress = this.onProgress.bind(this);\n    xhr.onload = this.onLoad.bind(this);\n    xhr.onerror = this.onXhrError.bind(this);\n    const r = range || {from: 0, to: -1};\n    this.range.from = r.from;\n    this.range.to = r.to;\n    const headers = handleRange(r).headers;\n    for(const i in headers) {\n      xhr.setRequestHeader(i, headers[i]);\n    }\n    xhr.send();\n  }\n\n  /**\n   * abort request\n   */\n  abort () {\n    this.xhr.onreadystatechange = null;\n    this.xhr.onprogress = null;\n    this.xhr.onload = null;\n    this.xhr.onerror = null;\n    this.xhr.abort();\n    this.xhr = null;\n  }\n\n  /**\n   * destroy xhr Object clean cache\n   */\n  destroy () {\n    if(this.xhr) {\n      this.abort();\n      this.xhr.onreadystatechange = null;\n      this.xhr.onprogress = null;\n      this.xhr.onload = null;\n      this.xhr.onerror = null;\n      this.xhr = null;\n    }\n    this.totalLength = null;\n    this.bytesStart = null;\n    this.range = {};\n  }\n\n  /**\n   * xhr onReadyStateChange\n   */\n  onReadyStateChange (e) {\n    const xhr = this.xhr;\n    if (xhr.readyState === 2) {\n      if ((xhr.status < 200 && xhr.status > 299)) {\n        const info = {\n          from: this.range.from,\n          to: this.range.to,\n          url: this.src,\n          msg: 'http Error: http code ' + xhr.status\n        };\n        this.emit(this.tag, info);\n      }\n    }\n  }\n\n  /**\n   * xhr onProgress\n   */\n  onProgress (e) {\n    if(!this.totalLength) {\n      this.totalLength = e.total;\n      this.abort();\n      this.open({from: 0, to: this.chunkSizeKB});\n    }\n  }\n\n  /**\n   * xhr onLoad\n   */\n  onLoad (e) {\n    if(!this.totalLength) {\n      return;\n    }\n    if(this.range.to < this.totalLength) {\n      // this.open({from: this.range.to + 1, to: this.range.to + 1 + this.chunkSizeKB});\n    }\n\n    if(this.arrivalDataCallback) {\n      const chunk = e.target.response;\n      this.arrivalDataCallback(chunk, this.bytesStart);\n      this.bytesStart += chunk.byteLength;\n    }\n  }\n\n  /**\n   * xhr onXhrError\n   */\n  onXhrError (e) {\n    const info = {\n      from: this.range.from,\n      to: this.range.to,\n      url: this.src,\n      msg: e.constructor.name + ' ' + e.type\n    };\n    this.emit(this.tag, info);\n  }\n}\n","import handleRange from './handleRange';\nimport {CustEvent} from 'chimee-helper';\nimport {Log} from 'chimee-helper';\n\nexport default class WebSocketLoader extends CustEvent {\n\n    static isSupported() {\n        try {\n            return (typeof window.WebSocket !== 'undefined');\n        } catch (e) {\n            return false;\n        }\n    }\n\n    constructor(src, config) {\n        super();\n        this.tag = 'WebSocketLoader';\n        this.range = {\n            from: 0,\n            to: 500000\n        };\n        this.src = src;\n        this._ws = null;\n        this._requestAbort = false;\n        this._receivedLength = 0;\n    }\n\n    destroy() {\n        if (this._ws) {\n            this.abort();\n        }\n        super.destroy();\n    }\n\n    open(range, keyframePoint) {\n        try {\n            const ws = this._ws = new self.WebSocket(this.src);\n            ws.binaryType = 'arraybuffer';\n            ws.onopen = this._onWebSocketOpen.bind(this);\n            ws.onclose = this._onWebSocketClose.bind(this);\n            ws.onmessage = this._onWebSocketMessage.bind(this);\n            ws.onerror = this._onWebSocketError.bind(this);\n        } catch (e) {\n            const info = {code: e.code, msg: e.message};\n\n            if (this._onError) {\n                this._onError(LoaderErrors.EXCEPTION, info);\n            } else {\n                throw new RuntimeException(info.msg);\n            }\n        }\n    }\n\n    abort() {\n        const ws = this._ws;\n        if (ws && (ws.readyState === 0 || ws.readyState === 1)) {  // CONNECTING || OPEN\n            this._requestAbort = true;\n            ws.close();\n        }\n\n        this._ws = null;\n    }\n\n    _onWebSocketOpen(e) {\n    }\n\n    _onWebSocketClose(e) {\n        if (this._requestAbort === true) {\n            this._requestAbort = false;\n            return;\n        }\n\n        if (this._onComplete) {\n            this._onComplete(0, this._receivedLength - 1);\n        }\n    }\n\n    _onWebSocketMessage(e) {\n        if (e.data instanceof ArrayBuffer) {\n            this._dispatchArrayBuffer(e.data);\n        } else if (e.data instanceof Blob) {\n            let reader = new FileReader();\n            reader.onload = () => {\n                this._dispatchArrayBuffer(reader.result);\n            };\n            reader.readAsArrayBuffer(e.data);\n        } else {\n            let info = {code: -1, msg: 'Unsupported WebSocket message type: ' + e.data.constructor.name};\n\n            if (this._onError) {\n                this._onError(LoaderErrors.EXCEPTION, info);\n            } else {\n                throw new RuntimeException(info.msg);\n            }\n        }\n    }\n\n    _dispatchArrayBuffer(arraybuffer) {\n        let chunk = arraybuffer;\n        let byteStart = this._receivedLength;\n        this._receivedLength += chunk.byteLength;\n\n        if (this.arrivalDataCallback) {\n            this.arrivalDataCallback(chunk, byteStart, this._receivedLength);\n        }\n    }\n\n    _onWebSocketError(e) {\n        let info = {\n            code: e.code,\n            msg: e.message\n        };\n\n        if (this._onError) {\n            this._onError(LoaderErrors.EXCEPTION, info);\n        } else {\n            throw new RuntimeException(info.msg);\n        }\n    }\n\n}","/**\n* XHR firfox 直播 点播\n* author songguangyu\n* emil 522963130@qq.com\n*/\n// import Log from 'helper/log';\nimport handleRange from './handleRange';\nimport {CustEvent} from 'chimee-helper';\n\n/**\n * MozChunkLoader\n * @class MozChunkLoader\n * @param {string} video url\n * @param  {object} range.from range.to\n */\nexport default class MozChunkLoader extends CustEvent {\n\n  /**\n   * broswer is support moz-chunk\n   */\n\tstatic isSupport () {\n    try {\n      const xhr = new XMLHttpRequest();\n      // Firefox 37- requires .open() to be called before setting responseType\n      xhr.open('GET', 'https://example.com', true);\n      xhr.responseType = 'moz-chunked-arraybuffer';\n      return (xhr.responseType === 'moz-chunked-arraybuffer');\n    } catch (e) {\n      return false;\n    }\n  }\n\n  constructor (src, config) {\n    super();\n    this.tag = 'mozChunkLoader';\n  \tthis.xhr = null;\n    this.src = src;\n    this.config = config;\n    this.totalLength = null;\n    this.chunkSizeKB = 393216;\n    this.range = {};\n    this.bytesStart = 0;\n  }\n  /**\n   * if don't need range don't set\n   * @param  {object} range.from range.to\n   */\n  open (range) {\n    const xhr = this.xhr = new XMLHttpRequest();\n    xhr.open('GET', this.src, true);\n    xhr.responseType = 'moz-chunked-arraybuffer';\n    xhr.onreadystatechange = this.onReadyStateChange.bind(this);\n    xhr.onprogress = this.onProgress.bind(this);\n    xhr.onload = this.onLoadEnd.bind(this);\n    xhr.onerror = this.onXhrError.bind(this);\n    if(!this.config.isLive) {\n      const r = range || {from: 0, to: -1};\n      this.range.from = r.from;\n      this.range.to = r.to;\n      const headers = handleRange(r).headers;\n      for(const i in headers) {\n        xhr.setRequestHeader(i, headers[i]);\n      }\n    }\n    xhr.send();\n  }\n\n  /**\n   * abort request\n   */\n  abort () {\n    this.xhr.onreadystatechange = null;\n    this.xhr.onprogress = null;\n    this.xhr.onload = null;\n    this.xhr.onerror = null;\n    this.xhr.abort();\n    this.xhr = null;\n  }\n\n  /**\n   * destroy xhr Object clean cache\n   */\n  destroy () {\n    if(this.xhr) {\n      this.abort();\n      this.xhr.onreadystatechange = null;\n      this.xhr.onprogress = null;\n      this.xhr.onload = null;\n      this.xhr.onerror = null;\n      this.xhr = null;\n    }\n    this.totalLength = null;\n    this.bytesStart = null;\n    this.range = {};\n  }\n\n  /**\n   * xhr onReadyStateChange\n   */\n  onReadyStateChange (e) {\n    const xhr = this.xhr;\n    if (xhr.readyState === 2) {\n      if ((xhr.status < 200 && xhr.status > 299)) {\n        const info = {\n          from: this.range.from,\n          to: this.range.to,\n          url: this.src,\n          msg: 'http Error: http code ' + xhr.status\n        };\n        this.emit(this.tag, info);\n      }\n    }\n  }\n\n  /**\n   * xhr onProgress\n   */\n  onProgress (e) {\n    if(!this.totalLength) {\n      this.totalLength = e.total;\n      if (e.total !== null && e.total !== 0) {\n        this.totalLength = e.total;\n      }\n    }\n\n    const chunk = e.target.response;\n    this.arrivalDataCallback(chunk, this.bytesStart);\n    this.bytesStart += chunk.byteLength;\n  }\n\n  /**\n   * xhr onLoadEnd\n   */\n  onLoadEnd (e) {\n    this.emit(this.tag, 'video load end');\n  }\n\n  /**\n   * xhr onXhrError\n   */\n  onXhrError (e) {\n    const info = {\n      from: this.range.from,\n      to: this.range.to,\n      url: this.src,\n      msg: e.constructor.name + ' ' + e.type\n    };\n    this.emit(this.tag, info);\n  }\n}\n","/**\n* 处理range的静态函数\n* author songguangyu\n* emil 522963130@qq.com\n*/\n\nimport FetchLoader from './fetch';\nimport RangeLoader from './xhr-range';\nimport WebsocketLoader from './websocket';\nimport MozChunkLoader from './xhr-moz-chunk';\nimport {CustEvent} from 'chimee-helper';\n\n/**\n * Ioloader 处理io的调用器 缓存多余数据\n * @class Ioloader\n * @param  {object} video config\n */\nexport default class Ioloader extends CustEvent {\n\n\tconstructor (config) {\n\t\tsuper();\n\t\tthis.loader = null;\n\t\tthis.config = {};\n\t\tObject.assign(this.config, config);\n\t\tthis.bufferSize = 1024 * 1024 * 3; // initial size: 3MB\n\t\tthis.cacheBuffer = new ArrayBuffer(this.bufferSize);\n\t\tthis.cacheRemain = 0;\n\t\tthis.stashByteStart = 0;\n\t\tthis.enableStash = true;\n\t\tthis.stashSize = 1024 * 384;\n\t\tthis.resumeFrom = 0;\n\t\tthis.currentRange = {};\n\t\tthis.totalReceive = 0;\n\t\tthis.seekPonit = 0;\n\t\tthis.timer = null;\n\t\tthis.webSocketURLReg = /wss?:\\/\\/(.+?)\\//;\n\t\tthis.selectLoader();\n\t}\n\n\t/**\n\t* 自动选择io处理器\n\t*/\n\tselectLoader () {\n\t\tconst config = this.config;\n\t\tconst url = this.config.src;\n\n\t\tif(this.webSocketURLReg.test(url)) {\n\t\t\tthis.loader = new WebsocketLoader(url, config);\n\t\t}else if(FetchLoader.isSupport()) {\n\t\t\tthis.loader = new FetchLoader(url, config);\n\t\t} else if(MozChunkLoader.isSupport()) {\n\t\t\tthis.loader = new MozChunkLoader(url, config);\n\t\t} else if(RangeLoader.isSupport()) {\n\t\t\tthis.loader = new RangeLoader(url, config);\n\t\t}\n\t\tthis.loader.arrivalDataCallback = this.onLoaderChunkArrival.bind(this);\n\t}\n\n\t/**\n\t* 数据接收器\n\t* @param  {arrayBuffer} chunk data\n\t* @param  {number} chunk byte postion\n\t*/\n\tonLoaderChunkArrival (chunk, byteStart, keyframePoint) {\n\t\tchunk.fileStart = byteStart;\n\t\tthis.arrivalDataCallback(chunk, byteStart, this.seekPonit);\n\t\treturn;\n\t\tif(keyframePoint) {\n\t\t\tthis.seekPonit = keyframePoint;\n\t\t}\n\t\tif(this.arrivalDataCallback) {\n\t\t\tthis.totalReceive += chunk.byteLength;\n\n\t\t\tif (this.cacheRemain === 0 && this.stashByteStart === 0) {\n          // This is the first chunk after seek action\n         this.stashByteStart = byteStart;\n      }\n      if (this.cacheRemain + chunk.byteLength <= this.stashSize) {\n          // 小于cache大小 则看做数据太小 进行缓存 不进行下发\n        const stashArray = new Uint8Array(this.cacheBuffer, 0, this.stashSize);\n        stashArray.set(new Uint8Array(chunk), this.cacheRemain);\n        this.cacheRemain += chunk.byteLength;\n      } else { // 大于cache大小的 则把数据放入播放器 溢出数据进行缓存\n        let stashArray = new Uint8Array(this.cacheBuffer, 0, this.bufferSize);\n        if (this.cacheRemain > 0) { // There're stash datas in buffer\n          // dispatch the whole stashBuffer, and stash remain data\n          // then append chunk to stashBuffer (stash)\n          const buffer = this.cacheBuffer.slice(0, this.cacheRemain);\n          let consumed = 0;\n          if(this.seekPonit) {\n          \tconsumed = this.arrivalDataCallback(buffer, this.stashByteStart, this.seekPonit);\n          \tthis.seekPonit = 0;\n          } else {\n          \tconsumed = this.arrivalDataCallback(buffer, this.stashByteStart);\n          }\n          // const consumed = this.arrivalDataCallback(buffer, this.stashByteStart, keyframePoint);\n          if (consumed < buffer.byteLength) {\n            if (consumed > 0) {\n              const remainArray = new Uint8Array(buffer, consumed);\n              stashArray.set(remainArray, 0);\n              this.cacheRemain = remainArray.byteLength;\n              this.stashByteStart += consumed;\n            }\n          } else {\n            this.cacheRemain = 0;\n            this.stashByteStart += consumed;\n          }\n          if (this.cacheRemain + chunk.byteLength > this.bufferSize) {\n            this.expandBuffer(this.cacheRemain + chunk.byteLength);\n            stashArray = new Uint8Array(this.cacheBuffer, 0, this.bufferSize);\n          }\n          stashArray.set(new Uint8Array(chunk), this.cacheRemain);\n          this.cacheRemain += chunk.byteLength;\n        } else { // stash buffer empty, but chunkSize > stashSize (oh, holy shit)\n          // dispatch chunk directly and stash remain data\n          // const consumed = this.arrivalDataCallback(chunk, byteStart, keyframePoint);\n          let consumed = 0;\n          if(this.seekPonit) {\n          \tconsumed = this.arrivalDataCallback(chunk, byteStart, this.seekPonit);\n          \tthis.seekPonit = 0;\n          } else {\n          \tconsumed = this.arrivalDataCallback(chunk, byteStart);\n          }\n          if (consumed < chunk.byteLength) {\n            const remain = chunk.byteLength - consumed;\n            if (remain > this.bufferSize) {\n              this.expandBuffer(remain);\n              stashArray = new Uint8Array(this.cacheBuffer, 0, this.bufferSize);\n            }\n            stashArray.set(new Uint8Array(chunk, consumed), 0);\n            this.cacheRemain += remain;\n            this.stashByteStart = byteStart + consumed;\n          }\n        }\n      }\n\t\t}\n\t}\n\t/**\n\t* 清空缓存buffer\n\t*/\n\tinitCacheBuffer () {\n\t\tthis.cacheBuffer = new ArrayBuffer(this.bufferSize);\n\t}\n\n\t/**\n\t* 动态扩展buffer存储器大小\n\t* @param  {number} chunk byte size\n\t*/\n\texpandBuffer (expectedBytes) {\n\t\tlet bufferNewSize = this.bufferSize;\n\t\t// while (bufferNewSize < expectedBytes) {\n    //   bufferNewSize *= 2;\n    // }\n\t\tif(bufferNewSize < expectedBytes) {\n\t\t\tbufferNewSize = expectedBytes;\n\t\t}\n    this.cacheBuffer = new ArrayBuffer(bufferNewSize);\n    this.bufferSize = bufferNewSize;\n\t}\n\n\t/**\n\t* 暂停\n\t*/\n\tpause () {\n\t\t// if (this.cacheRemain !== 0) {\n  //     this.resumeFrom = this.stashByteStart;\n  //     this.currentRange.to = this.stashByteStart - 1;\n  //   } else {\n  //      this.resumeFrom = this.currentRange.to + 1;\n  //   }\n\t\tthis.loader.pause();\n\t}\n\n\t/**\n\t* 打开连接\n\t*/\n\topen (StartBytes) {\n\t\tif(StartBytes === undefined) {\n\t\t\tStartBytes = 0;\n\t\t}\n\t\tthis.loader.open({from: StartBytes, to: -1});\n\t}\n\n\t/**\n\t* 重新播放\n\t*/\n\tresume () {\n    this.paused = false;\n    const bytes = this.totalReceive;\n    this.open(bytes);\n  }\n\n  /**\n\t* seek\n\t*/\n  seek (bytes, dropCache, keyframePoint) {\n  \tthis.loader.open({from: bytes, to: -1}, keyframePoint);\n  }\n\n\t/**\n\t* destory\n\t*/\n\tdestroy () {\n\t\tthis.pause();\n\t\tthis.cacheBuffer = null;\n\t}\n}\n","// file:src/log.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar Log = (function (){\n\t\tvar start = new Date();\n\t\tvar LOG_LEVEL_ERROR \t= 4;\n\t\tvar LOG_LEVEL_WARNING \t= 3;\n\t\tvar LOG_LEVEL_INFO \t\t= 2;\n\t\tvar LOG_LEVEL_DEBUG\t\t= 1;\n\t\tvar log_level = LOG_LEVEL_ERROR;\n\t\tvar logObject = {\n\t\t\tsetLogLevel : function(level) {\n\t\t\t\tif (level == this.debug) log_level = LOG_LEVEL_DEBUG;\n\t\t\t\telse if (level == this.info) log_level = LOG_LEVEL_INFO;\n\t\t\t\telse if (level == this.warn) log_level = LOG_LEVEL_WARNING;\n\t\t\t\telse if (level == this.error) log_level = LOG_LEVEL_ERROR;\n\t\t\t\telse log_level = LOG_LEVEL_ERROR;\n\t\t\t},\n\t\t\tdebug : function(module, msg) {\n\t\t\t\tif (console.debug === undefined) {\n\t\t\t\t\tconsole.debug = console.log;\n\t\t\t\t}\n\t\t\t\tif (LOG_LEVEL_DEBUG >= log_level) {\n\t\t\t\t\tconsole.debug(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\tinfo : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_INFO >= log_level) {\n\t\t\t\t\tconsole.info(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\twarn : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_WARNING >= log_level) {\n\t\t\t\t\tconsole.warn(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror : function(module, msg) {\n\t\t\t\tif (LOG_LEVEL_ERROR >= log_level) {\n\t\t\t\t\tconsole.error(\"[\"+Log.getDurationString(new Date()-start,1000)+\"]\",\"[\"+module+\"]\",msg);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn logObject;\n\t})();\n\t\n/* Helper function to print a duration value in the form H:MM:SS.MS */\nLog.getDurationString = function(duration, _timescale) {\n\tvar neg;\n\t/* Helper function to print a number on a fixed number of digits */\n\tfunction pad(number, length) {\n\t\tvar str = '' + number;\n\t\tvar a = str.split('.');\t\t\n\t\twhile (a[0].length < length) {\n\t\t\ta[0] = '0' + a[0];\n\t\t}\n\t\treturn a.join('.');\n\t}\n\tif (duration < 0) {\n\t\tneg = true;\n\t\tduration = -duration;\n\t} else {\n\t\tneg = false;\t\n\t}\n\tvar timescale = _timescale || 1;\n\tvar duration_sec = duration/timescale;\n\tvar hours = Math.floor(duration_sec/3600);\n\tduration_sec -= hours * 3600;\n\tvar minutes = Math.floor(duration_sec/60);\n\tduration_sec -= minutes * 60;\t\t\n\tvar msec = duration_sec*1000;\n\tduration_sec = Math.floor(duration_sec);\n\tmsec -= duration_sec*1000;\n\tmsec = Math.floor(msec);\n\treturn (neg ? \"-\": \"\")+hours+\":\"+pad(minutes,2)+\":\"+pad(duration_sec,2)+\".\"+pad(msec,3);\n}\n\t\n/* Helper function to stringify HTML5 TimeRanges objects */\t\nLog.printRanges = function(ranges) {\n\tvar length = ranges.length;\n\tif (length > 0) {\n\t\tvar str = \"\";\n\t\tfor (var i = 0; i < length; i++) {\n\t\t  if (i > 0) str += \",\";\n\t\t  str += \"[\"+Log.getDurationString(ranges.start(i))+ \",\"+Log.getDurationString(ranges.end(i))+\"]\";\n\t\t}\n\t\treturn str;\n\t} else {\n\t\treturn \"(empty)\";\n\t}\n}\n\nif (typeof exports !== 'undefined') {\n\texports.Log = Log;\n}\n// file:src/stream.js\nvar MP4BoxStream = function(arrayBuffer) {\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n    this.dataview = new DataView(arrayBuffer);\n  } else {\n    throw (\"Needs an array buffer\");\n  }\n  this.position = 0;\n};\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\nMP4BoxStream.prototype.getPosition = function() {\n  return this.position;\n}\n\nMP4BoxStream.prototype.getEndPosition = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.getLength = function() {\n  return this.buffer.byteLength;\n}\n\nMP4BoxStream.prototype.seek = function (pos) {\n  var npos = Math.max(0, Math.min(this.buffer.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n  return true;\n}\n\nMP4BoxStream.prototype.isEos = function () {\n  return this.getPosition() >= this.getEndPosition();\n}\n\n/*************************************************************************\n  Read methods, simimar to DataStream but simpler\n *************************************************************************/\nMP4BoxStream.prototype.readAnyInt = function(size, signed) {\n  var res = 0;\n  if (this.position + size <= this.buffer.byteLength) {\n    switch (size) {\n      case 1:\n        if (signed) {\n          res = this.dataview.getInt8(this.position);\n        } else {\n          res = this.dataview.getUint8(this.position);          \n        }\n        break;\n      case 2:\n        if (signed) {\n          res = this.dataview.getInt16(this.position);\n        } else {\n          res = this.dataview.getUint16(this.position);          \n        }\n        break;\n      case 3:\n        if (signed) {\n          throw (\"No method for reading signed 24 bits values\");\n        } else {\n          res = this.dataview.getUint8(this.position) << 16;\n          res |= this.dataview.getUint8(this.position) << 8;\n          res |= this.dataview.getUint8(this.position);\n        }\n        break;\n      case 4:\n        if (signed) {\n          res = this.dataview.getInt32(this.position);\n        } else {\n          res = this.dataview.getUint32(this.position);          \n        }\n        break;\n      case 8:\n        if (signed) {\n          throw (\"No method for reading signed 64 bits values\");\n        } else {\n          res = this.dataview.getUint32(this.position) << 32;          \n          res |= this.dataview.getUint32(this.position);\n        }\n        break;\n      default:\n        throw (\"readInt method not implemented for size: \"+size);  \n    }\n    this.position+= size;\n    return res;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readUint8 = function() {\n  return this.readAnyInt(1, false);\n}\n\nMP4BoxStream.prototype.readUint16 = function() {\n  return this.readAnyInt(2, false);\n}\n\nMP4BoxStream.prototype.readUint24 = function() {\n  return this.readAnyInt(3, false);\n}\n\nMP4BoxStream.prototype.readUint32 = function() {\n  return this.readAnyInt(4, false);\n}\n\nMP4BoxStream.prototype.readUint64 = function() {\n  return this.readAnyInt(8, false);\n}\n\nMP4BoxStream.prototype.readString = function(length) {\n  if (this.position + length <= this.buffer.byteLength) {\n    var s = \"\";\n    for (var i = 0; i < length; i++) {\n      s += String.fromCharCode(this.readUint8());\n    }\n    return s;\n  } else {\n    throw (\"Not enough bytes in buffer\");\n  }\n}\n\nMP4BoxStream.prototype.readCString = function() {\n  var arr = [];\n  while(true) {\n    var b = this.readUint8();\n    if (b !== 0) {\n      arr.push(b);\n    } else {\n      break;\n    }\n  }\n  return String.fromCharCode.apply(null, arr); \n}\n\nMP4BoxStream.prototype.readInt8 = function() {\n  return this.readAnyInt(1, true);\n}\n\nMP4BoxStream.prototype.readInt16 = function() {\n  return this.readAnyInt(2, true);\n}\n\nMP4BoxStream.prototype.readInt32 = function() {\n  return this.readAnyInt(4, true);\n}\n\nMP4BoxStream.prototype.readUint8Array = function(length) {\n  var arr = new Uint8Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint8();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt16Array = function(length) {\n  var arr = new Int16Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint16();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readUint32Array = function(length) {\n  var arr = new Uint32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readUint32();\n  }\n  return arr;\n}\n\nMP4BoxStream.prototype.readInt32Array = function(length) {\n  var arr = new Int32Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = this.readInt32();\n  }\n  return arr;\n}\n\nif (typeof exports !== 'undefined') {\n  exports.MP4BoxStream = MP4BoxStream;\n}// file:src/DataStream.js\n/**\n  DataStream reads scalars, arrays and structs of data from an ArrayBuffer.\n  It's like a file-like DataView on steroids.\n\n  @param {ArrayBuffer} arrayBuffer ArrayBuffer to read from.\n  @param {?Number} byteOffset Offset from arrayBuffer beginning for the DataStream.\n  @param {?Boolean} endianness DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN (the default).\n  */\nvar DataStream = function(arrayBuffer, byteOffset, endianness) {\n  this._byteOffset = byteOffset || 0;\n  if (arrayBuffer instanceof ArrayBuffer) {\n    this.buffer = arrayBuffer;\n  } else if (typeof arrayBuffer == \"object\") {\n    this.dataView = arrayBuffer;\n    if (byteOffset) {\n      this._byteOffset += byteOffset;\n    }\n  } else {\n    this.buffer = new ArrayBuffer(arrayBuffer || 0);\n  }\n  this.position = 0;\n  this.endianness = endianness == null ? DataStream.LITTLE_ENDIAN : endianness;\n};\nDataStream.prototype = {};\n\nDataStream.prototype.getPosition = function() {\n  return this.position;\n}\n\n/**\n  Internal function to resize the DataStream buffer when required.\n  @param {number} extra Number of bytes to add to the buffer allocation.\n  @return {null}\n  */\nDataStream.prototype._realloc = function(extra) {\n  if (!this._dynamicSize) {\n    return;\n  }\n  var req = this._byteOffset + this.position + extra;\n  var blen = this._buffer.byteLength;\n  if (req <= blen) {\n    if (req > this._byteLength) {\n      this._byteLength = req;\n    }\n    return;\n  }\n  if (blen < 1) {\n    blen = 1;\n  }\n  while (req > blen) {\n    blen *= 2;\n  }\n  var buf = new ArrayBuffer(blen);\n  var src = new Uint8Array(this._buffer);\n  var dst = new Uint8Array(buf, 0, src.length);\n  dst.set(src);\n  this.buffer = buf;\n  this._byteLength = req;\n};\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the extra bytes from the backing buffer when\n  the virtual byteLength is smaller than the buffer byteLength (happens after\n  growing the buffer with writes and not filling the extra space completely).\n\n  @return {null}\n  */\nDataStream.prototype._trimAlloc = function() {\n  if (this._byteLength == this._buffer.byteLength) {\n    return;\n  }\n  var buf = new ArrayBuffer(this._byteLength);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, 0, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n};\n\n\n/**\n  Big-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.BIG_ENDIAN = false;\n\n/**\n  Little-endian const to use as default endianness.\n  @type {boolean}\n  */\nDataStream.LITTLE_ENDIAN = true;\n\n/**\n  Virtual byte length of the DataStream backing buffer.\n  Updated to be max of original buffer size and last written size.\n  If dynamicSize is false is set to buffer size.\n  @type {number}\n  */\nDataStream.prototype._byteLength = 0;\n\n/**\n  Returns the byte length of the DataStream object.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteLength',\n  { get: function() {\n    return this._byteLength - this._byteOffset;\n  }});\n\n/**\n  Set/get the backing ArrayBuffer of the DataStream object.\n  The setter updates the DataView to point to the new buffer.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'buffer',\n  { get: function() {\n      this._trimAlloc();\n      return this._buffer;\n    },\n    set: function(v) {\n      this._buffer = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the byteOffset of the DataStream object.\n  The setter updates the DataView to point to the new byteOffset.\n  @type {number}\n  */\nObject.defineProperty(DataStream.prototype, 'byteOffset',\n  { get: function() {\n      return this._byteOffset;\n    },\n    set: function(v) {\n      this._byteOffset = v;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._buffer.byteLength;\n    } });\n\n/**\n  Set/get the backing DataView of the DataStream object.\n  The setter updates the buffer and byteOffset to point to the DataView values.\n  @type {Object}\n  */\nObject.defineProperty(DataStream.prototype, 'dataView',\n  { get: function() {\n      return this._dataView;\n    },\n    set: function(v) {\n      this._byteOffset = v.byteOffset;\n      this._buffer = v.buffer;\n      this._dataView = new DataView(this._buffer, this._byteOffset);\n      this._byteLength = this._byteOffset + v.byteLength;\n    } });\n\n/**\n  Sets the DataStream read/write position to given position.\n  Clamps between 0 and DataStream length.\n\n  @param {number} pos Position to seek to.\n  @return {null}\n  */\nDataStream.prototype.seek = function(pos) {\n  var npos = Math.max(0, Math.min(this.byteLength, pos));\n  this.position = (isNaN(npos) || !isFinite(npos)) ? 0 : npos;\n};\n\n/**\n  Returns true if the DataStream seek pointer is at the end of buffer and\n  there's no more data to read.\n\n  @return {boolean} True if the seek pointer is at the end of the buffer.\n  */\nDataStream.prototype.isEof = function() {\n  return (this.position >= this._byteLength);\n};\n\n\n/**\n  Maps a Uint8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Uint8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n\n/**\n  Reads an Int32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int32Array.\n */\nDataStream.prototype.readInt32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Int32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int16Array.\n */\nDataStream.prototype.readInt16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Int16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads an Int8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Int8Array.\n */\nDataStream.prototype.readInt8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Int8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint32Array.\n */\nDataStream.prototype.readUint32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Uint32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint16Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint16Array.\n */\nDataStream.prototype.readUint16Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 2) : length;\n  var arr = new Uint16Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Uint8Array of desired length from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Uint8Array.\n */\nDataStream.prototype.readUint8Array = function(length) {\n  length = length == null ? (this.byteLength-this.position) : length;\n  var arr = new Uint8Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float64Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float64Array.\n */\nDataStream.prototype.readFloat64Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 8) : length;\n  var arr = new Float64Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n/**\n  Reads a Float32Array of desired length and endianness from the DataStream.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} The read Float32Array.\n */\nDataStream.prototype.readFloat32Array = function(length, e) {\n  length = length == null ? (this.byteLength-this.position / 4) : length;\n  var arr = new Float32Array(length);\n  DataStream.memcpy(arr.buffer, 0,\n                    this.buffer, this.byteOffset+this.position,\n                    length*arr.BYTES_PER_ELEMENT);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += arr.byteLength;\n  return arr;\n};\n\n\n/**\n  Reads a 32-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt32 = function(e) {\n  var v = this._dataView.getInt32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readInt16 = function(e) {\n  var v = this._dataView.getInt16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readInt8 = function() {\n  var v = this._dataView.getInt8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint32 = function(e) {\n  var v = this._dataView.getUint32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 16-bit unsigned int from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readUint16 = function(e) {\n  var v = this._dataView.getUint16(this.position, e == null ? this.endianness : e);\n  this.position += 2;\n  return v;\n};\n\n/**\n  Reads an 8-bit unsigned int from the DataStream.\n\n  @return {number} The read number.\n */\nDataStream.prototype.readUint8 = function() {\n  var v = this._dataView.getUint8(this.position);\n  this.position += 1;\n  return v;\n};\n\n/**\n  Reads a 32-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat32 = function(e) {\n  var v = this._dataView.getFloat32(this.position, e == null ? this.endianness : e);\n  this.position += 4;\n  return v;\n};\n\n/**\n  Reads a 64-bit float from the DataStream with the desired endianness.\n\n  @param {?boolean} e Endianness of the number.\n  @return {number} The read number.\n */\nDataStream.prototype.readFloat64 = function(e) {\n  var v = this._dataView.getFloat64(this.position, e == null ? this.endianness : e);\n  this.position += 8;\n  return v;\n};\n\n/**\n  Native endianness. Either DataStream.BIG_ENDIAN or DataStream.LITTLE_ENDIAN\n  depending on the platform endianness.\n\n  @type {boolean}\n */\nDataStream.endianness = new Int8Array(new Int16Array([1]).buffer)[0] > 0;\n\n/**\n  Copies byteLength bytes from the src buffer at srcOffset to the\n  dst buffer at dstOffset.\n\n  @param {Object} dst Destination ArrayBuffer to write to.\n  @param {number} dstOffset Offset to the destination ArrayBuffer.\n  @param {Object} src Source ArrayBuffer to read from.\n  @param {number} srcOffset Offset to the source ArrayBuffer.\n  @param {number} byteLength Number of bytes to copy.\n */\nDataStream.memcpy = function(dst, dstOffset, src, srcOffset, byteLength) {\n  var dstU8 = new Uint8Array(dst, dstOffset, byteLength);\n  var srcU8 = new Uint8Array(src, srcOffset, byteLength);\n  dstU8.set(srcU8);\n};\n\n/**\n  Converts array to native endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} arrayIsLittleEndian True if the data in the array is\n                                       little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.arrayToNative = function(array, arrayIsLittleEndian) {\n  if (arrayIsLittleEndian == this.endianness) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Converts native endianness array to desired endianness in-place.\n\n  @param {Object} array Typed array to convert.\n  @param {boolean} littleEndian True if the converted array should be\n                                little-endian. Set false for big-endian.\n  @return {Object} The converted typed array.\n */\nDataStream.nativeToEndian = function(array, littleEndian) {\n  if (this.endianness == littleEndian) {\n    return array;\n  } else {\n    return this.flipArrayEndianness(array);\n  }\n};\n\n/**\n  Flips typed array endianness in-place.\n\n  @param {Object} array Typed array to flip.\n  @return {Object} The converted typed array.\n */\nDataStream.flipArrayEndianness = function(array) {\n  var u8 = new Uint8Array(array.buffer, array.byteOffset, array.byteLength);\n  for (var i=0; i<array.byteLength; i+=array.BYTES_PER_ELEMENT) {\n    for (var j=i+array.BYTES_PER_ELEMENT-1, k=i; j>k; j--, k++) {\n      var tmp = u8[k];\n      u8[k] = u8[j];\n      u8[j] = tmp;\n    }\n  }\n  return array;\n};\n\n/**\n  Seek position where DataStream#readStruct ran into a problem.\n  Useful for debugging struct parsing.\n\n  @type {number}\n */\nDataStream.prototype.failurePosition = 0;\n\nString.fromCharCodeUint8 = function(uint8arr) {\n    var arr = [];\n    for (var i = 0; i < uint8arr.length; i++) {\n      arr[i] = uint8arr[i];\n    }\n    return String.fromCharCode.apply(null, arr);\n}\n/**\n  Read a string of desired length and encoding from the DataStream.\n\n  @param {number} length The length of the string to read in bytes.\n  @param {?string} encoding The encoding of the string data in the DataStream.\n                            Defaults to ASCII.\n  @return {string} The read string.\n */\nDataStream.prototype.readString = function(length, encoding) {\n  if (encoding == null || encoding == \"ASCII\") {\n    return String.fromCharCodeUint8.apply(null, [this.mapUint8Array(length == null ? this.byteLength-this.position : length)]);\n  } else {\n    return (new TextDecoder(encoding)).decode(this.mapUint8Array(length));\n  }\n};\n\n/**\n  Read null-terminated string of desired length from the DataStream. Truncates\n  the returned string so that the null byte is not a part of it.\n\n  @param {?number} length The length of the string to read.\n  @return {string} The read string.\n */\nDataStream.prototype.readCString = function(length) {\n  var blen = this.byteLength-this.position;\n  var u8 = new Uint8Array(this._buffer, this._byteOffset + this.position);\n  var len = blen;\n  if (length != null) {\n    len = Math.min(length, blen);\n  }\n  for (var i = 0; i < len && u8[i] !== 0; i++); // find first zero byte\n  var s = String.fromCharCodeUint8.apply(null, [this.mapUint8Array(i)]);\n  if (length != null) {\n    this.position += len-i;\n  } else if (i != blen) {\n    this.position += 1; // trailing zero if not at end of buffer\n  }\n  return s;\n};\n\n/* \n   TODO: fix endianness for 24/64-bit fields\n   TODO: check range/support for 64-bits numbers in JavaScript\n*/\nvar MAX_SIZE = Math.pow(2, 32);\n\nDataStream.prototype.readUint64 = function () {\n\treturn (this.readUint32()*MAX_SIZE)+this.readUint32();\n}\n\nDataStream.prototype.readUint24 = function () {\n\treturn (this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8();\n}\n\nif (typeof exports !== 'undefined') {\n  exports.DataStream = DataStream;  \n}\n// file:src/DataStream-write.js\n/**\n  Saves the DataStream contents to the given filename.\n  Uses Chrome's anchor download property to initiate download.\n \n  @param {string} filename Filename to save as.\n  @return {null}\n  */\nDataStream.prototype.save = function(filename) {\n  var blob = new Blob([this.buffer]);\n  var URL = (window.webkitURL || window.URL);\n  if (URL && URL.createObjectURL) {\n      var url = URL.createObjectURL(blob);\n      var a = document.createElement('a');\n      a.setAttribute('href', url);\n      a.setAttribute('download', filename);\n      a.click();\n      URL.revokeObjectURL(url);\n  } else {\n      throw(\"DataStream.save: Can't create object URL.\");\n  }\n};\n\n/**\n  Whether to extend DataStream buffer when trying to write beyond its size.\n  If set, the buffer is reallocated to twice its current size until the\n  requested write fits the buffer.\n  @type {boolean}\n  */\nDataStream.prototype._dynamicSize = true;\nObject.defineProperty(DataStream.prototype, 'dynamicSize',\n  { get: function() {\n      return this._dynamicSize;\n    },\n    set: function(v) {\n      if (!v) {\n        this._trimAlloc();\n      }\n      this._dynamicSize = v;\n    } });\n\n/**\n  Internal function to trim the DataStream buffer when required.\n  Used for stripping out the first bytes when not needed anymore.\n\n  @return {null}\n  */\nDataStream.prototype.shift = function(offset) {\n  var buf = new ArrayBuffer(this._byteLength-offset);\n  var dst = new Uint8Array(buf);\n  var src = new Uint8Array(this._buffer, offset, dst.length);\n  dst.set(src);\n  this.buffer = buf;\n  this.position -= offset;\n};\n\n/**\n  Writes an Int32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Int32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeInt16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Int16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes an Int8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeInt8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Int8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapInt8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeInt8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Uint32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Uint32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint32(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint16Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeUint16Array = function(arr, e) {\n  this._realloc(arr.length * 2);\n  if (arr instanceof Uint16Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint16Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint16(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Uint8Array to the DataStream.\n\n  @param {Object} arr The array to write.\n */\nDataStream.prototype.writeUint8Array = function(arr) {\n  this._realloc(arr.length * 1);\n  if (arr instanceof Uint8Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapUint8Array(arr.length);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeUint8(arr[i]);\n    }\n  }\n};\n\n/**\n  Writes a Float64Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat64Array = function(arr, e) {\n  this._realloc(arr.length * 8);\n  if (arr instanceof Float64Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat64Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat64(arr[i], e);\n    }\n  }\n};\n\n/**\n  Writes a Float32Array of specified endianness to the DataStream.\n\n  @param {Object} arr The array to write.\n  @param {?boolean} e Endianness of the data to write.\n */\nDataStream.prototype.writeFloat32Array = function(arr, e) {\n  this._realloc(arr.length * 4);\n  if (arr instanceof Float32Array &&\n      this.byteOffset+this.position % arr.BYTES_PER_ELEMENT === 0) {\n    DataStream.memcpy(this._buffer, this.byteOffset+this.position,\n                      arr.buffer, 0,\n                      arr.byteLength);\n    this.mapFloat32Array(arr.length, e);\n  } else {\n    for (var i=0; i<arr.length; i++) {\n      this.writeFloat32(arr[i], e);\n    }\n  }\n};\n\n\n/**\n  Writes a 32-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setInt32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeInt16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setInt16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeInt8 = function(v) {\n  this._realloc(1);\n  this._dataView.setInt8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setUint32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 16-bit unsigned int to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeUint16 = function(v, e) {\n  this._realloc(2);\n  this._dataView.setUint16(this.position, v, e == null ? this.endianness : e);\n  this.position += 2;\n};\n\n/**\n  Writes an 8-bit unsigned  int to the DataStream.\n\n  @param {number} v Number to write.\n */\nDataStream.prototype.writeUint8 = function(v) {\n  this._realloc(1);\n  this._dataView.setUint8(this.position, v);\n  this.position += 1;\n};\n\n/**\n  Writes a 32-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat32 = function(v, e) {\n  this._realloc(4);\n  this._dataView.setFloat32(this.position, v, e == null ? this.endianness : e);\n  this.position += 4;\n};\n\n/**\n  Writes a 64-bit float to the DataStream with the desired endianness.\n\n  @param {number} v Number to write.\n  @param {?boolean} e Endianness of the number.\n */\nDataStream.prototype.writeFloat64 = function(v, e) {\n  this._realloc(8);\n  this._dataView.setFloat64(this.position, v, e == null ? this.endianness : e);\n  this.position += 8;\n};\n\n/**\n  Write a UCS-2 string of desired endianness to the DataStream. The\n  lengthOverride argument lets you define the number of characters to write.\n  If the string is shorter than lengthOverride, the extra space is padded with\n  zeroes.\n\n  @param {string} str The string to write.\n  @param {?boolean} endianness The endianness to use for the written string data.\n  @param {?number} lengthOverride The number of characters to write.\n */\nDataStream.prototype.writeUCS2String = function(str, endianness, lengthOverride) {\n  if (lengthOverride == null) {\n    lengthOverride = str.length;\n  }\n  for (var i = 0; i < str.length && i < lengthOverride; i++) {\n    this.writeUint16(str.charCodeAt(i), endianness);\n  }\n  for (; i<lengthOverride; i++) {\n    this.writeUint16(0);\n  }\n};\n\n/**\n  Writes a string of desired length and encoding to the DataStream.\n\n  @param {string} s The string to write.\n  @param {?string} encoding The encoding for the written string data.\n                            Defaults to ASCII.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeString = function(s, encoding, length) {\n  var i = 0;\n  if (encoding == null || encoding == \"ASCII\") {\n    if (length != null) {\n      var len = Math.min(s.length, length);\n      for (i=0; i<len; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n      for (; i<length; i++) {\n        this.writeUint8(0);\n      }\n    } else {\n      for (i=0; i<s.length; i++) {\n        this.writeUint8(s.charCodeAt(i));\n      }\n    }\n  } else {\n    this.writeUint8Array((new TextEncoder(encoding)).encode(s.substring(0, length)));\n  }\n};\n\n/**\n  Writes a null-terminated string to DataStream and zero-pads it to length\n  bytes. If length is not given, writes the string followed by a zero.\n  If string is longer than length, the written part of the string does not have\n  a trailing zero.\n\n  @param {string} s The string to write.\n  @param {?number} length The number of characters to write.\n */\nDataStream.prototype.writeCString = function(s, length) {\n  var i = 0;\n  if (length != null) {\n    var len = Math.min(s.length, length);\n    for (i=0; i<len; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    for (; i<length; i++) {\n      this.writeUint8(0);\n    }\n  } else {\n    for (i=0; i<s.length; i++) {\n      this.writeUint8(s.charCodeAt(i));\n    }\n    this.writeUint8(0);\n  }\n};\n\n/**\n  Writes a struct to the DataStream. Takes a structDefinition that gives the\n  types and a struct object that gives the values. Refer to readStruct for the\n  structure of structDefinition.\n\n  @param {Object} structDefinition Type definition of the struct.\n  @param {Object} struct The struct data object.\n  */\nDataStream.prototype.writeStruct = function(structDefinition, struct) {\n  for (var i = 0; i < structDefinition.length; i+=2) {\n    var t = structDefinition[i+1];\n    this.writeType(t, struct[structDefinition[i]], struct);\n  }\n};\n\n/**\n  Writes object v of type t to the DataStream.\n\n  @param {Object} t Type of data to write.\n  @param {Object} v Value of data to write.\n  @param {Object} struct Struct to pass to write callback functions.\n  */\nDataStream.prototype.writeType = function(t, v, struct) {\n  var tp;\n  if (typeof t == \"function\") {\n    return t(this, v);\n  } else if (typeof t == \"object\" && !(t instanceof Array)) {\n    return t.set(this, v, struct);\n  }\n  var lengthOverride = null;\n  var charset = \"ASCII\";\n  var pos = this.position;\n  if (typeof(t) == 'string' && /:/.test(t)) {\n    tp = t.split(\":\");\n    t = tp[0];\n    lengthOverride = parseInt(tp[1]);\n  }\n  if (typeof t == 'string' && /,/.test(t)) {\n    tp = t.split(\",\");\n    t = tp[0];\n    charset = parseInt(tp[1]);\n  }\n\n  switch(t) {\n    case 'uint8':\n      this.writeUint8(v);\n      break;\n    case 'int8':\n      this.writeInt8(v);\n      break;\n\n    case 'uint16':\n      this.writeUint16(v, this.endianness);\n      break;\n    case 'int16':\n      this.writeInt16(v, this.endianness);\n      break;\n    case 'uint32':\n      this.writeUint32(v, this.endianness);\n      break;\n    case 'int32':\n      this.writeInt32(v, this.endianness);\n      break;\n    case 'float32':\n      this.writeFloat32(v, this.endianness);\n      break;\n    case 'float64':\n      this.writeFloat64(v, this.endianness);\n      break;\n\n    case 'uint16be':\n      this.writeUint16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int16be':\n      this.writeInt16(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'uint32be':\n      this.writeUint32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'int32be':\n      this.writeInt32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float32be':\n      this.writeFloat32(v, DataStream.BIG_ENDIAN);\n      break;\n    case 'float64be':\n      this.writeFloat64(v, DataStream.BIG_ENDIAN);\n      break;\n\n    case 'uint16le':\n      this.writeUint16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int16le':\n      this.writeInt16(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'uint32le':\n      this.writeUint32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'int32le':\n      this.writeInt32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float32le':\n      this.writeFloat32(v, DataStream.LITTLE_ENDIAN);\n      break;\n    case 'float64le':\n      this.writeFloat64(v, DataStream.LITTLE_ENDIAN);\n      break;\n\n    case 'cstring':\n      this.writeCString(v, lengthOverride);\n      break;\n\n    case 'string':\n      this.writeString(v, charset, lengthOverride);\n      break;\n\n    case 'u16string':\n      this.writeUCS2String(v, this.endianness, lengthOverride);\n      break;\n\n    case 'u16stringle':\n      this.writeUCS2String(v, DataStream.LITTLE_ENDIAN, lengthOverride);\n      break;\n\n    case 'u16stringbe':\n      this.writeUCS2String(v, DataStream.BIG_ENDIAN, lengthOverride);\n      break;\n\n    default:\n      if (t.length == 3) {\n        var ta = t[1];\n        for (var i=0; i<v.length; i++) {\n          this.writeType(ta, v[i]);\n        }\n        break;\n      } else {\n        this.writeStruct(t, v);\n        break;\n      }\n  }\n  if (lengthOverride != null) {\n    this.position = pos;\n    this._realloc(lengthOverride);\n    this.position = pos + lengthOverride;\n  }\n};\n\n\nDataStream.prototype.writeUint64 = function (v) {\n\tvar h = Math.floor(v / MAX_SIZE);\n\tthis.writeUint32(h);\n\tthis.writeUint32(v & 0xFFFFFFFF);\n}\n\nDataStream.prototype.writeUint24 = function (v) {\n\tthis.writeUint8((v & 0x00FF0000)>>16);\n\tthis.writeUint8((v & 0x0000FF00)>>8);\n\tthis.writeUint8((v & 0x000000FF));\n}\n\nDataStream.prototype.adjustUint32 = function(position, value) {\n\tvar pos = this.position;\n\tthis.seek(position);\n\tthis.writeUint32(value);\n\tthis.seek(pos);\n}\n// file:src/DataStream-map.js\n/**\n  Maps an Int32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Int32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps an Int16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Int16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps an Int8Array into the DataStream buffer.\n\n  Nice for quickly reading in data.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Int8Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapInt8Array = function(length) {\n  this._realloc(length * 1);\n  var arr = new Int8Array(this._buffer, this.byteOffset+this.position, length);\n  this.position += length * 1;\n  return arr;\n};\n\n/**\n  Maps a Uint32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Uint32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n\n/**\n  Maps a Uint16Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Uint16Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapUint16Array = function(length, e) {\n  this._realloc(length * 2);\n  var arr = new Uint16Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 2;\n  return arr;\n};\n\n/**\n  Maps a Float64Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float64Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat64Array = function(length, e) {\n  this._realloc(length * 8);\n  var arr = new Float64Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 8;\n  return arr;\n};\n\n/**\n  Maps a Float32Array into the DataStream buffer, swizzling it to native\n  endianness in-place. The current offset from the start of the buffer needs to\n  be a multiple of element size, just like with typed array views.\n\n  Nice for quickly reading in data. Warning: potentially modifies the buffer\n  contents.\n\n  @param {number} length Number of elements to map.\n  @param {?boolean} e Endianness of the data to read.\n  @return {Object} Float32Array to the DataStream backing buffer.\n  */\nDataStream.prototype.mapFloat32Array = function(length, e) {\n  this._realloc(length * 4);\n  var arr = new Float32Array(this._buffer, this.byteOffset+this.position, length);\n  DataStream.arrayToNative(arr, e == null ? this.endianness : e);\n  this.position += length * 4;\n  return arr;\n};\n// file:src/buffer.js\n/**\n * MultiBufferStream is a class that acts as a SimpleStream for parsing \n * It holds several, possibly non-contiguous ArrayBuffer objects, each with a fileStart property \n * containing the offset for the buffer data in an original/virtual file \n *\n * It inherits also from DataStream for all read/write/alloc operations\n */\n\n/**\n * Constructor\n */\nvar MultiBufferStream = function(buffer) {\n\t/* List of ArrayBuffers, with a fileStart property, sorted in fileStart order and non overlapping */\n\tthis.buffers = [];\t\n\tthis.bufferIndex = -1;\n\tif (buffer) {\n\t\tthis.insertBuffer(buffer);\n\t\tthis.bufferIndex = 0;\n\t}\n}\nMultiBufferStream.prototype = new DataStream(new ArrayBuffer(), 0, DataStream.BIG_ENDIAN);\n\n/************************************************************************************\n  Methods for the managnement of the buffers (insertion, removal, concatenation, ...)\n ***********************************************************************************/\n\nMultiBufferStream.prototype.initialized = function() {\n\tvar firstBuffer;\n\tif (this.bufferIndex > -1) {\n\t\treturn true;\n\t} else if (this.buffers.length > 0) {\n\t\tfirstBuffer = this.buffers[0];\n\t\tif (firstBuffer.fileStart === 0) {\n\t\t\tthis.buffer = firstBuffer;\n\t\t\tthis.bufferIndex = 0;\n\t\t\tLog.debug(\"MultiBufferStream\", \"Stream ready for parsing\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\tLog.warn(\"MultiBufferStream\", \"The first buffer should have a fileStart of 0\");\n\t\t\tthis.logBufferLevel();\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\tLog.warn(\"MultiBufferStream\", \"No buffer to start parsing from\");\n\t\tthis.logBufferLevel();\n\t\treturn false;\n\t}\t\t\t\n}\n\n/**\n * helper functions to concatenate two ArrayBuffer objects\n * @param  {ArrayBuffer} buffer1 \n * @param  {ArrayBuffer} buffer2 \n * @return {ArrayBuffer} the concatenation of buffer1 and buffer2 in that order\n */\nArrayBuffer.concat = function(buffer1, buffer2) {\n  Log.debug(\"ArrayBuffer\", \"Trying to create a new buffer of size: \"+(buffer1.byteLength + buffer2.byteLength));\n  var tmp = new Uint8Array(buffer1.byteLength + buffer2.byteLength);\n  tmp.set(new Uint8Array(buffer1), 0);\n  tmp.set(new Uint8Array(buffer2), buffer1.byteLength);\n  return tmp.buffer;\n};\n\n/**\n * Reduces the size of a given buffer, but taking the part between offset and offset+newlength\n * @param  {ArrayBuffer} buffer    \n * @param  {Number}      offset    the start of new buffer\n * @param  {Number}      newLength the length of the new buffer\n * @return {ArrayBuffer}           the new buffer\n */\nMultiBufferStream.prototype.reduceBuffer = function(buffer, offset, newLength) {\n\tvar smallB;\n\tsmallB = new Uint8Array(newLength);\n\tsmallB.set(new Uint8Array(buffer, offset, newLength));\n\tsmallB.buffer.fileStart = buffer.fileStart+offset;\n\tsmallB.buffer.usedBytes = 0;\n\treturn smallB.buffer;\t\n}\n\n/**\n * Inserts the new buffer in the sorted list of buffers,\n *  making sure, it is not overlapping with existing ones (possibly reducing its size).\n *  if the new buffer overrides/replaces the 0-th buffer (for instance because it is bigger), \n *  updates the DataStream buffer for parsing \n*/\nMultiBufferStream.prototype.insertBuffer = function(ab) {\t\n\tvar to_add = true;\n\t/* TODO: improve insertion if many buffers */\n\tfor (var i = 0; i < this.buffers.length; i++) {\n\t\tvar b = this.buffers[i];\n\t\tif (ab.fileStart <= b.fileStart) {\n\t\t\t/* the insertion position is found */\n\t\t\tif (ab.fileStart === b.fileStart) {\n\t\t\t\t/* The new buffer overlaps with an existing buffer */\n\t\t\t\tif (ab.byteLength >  b.byteLength) {\n\t\t\t\t\t/* the new buffer is bigger than the existing one\n\t\t\t\t\t   remove the existing buffer and try again to insert \n\t\t\t\t\t   the new buffer to check overlap with the next ones */\n\t\t\t\t\tthis.buffers.splice(i, 1);\n\t\t\t\t\ti--; \n\t\t\t\t\tcontinue;\n\t\t\t\t} else {\n\t\t\t\t\t/* the new buffer is smaller than the existing one, just drop it */\n\t\t\t\t\tLog.warn(\"MultiBufferStream\", \"Buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\") already appended, ignoring\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/* The beginning of the new buffer is not overlapping with an existing buffer\n\t\t\t\t   let's check the end of it */\n\t\t\t\tif (ab.fileStart + ab.byteLength <= b.fileStart) {\n\t\t\t\t\t/* no overlap, we can add it as is */\n\t\t\t\t} else {\n\t\t\t\t\t/* There is some overlap, cut the new buffer short, and add it*/\n\t\t\t\t\tab = this.reduceBuffer(ab, 0, b.fileStart - ab.fileStart);\n\t\t\t\t}\n\t\t\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\t\t\tthis.buffers.splice(i, 0, ab);\n\t\t\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tthis.buffer = ab;\n\t\t\t\t}\n\t\t\t}\n\t\t\tto_add = false;\n\t\t\tbreak;\n\t\t} else if (ab.fileStart < b.fileStart + b.byteLength) {\n\t\t\t/* the new buffer overlaps its beginning with the end of the current buffer */\n\t\t\tvar offset = b.fileStart + b.byteLength - ab.fileStart;\n\t\t\tvar newLength = ab.byteLength - offset;\n\t\t\tif (newLength > 0) {\n\t\t\t\t/* the new buffer is bigger than the current overlap, drop the overlapping part and try again inserting the remaining buffer */\n\t\t\t\tab = this.reduceBuffer(ab, offset, newLength);\n\t\t\t} else {\n\t\t\t\t/* the content of the new buffer is entirely contained in the existing buffer, drop it entirely */\n\t\t\t\tto_add = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* if the buffer has not been added, we can add it at the end */\n\tif (to_add) {\n\t\tLog.debug(\"MultiBufferStream\", \"Appending new buffer (fileStart: \"+ab.fileStart+\" - Length: \"+ab.byteLength+\")\");\n\t\tthis.buffers.push(ab);\n\t\t/* if this new buffer is inserted in the first place in the list of the buffer, \n\t\t   and the DataStream is initialized, make it the buffer used for parsing */\n\t\tif (i === 0) {\n\t\t\tthis.buffer = ab;\n\t\t}\n\t}\n}\n\n/**\n * Displays the status of the buffers (number and used bytes)\n * @param  {Object} info callback method for display\n */\nMultiBufferStream.prototype.logBufferLevel = function(info) {\n\tvar i;\n\tvar buffer;\n\tvar used, total;\n\tvar ranges = [];\n\tvar range;\n\tvar bufferedString = \"\";\n\tused = 0;\n\ttotal = 0;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (i === 0) {\n\t\t\trange = {};\n\t\t\tranges.push(range);\n\t\t\trange.start = buffer.fileStart;\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tbufferedString += \"[\"+range.start+\"-\";\n\t\t} else if (range.end === buffer.fileStart) {\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t} else {\n\t\t\trange = {};\n\t\t\trange.start = buffer.fileStart;\n\t\t\tbufferedString += (ranges[ranges.length-1].end-1)+\"], [\"+range.start+\"-\";\n\t\t\trange.end = buffer.fileStart+buffer.byteLength;\n\t\t\tranges.push(range);\n\t\t}\n\t\tused += buffer.usedBytes;\n\t\ttotal += buffer.byteLength;\n\t}\n\tif (ranges.length > 0) {\n\t\tbufferedString += (range.end-1)+\"]\";\n\t}\n\tvar log = (info ? Log.info : Log.debug)\n\tif (this.buffers.length === 0) {\n\t\tlog(\"MultiBufferStream\", \"No more buffer in memory\");\n\t} else {\n\t\tlog(\"MultiBufferStream\", \"\"+this.buffers.length+\" stored buffer(s) (\"+used+\"/\"+total+\" bytes): \"+bufferedString);\n\t}\n}\n\nMultiBufferStream.prototype.cleanBuffers = function () {\n\tvar i;\n\tvar buffer;\n\tfor (i = 0; i < this.buffers.length; i++) {\n\t\tbuffer = this.buffers[i];\n\t\tif (buffer.usedBytes === buffer.byteLength) {\n\t\t\tLog.debug(\"MultiBufferStream\", \"Removing buffer #\"+i);\n\t\t\tthis.buffers.splice(i, 1);\n\t\t\ti--;\n\t\t}\n\t}\n}\n\nMultiBufferStream.prototype.mergeNextBuffer = function() {\n\tvar next_buffer;\n\tif (this.bufferIndex+1 < this.buffers.length) {\n\t\tnext_buffer = this.buffers[this.bufferIndex+1];\n\t\tif (next_buffer.fileStart === this.buffer.fileStart + this.buffer.byteLength) {\n\t\t\tvar oldLength = this.buffer.byteLength;\n\t\t\tvar oldUsedBytes = this.buffer.usedBytes;\n\t\t\tvar oldFileStart = this.buffer.fileStart;\n\t\t\tthis.buffers[this.bufferIndex] = ArrayBuffer.concat(this.buffer, next_buffer);\n\t\t\tthis.buffer = this.buffers[this.bufferIndex];\n\t\t\tthis.buffers.splice(this.bufferIndex+1, 1);\n\t\t\tthis.buffer.usedBytes = oldUsedBytes; /* TODO: should it be += ? */\n\t\t\tthis.buffer.fileStart = oldFileStart;\n\t\t\tLog.debug(\"ISOFile\", \"Concatenating buffer for box parsing (length: \"+oldLength+\"->\"+this.buffer.byteLength+\")\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\treturn false;\n\t}\n}\n\n\n/*************************************************************************\n  Seek-related functions\n *************************************************************************/\n\n/**\n * Finds the buffer that holds the given file position\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Number}               the index of the buffer holding the seeked file position, -1 if not found.\n */\nMultiBufferStream.prototype.findPosition = function(fromStart, filePosition, markAsUsed) {\n\tvar i;\n\tvar abuffer = null;\n\tvar index = -1;\n\n\t/* find the buffer with the largest position smaller than the given position */\n\tif (fromStart === true) {\n\t   /* the reposition can be in the past, we need to check from the beginning of the list of buffers */\n\t\ti = 0;\n\t} else {\n\t\ti = this.bufferIndex;\n\t}\n\n\twhile (i < this.buffers.length) {\n\t\tabuffer = this.buffers[i];\n\t\tif (abuffer.fileStart <= filePosition) {\n\t\t\tindex = i;\n\t\t\tif (markAsUsed) {\n\t\t\t\tif (abuffer.fileStart + abuffer.byteLength <= filePosition) {\n\t\t\t\t\tabuffer.usedBytes = abuffer.byteLength;\t\n\t\t\t\t} else {\n\t\t\t\t\tabuffer.usedBytes = filePosition - abuffer.fileStart;\n\t\t\t\t}\t\t\n\t\t\t\tthis.logBufferLevel();\t\n\t\t\t}\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t\ti++;\n\t}\n\n\tif (index !== -1) {\n\t\tabuffer = this.buffers[index];\n\t\tif (abuffer.fileStart + abuffer.byteLength >= filePosition) {\t\t\t\n\t\t\tLog.debug(\"MultiBufferStream\", \"Found position in existing buffer #\"+index);\n\t\t\treturn index;\n\t\t} else {\n\t\t\treturn -1;\n\t\t}\n\t} else {\n\t\treturn -1;\n\t}\n}\n\n/**\n * Finds the largest file position contained in a buffer or in the next buffers if they are contiguous (no gap)\n * starting from the given buffer index or from the current buffer if the index is not given\n *\n * @param  {Number} inputindex Index of the buffer to start from\n * @return {Number}            The largest file position found in the buffers\n */\nMultiBufferStream.prototype.findEndContiguousBuf = function(inputindex) {\n\tvar i;\n\tvar currentBuf;\n\tvar nextBuf;\n\tvar index = (inputindex !== undefined ? inputindex : this.bufferIndex);\n\tcurrentBuf = this.buffers[index];\n\t/* find the end of the contiguous range of data */\n\tif (this.buffers.length > index+1) {\n\t\tfor (i = index+1; i < this.buffers.length; i++) {\n\t\t\tnextBuf = this.buffers[i];\n\t\t\tif (nextBuf.fileStart === currentBuf.fileStart + currentBuf.byteLength) {\n\t\t\t\tcurrentBuf = nextBuf;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t/* return the position of last byte in the file that we have */\n\treturn currentBuf.fileStart + currentBuf.byteLength;\n}\n\n/**\n * Returns the largest file position contained in the buffers, larger than the given position\n * @param  {Number} pos the file position to start from\n * @return {Number}     the largest position in the current buffer or in the buffer and the next contiguous \n *                      buffer that holds the given position\n */\nMultiBufferStream.prototype.getEndFilePositionAfter = function(pos) {\n\tvar index = this.findPosition(true, pos, false);\n\tif (index !== -1) {\n\t\treturn this.findEndContiguousBuf(index);\n\t} else {\n\t\treturn pos;\n\t}\n}\n\n/*************************************************************************\n  Garbage collection related functions\n *************************************************************************/\n\n/**\n * Marks a given number of bytes as used in the current buffer for garbage collection\n * @param {Number} nbBytes \n */\nMultiBufferStream.prototype.addUsedBytes = function(nbBytes) {\n\tthis.buffer.usedBytes += nbBytes;\n\tthis.logBufferLevel();\n}\n\n/**\n * Marks the entire current buffer as used, ready for garbage collection\n */\nMultiBufferStream.prototype.setAllUsedBytes = function() {\n\tthis.buffer.usedBytes = this.buffer.byteLength;\n\tthis.logBufferLevel();\n}\n\n/*************************************************************************\n  Common API between MultiBufferStream and SimpleStream\n *************************************************************************/\n\n/**\n * Tries to seek to a given file position\n * if possible, repositions the parsing from there and returns true \n * if not possible, does not change anything and returns false \n * @param  {Number}  filePosition position in the file to seek to\n * @param  {Boolean} fromStart    indicates if the search should start from the current buffer (false) \n *                                or from the first buffer (true)\n * @param  {Boolean} markAsUsed   indicates if the bytes in between the current position and the seek position \n *                                should be marked as used for garbage collection\n * @return {Boolean}              true if the seek succeeded, false otherwise\n */\nMultiBufferStream.prototype.seek = function(filePosition, fromStart, markAsUsed) {\n\tvar index;\n\tindex = this.findPosition(fromStart, filePosition, markAsUsed);\n\tif (index !== -1) {\n\t\tthis.buffer = this.buffers[index];\n\t\tthis.bufferIndex = index;\n\t\tthis.position = filePosition - this.buffer.fileStart;\n\t\tLog.debug(\"MultiBufferStream\", \"Repositioning parser at buffer position: \"+this.position);\n\t\treturn true;\n\t} else {\n\t\tLog.debug(\"MultiBufferStream\", \"Position \"+filePosition+\" not found in buffered data\");\n\t\treturn false;\n\t}\n}\n\n/**\n * Returns the current position in the file\n * @return {Number} the position in the file\n */\nMultiBufferStream.prototype.getPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.position;\n}\n\n/**\n * Returns the length of the current buffer\n * @return {Number} the length of the current buffer\n */\nMultiBufferStream.prototype.getLength = function() {\n\treturn this.byteLength;\n}\n\nMultiBufferStream.prototype.getEndPosition = function() {\n\tif (this.bufferIndex === -1 || this.buffers[this.bufferIndex] === null) {\n\t\tthrow \"Error accessing position in the MultiBufferStream\";\n\t}\n\treturn this.buffers[this.bufferIndex].fileStart+this.byteLength;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MultiBufferStream = MultiBufferStream;\n}// file:src/descriptor.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MPEG4DescriptorParser = function () {\n\tvar ES_DescrTag \t\t\t= 0x03;\n\tvar DecoderConfigDescrTag \t= 0x04;\n\tvar DecSpecificInfoTag \t\t= 0x05;\n\tvar SLConfigDescrTag \t\t= 0x06;\n\n\tvar descTagToName = [];\n\tdescTagToName[ES_DescrTag] \t\t\t\t= \"ES_Descriptor\";\n\tdescTagToName[DecoderConfigDescrTag] \t= \"DecoderConfigDescriptor\";\n\tdescTagToName[DecSpecificInfoTag] \t\t= \"DecoderSpecificInfo\";\n\tdescTagToName[SLConfigDescrTag] \t\t= \"SLConfigDescriptor\";\n\n\tvar that = this;\n\tvar classes = {};\n\t\t\n\tthis.parseOneDescriptor = function (stream) {\n\t\tvar hdrSize = 0;\n\t\tvar size = 0;\n\t\tvar tag;\n\t\tvar desc;\n\t\tvar byteRead;\n\t\ttag = stream.readUint8();\n\t\thdrSize++;\n\t\tbyteRead = stream.readUint8();\n\t\thdrSize++;\n\t\twhile (byteRead & 0x80) {\t\t\n\t\t\tsize = (byteRead & 0x7F)<<7;\n\t\t\tbyteRead = stream.readUint8();\n\t\t\thdrSize++;\n\t\t} \n\t\tsize += byteRead & 0x7F;\n\t\tLog.debug(\"MPEG4DescriptorParser\", \"Found \"+(descTagToName[tag] || \"Descriptor \"+tag)+\", size \"+size+\" at position \"+stream.getPosition());\n\t\tif (descTagToName[tag]) {\n\t\t\tdesc = new classes[descTagToName[tag]](size);\n\t\t} else {\n\t\t\tdesc = new classes.Descriptor(size);\n\t\t}\n\t\tdesc.parse(stream);\n\t\treturn desc;\n\t}\n\n\tclasses.Descriptor = function(_tag, _size) {\n\t\tthis.tag = _tag;\n\t\tthis.size = _size;\n\t\tthis.descs = [];\n\t}\n\n\tclasses.Descriptor.prototype.parse = function (stream) {\n\t\tthis.data = stream.readUint8Array(this.size);\n\t}\n\n\tclasses.Descriptor.prototype.findDescriptor = function (tag) {\n\t\tfor (var i = 0; i < this.descs.length; i++) {\n\t\t\tif (this.descs[i].tag == tag) {\n\t\t\t\treturn this.descs[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tclasses.Descriptor.prototype.parseRemainingDescriptors = function (stream) {\n\t\tvar start = stream.position;\n\t\twhile (stream.position < start+this.size) {\n\t\t\tvar desc = that.parseOneDescriptor(stream);\n\t\t\tthis.descs.push(desc);\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor = function (size) {\n\t\tclasses.Descriptor.call(this, ES_DescrTag, size);\n\t}\n\t\n\tclasses.ES_Descriptor.prototype = new classes.Descriptor();\n\n\tclasses.ES_Descriptor.prototype.parse = function(stream) {\n\t\tthis.ES_ID = stream.readUint16();\n\t\tthis.flags = stream.readUint8();\n\t\tthis.size -= 3;\n\t\tif (this.flags & 0x80) {\n\t\t\tthis.dependsOn_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.dependsOn_ES_ID = 0;\n\t\t}\n\t\tif (this.flags & 0x40) {\n\t\t\tvar l = stream.readUint8();\n\t\t\tthis.URL = stream.readString(l);\n\t\t\tthis.size -= l+1;\n\t\t} else {\n\t\t\tthis.URL = null;\n\t\t}\n\t\tif (this.flags & 0x20) {\n\t\t\tthis.OCR_ES_ID = stream.readUint16();\n\t\t\tthis.size -= 2;\n\t\t} else {\n\t\t\tthis.OCR_ES_ID = 0;\n\t\t}\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\t\n\tclasses.ES_Descriptor.prototype.getOTI = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (dcd) {\n\t\t\treturn dcd.oti;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tclasses.ES_Descriptor.prototype.getAudioConfig = function(stream) {\n\t\tvar dcd = this.findDescriptor(DecoderConfigDescrTag);\n\t\tif (!dcd) return null;\n\t\tvar dsi = dcd.findDescriptor(DecSpecificInfoTag);\n\t\tif (dsi && dsi.data) {\n\t\t\treturn (dsi.data[0]& 0xF8) >> 3;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\t\n\tclasses.DecoderConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, DecoderConfigDescrTag, size);\n\t}\t\n\tclasses.DecoderConfigDescriptor.prototype = new classes.Descriptor();\n\n\tclasses.DecoderConfigDescriptor.prototype.parse = function(stream) {\n\t\tthis.oti = stream.readUint8();\n\t\tthis.streamType = stream.readUint8();\n\t\tthis.bufferSize = stream.readUint24();\n\t\tthis.maxBitrate = stream.readUint32();\n\t\tthis.avgBitrate = stream.readUint32();\n\t\tthis.size -= 13;\n\t\tthis.parseRemainingDescriptors(stream);\n\t}\n\n\tclasses.DecoderSpecificInfo = function (size) {\n\t\tclasses.Descriptor.call(this, DecSpecificInfoTag, size);\n\t}\n\tclasses.DecoderSpecificInfo.prototype = new classes.Descriptor();\n\n\tclasses.SLConfigDescriptor = function (size) {\n\t\tclasses.Descriptor.call(this, SLConfigDescrTag, size);\n\t}\n\tclasses.SLConfigDescriptor.prototype = new classes.Descriptor();\n\t\n\treturn this;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MPEG4DescriptorParser = MPEG4DescriptorParser;\n}// file:src/box.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar BoxParser = {\n\tERR_INVALID_DATA : -1,\n\tERR_NOT_ENOUGH_DATA : 0,\n\tOK : 1,\n\tboxCodes : [ \n\t\t\t\t \"mdat\", \"idat\", \"free\", \"skip\",\n\t\t\t\t \"avcC\", \"hvcC\", \"ftyp\", \"styp\", \n\t\t\t\t \"payl\", \"vttC\",\n\t\t\t\t \"rtp \", \"sdp \",\n\t\t\t\t \"btrt\", \"frma\",\n\t\t\t\t \"trpy\", \"tpyl\", \"totl\", \"tpay\", \"dmed\", \"dimm\", \"drep\", \"nump\", \"npck\", \"maxr\", \"tmin\", \"tmax\", \"dmax\", \"pmax\", \"payt\",\n\t\t\t\t \"vmhd\", \"smhd\", \"hmhd\", // full boxes not yet parsed\n\t\t\t\t \"idat\", \"meco\",\n\t\t\t\t \"udta\", \"strk\",\n\t\t\t\t \"free\", \"skip\", \n\t\t\t\t \"clap\", \"pasp\", \"colr\"\n\t\t\t   ],\n\tfullBoxCodes : [ \"mvhd\", \"tkhd\", \"mdhd\", \"hdlr\", \"vmhd\", \"smhd\", \"hmhd\", \"nmhd\", \"sthd\", \"url \", \"urn \", \n\t\t\t\t  \"ctts\", \"cslg\", \"stco\", \"co64\", \"stsc\", \"stss\", \"stsz\", \"stz2\", \"stts\", \"stsh\", \n\t\t\t\t  \"mehd\", \"trex\", \"mfhd\", \"tfhd\", \"trun\", \"tfdt\",\n\t\t\t\t  \"esds\", \"subs\",\n\t\t\t\t  \"txtC\",\n\t\t\t\t  \"sidx\", \"emsg\", \"prft\", \"pssh\",\n\t\t\t\t  \"elst\", \"dref\", \"url \", \"urn \",\n\t\t\t\t  \"sbgp\", \"sgpd\",\n\t\t\t\t  \"cprt\",\n\t\t\t\t  \"iods\",\n\t\t\t\t  \"ssix\", \"tfra\", \"mfro\", \"pdin\", \"tsel\",\n\t\t\t\t  \"trep\", \"leva\", \"stri\", \"stsg\",\n\t\t\t\t  \"schm\", \n\t\t\t\t  \"stvi\", \n\t\t\t\t  \"padb\", \"stdp\", \"sdtp\", \"saio\", \"saiz\",\n\t\t\t\t  \"meta\", \"xml \", \"bxml\", \"iloc\", \"pitm\", \"ipro\", \"iinf\", \"infe\", \"iref\" , \"mere\", \n\t\t\t\t  \"kind\", \"elng\", \n\t\t\t\t  \"ipma\", \"pixi\", \"ispe\",\n\t\t\t\t  \"tenc\",\n\t\t\t\t  \"vpcC\"\n\t\t\t\t  /* missing \"stsd\", \"iref\", : special case full box and container */\n\t\t\t\t],\n\tcontainerBoxCodes : [ \n\t\t[ \"moov\", [ \"trak\", \"sidx\" ] ],\n\t\t[ \"trak\" ],\n\t\t[ \"edts\" ],\n\t\t[ \"mdia\" ],\n\t\t[ \"minf\" ],\n\t\t[ \"dinf\" ],\n\t\t[ \"stbl\", [ \"sgpd\", \"sbgp\" ] ],\n\t\t[ \"mvex\", [ \"trex\" ] ],\n\t\t[ \"moof\", [ \"traf\" ] ],\n\t\t[ \"traf\", [ \"trun\", \"sgpd\", \"sbgp\" ] ],\n\t\t[ \"vttc\" ], \n\t\t[ \"tref\" ],\n\t\t[ \"iref\" ],\n\t\t[ \"udta\" ],\n\t\t[ \"mfra\" ],\n\t\t[ \"meco\" ],\n\t\t[ \"hnti\" ],\n\t\t[ \"hinf\" ],\n\t\t[ \"strk\" ],\n\t\t[ \"strd\" ],\n\t\t[ \"sinf\" ],\n\t\t[ \"rinf\" ],\n\t\t[ \"schi\" ],\n\t\t[ \"trgr\" ],\n\t\t[ \"udta\", [\"kind\"] ],\n\t\t[ \"iprp\", [\"ipma\"] ],\n\t\t[ \"ipco\"]\n\t],\n\tsampleEntryCodes : [ \n\t\t/* 4CC as registered on http://mp4ra.org/codecs.html */\n\t\t{ prefix: \"Visual\", types: [ \"mp4v\", \"avc1\", \"avc2\", \"avc3\", \"avc4\", \"avcp\", \"drac\", \"encv\", \"mjp2\", \"mvc1\", \"mvc2\", \"resv\", \"s263\", \"svc1\", \"vc-1\", \"hvc1\", \"hev1\"  ] },\n\t\t{ prefix: \"Audio\", \ttypes: [ \"mp4a\", \"ac-3\", \"alac\", \"dra1\", \"dtsc\", \"dtse\", ,\"dtsh\", \"dtsl\", \"ec-3\", \"enca\", \"g719\", \"g726\", \"m4ae\", \"mlpa\",  \"raw \", \"samr\", \"sawb\", \"sawp\", \"sevc\", \"sqcp\", \"ssmv\", \"twos\", \".mp3\" ] },\n\t\t{ prefix: \"Hint\", \ttypes: [ \"fdp \", \"m2ts\", \"pm2t\", \"prtp\", \"rm2t\", \"rrtp\", \"rsrp\", \"rtp \", \"sm2t\", \"srtp\" ] },\n\t\t{ prefix: \"Metadata\", types: [ \"metx\", \"mett\", \"urim\" ] },\n\t\t{ prefix: \"Subtitle\", types: [ \"stpp\", \"wvtt\", \"sbtt\", \"tx3g\", \"stxt\" ] },\n\t\t{ prefix: \"System\", types: [ \"mp4s\"] }\n\t],\n\tsampleGroupEntryCodes: [\n\t\t\"roll\", \"prol\", \"alst\", \"rap \", \"tele\", \"avss\", \"avll\", \"sync\", \"tscl\", \"tsas\", \"stsa\", \"scif\", \"mvif\", \"scnm\", \"dtrt\", \"vipr\", \"tele\", \"rash\", \"seig\"\n\t],\n\ttrackGroupTypes: [ \"msrc\" ],\n\tinitialize: function() {\n\t\tvar i, j;\n\t\tvar length;\n\t\tBoxParser.FullBox.prototype = new BoxParser.Box();\n\t\tBoxParser.ContainerBox.prototype = new BoxParser.Box();\n\t\tBoxParser.SampleEntry.prototype = new BoxParser.FullBox();\n\t\tBoxParser.TrackGroupTypeBox.prototype = new BoxParser.FullBox();\n\t\t/* creating constructors for simple boxes */\n\t\tlength = BoxParser.boxCodes.length;\n\t\tfor (i=0; i<length; i++) {\n\t\t\tBoxParser[BoxParser.boxCodes[i]+\"Box\"] = (function (j) { /* creating a closure around the iterating value of i */\n\t\t\t\treturn function(size) {\n\t\t\t\t\tBoxParser.Box.call(this, BoxParser.boxCodes[j], size);\n\t\t\t\t}\n\t\t\t})(i);\n\t\t\tBoxParser[BoxParser.boxCodes[i]+\"Box\"].prototype = new BoxParser.Box();\n\t\t}\n\t\t/* creating constructors for full boxes */\n\t\tlength = BoxParser.fullBoxCodes.length;\n\t\tfor (i=0; i<length; i++) {\n\t\t\tBoxParser[BoxParser.fullBoxCodes[i]+\"Box\"] = (function (j) { \n\t\t\t\treturn function(size) {\n\t\t\t\t\tBoxParser.FullBox.call(this, BoxParser.fullBoxCodes[j], size);\n\t\t\t\t}\n\t\t\t})(i);\n\t\t\tBoxParser[BoxParser.fullBoxCodes[i]+\"Box\"].prototype = new BoxParser.FullBox();\n\t\t}\n\t\t/* creating constructors for container boxes */\n\t\tlength = BoxParser.containerBoxCodes.length;\n\t\tfor (i=0; i<length; i++) {\n\t\t\tBoxParser[BoxParser.containerBoxCodes[i][0]+\"Box\"] = (function (j, subBoxNames) { \n\t\t\t\treturn function(size) {\n\t\t\t\t\tBoxParser.ContainerBox.call(this, BoxParser.containerBoxCodes[j][0], size);\n\t\t\t\t\tif (subBoxNames) {\n\t\t\t\t\t\tthis.subBoxNames = subBoxNames;\n\t\t\t\t\t\tvar nbSubBoxes = subBoxNames.length;\n\t\t\t\t\t\tfor (var k = 0; k<nbSubBoxes; k++) {\n\t\t\t\t\t\t\tthis[subBoxNames[k]+\"s\"] = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})(i, BoxParser.containerBoxCodes[i][1]);\n\t\t\tBoxParser[BoxParser.containerBoxCodes[i][0]+\"Box\"].prototype = new BoxParser.ContainerBox();\n\t\t}\n\t\t/* creating constructors for stsd entries  */\n\t\tlength = BoxParser.sampleEntryCodes.length;\n\t\tfor (j = 0; j < length; j++) {\n\t\t\tvar prefix = BoxParser.sampleEntryCodes[j].prefix;\n\t\t\tvar types = BoxParser.sampleEntryCodes[j].types;\n\t\t\tvar nb_types = types.length;\n\t\t\tBoxParser[prefix+\"SampleEntry\"] = function(type, size) { BoxParser.SampleEntry.call(this, type, size); };\n\t\t\tBoxParser[prefix+\"SampleEntry\"].prototype = new BoxParser.SampleEntry();\n\t\t\tfor (i=0; i<nb_types; i++) {\n\t\t\t\tBoxParser[types[i]+\"SampleEntry\"] = (function (k, l) { \n\t\t\t\t\treturn function(size) {\n\t\t\t\t\t\tBoxParser[BoxParser.sampleEntryCodes[k].prefix+\"SampleEntry\"].call(this, BoxParser.sampleEntryCodes[k].types[l], size);\n\t\t\t\t\t}\n\t\t\t\t})(j, i);\n\t\t\t\tBoxParser[types[i]+\"SampleEntry\"].prototype = new BoxParser[prefix+\"SampleEntry\"]();\n\t\t\t}\n\t\t}\n\t\t/* creating constructors for stsd entries  */\n\t\tlength = BoxParser.sampleGroupEntryCodes.length;\n\t\tfor (i = 0; i < length; i++) {\n\t\t\tBoxParser[BoxParser.sampleGroupEntryCodes[i]+\"SampleGroupEntry\"] = (function (j) { \n\t\t\t\treturn function(size) {\n\t\t\t\t\tBoxParser.SampleGroupEntry.call(this, BoxParser.sampleGroupEntryCodes[j], size);\n\t\t\t\t}\n\t\t\t})(i);\n\t\t\tBoxParser[BoxParser.sampleGroupEntryCodes[i]+\"SampleGroupEntry\"].prototype = new BoxParser.SampleGroupEntry();\n\t\t}\t\t\n\t\t/* creating constructors for track groups  */\n\t\tlength = BoxParser.trackGroupTypes.length;\n\t\tfor (i = 0; i < length; i++) {\n\t\t\tBoxParser[BoxParser.trackGroupTypes[i]+\"Box\"] = (function (j) { \n\t\t\t\treturn function(size) {\n\t\t\t\t\tBoxParser.TrackGroupTypeBox.call(this, BoxParser.trackGroupTypes[j], size);\n\t\t\t\t}\n\t\t\t})(i);\n\t\t\tBoxParser[BoxParser.trackGroupTypes[i]+\"Box\"].prototype = new BoxParser.TrackGroupTypeBox();\n\t\t}\t\t\n\t},\n\tBox: function(_type, _size) {\n\t\tthis.type = _type;\n\t\tthis.size = _size;\n\t},\n\tFullBox: function(type, size) {\n\t\tBoxParser.Box.call(this, type, size);\n\t\tthis.flags = 0;\n\t\tthis.version = 0;\n\t},\n\tContainerBox: function(type, size) {\n\t\tBoxParser.Box.call(this, type, size);\n\t\tthis.boxes = [];\n\t},\n\tSampleEntry: function(type, size, hdr_size, start) {\n\t\tBoxParser.Box.call(this, type, size);\t\n\t\tthis.hdr_size = hdr_size;\n\t\tthis.start = start;\n\t\tthis.boxes = [];\n\t},\n\tSampleGroupEntry: function(type) {\n\t\tthis.grouping_type = type;\n\t},\n\tTrackGroupTypeBox: function(type, size) {\n\t\tBoxParser.FullBox.call(this, type, size);\n\t}\n}\n\nBoxParser.initialize();\n\nBoxParser.TKHD_FLAG_ENABLED    = 0x000001;\nBoxParser.TKHD_FLAG_IN_MOVIE   = 0x000002;\nBoxParser.TKHD_FLAG_IN_PREVIEW = 0x000004;\n\nBoxParser.TFHD_FLAG_BASE_DATA_OFFSET\t= 0x01;\nBoxParser.TFHD_FLAG_SAMPLE_DESC\t\t\t= 0x02;\nBoxParser.TFHD_FLAG_SAMPLE_DUR\t\t\t= 0x08;\nBoxParser.TFHD_FLAG_SAMPLE_SIZE\t\t\t= 0x10;\nBoxParser.TFHD_FLAG_SAMPLE_FLAGS\t\t= 0x20;\nBoxParser.TFHD_FLAG_DUR_EMPTY\t\t\t= 0x10000;\nBoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF= 0x20000;\n\nBoxParser.TRUN_FLAGS_DATA_OFFSET= 0x01;\nBoxParser.TRUN_FLAGS_FIRST_FLAG\t= 0x04;\nBoxParser.TRUN_FLAGS_DURATION\t= 0x100;\nBoxParser.TRUN_FLAGS_SIZE\t\t= 0x200;\nBoxParser.TRUN_FLAGS_FLAGS\t\t= 0x400;\nBoxParser.TRUN_FLAGS_CTS_OFFSET\t= 0x800;\n\nBoxParser.Box.prototype.add = function(name) {\n\tvar i, j;\n\tvar box = new BoxParser[name+\"Box\"]();\n\tthis.boxes.push(box);\n\tif (this[name+\"s\"]) {\n\t\tthis[name+\"s\"].push(box);\n\t} else {\n\t\tthis[name] = box;\n\t}\n\treturn box;\n}\n\nBoxParser.Box.prototype.set = function(prop, value) {\n\tthis[prop] = value;\n\treturn this;\n}\n\nBoxParser.Box.prototype.addEntry = function(value, _prop) {\n\tvar prop = _prop || \"entries\";\n\tif (!this[prop]) {\n\t\tthis[prop] = [];\n\t}\n\tthis[prop].push(value);\n\treturn this;\n}\n\nif (typeof exports !== \"undefined\") {\n\texports.BoxParser = BoxParser;\n}\n// file:src/box-codecs.js\nBoxParser.SampleEntry.prototype.isVideo = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isAudio = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isSubtitle = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isMetadata = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.isHint = function() {\n\treturn false;\n}\n\nBoxParser.SampleEntry.prototype.getCodec = function() {\n\treturn this.type.replace('.','');\n}\n\nBoxParser.SampleEntry.prototype.getWidth = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getHeight = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getChannelCount = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleRate = function() {\n\treturn \"\";\n}\n\nBoxParser.SampleEntry.prototype.getSampleSize = function() {\n\treturn \"\";\n}\n\nBoxParser.VisualSampleEntry.prototype.isVideo = function() {\n\treturn true;\n}\n\nBoxParser.VisualSampleEntry.prototype.getWidth = function() {\n\treturn this.width;\n}\n\nBoxParser.VisualSampleEntry.prototype.getHeight = function() {\n\treturn this.height;\n}\n\nBoxParser.AudioSampleEntry.prototype.isAudio = function() {\n\treturn true;\n}\n\nBoxParser.AudioSampleEntry.prototype.getChannelCount = function() {\n\treturn this.channel_count;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleRate = function() {\n\treturn this.samplerate;\n}\n\nBoxParser.AudioSampleEntry.prototype.getSampleSize = function() {\n\treturn this.samplesize;\n}\n\nBoxParser.SubtitleSampleEntry.prototype.isSubtitle = function() {\n\treturn true;\n}\n\nBoxParser.MetadataSampleEntry.prototype.isMetadata = function() {\n\treturn true;\n}\n\n\nBoxParser.decimalToHex = function(d, padding) {\n\tvar hex = Number(d).toString(16);\n\tpadding = typeof (padding) === \"undefined\" || padding === null ? padding = 2 : padding;\n\twhile (hex.length < padding) {\n\t\thex = \"0\" + hex;\n\t}\n\treturn hex;\n}\n\nBoxParser.avc1SampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.avcC) {\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(this.avcC.AVCProfileIndication)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.profile_compatibility)+\n\t\t\t\t\t\t  \"\"+BoxParser.decimalToHex(this.avcC.AVCLevelIndication);\t\t\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.hvc1SampleEntry.prototype.getCodec = function() {\n\tvar i;\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.hvcC) {\n\t\tbaseCodec += '.';\n\t\tswitch (this.hvcC.general_profile_space) {\n\t\t\tcase 0: \n\t\t\t\tbaseCodec += '';\n\t\t\t\tbreak;\n\t\t\tcase 1: \n\t\t\t\tbaseCodec += 'A';\n\t\t\t\tbreak;\n\t\t\tcase 2: \n\t\t\t\tbaseCodec += 'B';\n\t\t\t\tbreak;\n\t\t\tcase 3: \n\t\t\t\tbaseCodec += 'C';\n\t\t\t\tbreak;\n\t\t\n\t\t}\n\t\tbaseCodec += this.hvcC.general_profile_idc;\n\t\tbaseCodec += '.';\n\t\tvar val = this.hvcC.general_profile_compatibility;\n\t\tvar reversed = 0;\n\t\tfor (i=0; i<32; i++) {\n\t\t\treversed |= val & 1;\n\t\t\tif (i==31) break;\n\t\t\treversed <<= 1;\n\t\t\tval >>=1;\n\t\t}\t\t\t\t\n\t\tbaseCodec += BoxParser.decimalToHex(reversed, 0);\n\t\tbaseCodec += '.';\n\t\tif (this.hvcC.general_tier_flag === 0) {\n\t\t\tbaseCodec += 'L';\n\t\t} else {\n\t\t\tbaseCodec += 'H';\n\t\t}\n\t\tbaseCodec += this.hvcC.general_level_idc;\n\t\tvar hasByte = false;\n\t\tvar constraint_string = \"\";\n\t\tfor (i = 5; i >= 0; i--) {\n\t\t\tif (this.hvcC.general_constraint_indicator[i] || hasByte) {\n\t\t\t\tconstraint_string = \".\"+BoxParser.decimalToHex(this.hvcC.general_constraint_indicator[i], 0)+constraint_string;\n\t\t\t\thasByte = true;\n\t\t\t}\n\t\t}\n\t\tbaseCodec += constraint_string;\n\t} \n\treturn baseCodec;\n}\n\nBoxParser.mp4aSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif (this.esds && this.esds.esd) {\n\t\tvar oti = this.esds.esd.getOTI();\n\t\tvar dsi = this.esds.esd.getAudioConfig();\n\t\treturn baseCodec+\".\"+BoxParser.decimalToHex(oti)+(dsi ? \".\"+dsi: \"\");\n\t} else {\n\t\treturn baseCodec;\n\t}\n}\n\nBoxParser.stxtSampleEntry.prototype.getCodec = function() {\n\tvar baseCodec = BoxParser.SampleEntry.prototype.getCodec.call(this);\n\tif(this.mime_format) {\n\t\treturn baseCodec + \".\" + this.mime_format;\n\t} else {\n\t\treturn baseCodec\n\t}\n}\n// file:src/box-parse.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.parseOneBox = function(stream, headerOnly, parentSize) {\n\tvar box;\n\tvar start = stream.getPosition();\n\tvar hdr_size = 0;\n\tvar diff;\n\tvar uuid;\n\tif (stream.getEndPosition() - start < 8) {\n\t\tLog.debug(\"BoxParser\", \"Not enough data in stream to parse the type and size of the box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t}\n\tvar size = stream.readUint32();\n\tvar type = stream.readString(4);\n\tLog.debug(\"BoxParser\", \"Found box of type \"+type+\" and size \"+size+\" at position \"+start);\n\thdr_size = 8;\n\tif (type == \"uuid\") {\n\t\tuuid = stream.readUint8Array(16);\n\t\thdr_size += 16;\n\t}\n\tif (size == 1) {\n\t\tif (stream.getEndPosition() - stream.getPosition() < 8) {\n\t\t\tstream.seek(start);\n\t\t\tLog.warn(\"BoxParser\", \"Not enough data in stream to parse the extended size of the \\\"\"+type+\"\\\" box\");\n\t\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA };\n\t\t}\n\t\tsize = stream.readUint64();\n\t\thdr_size += 8;\n\t} else if (size === 0) {\n\t\t/* box extends till the end of file */\n\t\tif (type !== \"mdat\") {\n\t\t\tthrow \"Unlimited box size not supported\";\n\t\t}\n\t}\n\tif (parentSize && size > parentSize) {\n\t\tLog.error(\"BoxParser\", \"Box of type \"+type+\" has a size \"+size+\" greater than its container size \"+parentSize);\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (start + size > stream.getEndPosition()) {\n\t\tstream.seek(start);\n\t\tLog.warn(\"BoxParser\", \"Not enough data in stream to parse the entire \\\"\"+type+\"\\\" box\");\n\t\treturn { code: BoxParser.ERR_NOT_ENOUGH_DATA, type: type, size: size, hdr_size: hdr_size, start: start };\n\t}\n\tif (headerOnly) {\n\t\treturn { code: BoxParser.OK, type: type, size: size, hdr_size: hdr_size, start: start };\n\t} else {\n\t\tif (BoxParser[type+\"Box\"]) {\n\t\t\tbox = new BoxParser[type+\"Box\"](size);\n\t\t} else {\n\t\t\tif (type !== \"uuid\") {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown box type: \"+type);\n\t\t\t}\n\t\t\tbox = new BoxParser.Box(type, size);\n\t\t\tif (uuid) {\n\t\t\t\tbox.uuid = uuid;\n\t\t\t}\n\t\t}\n\t}\n\tbox.hdr_size = hdr_size;\n\t/* recording the position of the box in the input stream */\n\tbox.start = start;\n\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\tbox.parseDataAndRewind(stream);\n\t}\n\tbox.parse(stream);\n\tdiff = stream.getPosition() - (box.start+box.size);\n\tif (diff < 0) {\n\t\tLog.warn(\"BoxParser\", \"Parsing of box \"+box.type+\" did not read the entire indicated box data size (missing \"+(-diff)+\" bytes), seeking forward\");\n\t\tstream.seek(box.start+box.size);\n\t} else if (diff > 0) {\n\t\tLog.error(\"BoxParser\", \"Parsing of box \"+box.type+\" read \"+diff+\" more bytes than the indicated box data size, seeking backwards\");\n\t\tstream.seek(box.start+box.size);\n\t}\n\treturn { code: BoxParser.OK, box: box, size: box.size };\n}\n\nBoxParser.Box.prototype.parse = function(stream) {\n\tif (this.type != \"mdat\") {\n\t\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t} else {\n\t\tif (this.size === 0) {\n\t\t\tstream.seek(stream.getEndPosition());\n\t\t} else {\n\t\t\tstream.seek(this.start+this.size);\n\t\t}\n\t}\n}\n\n/* Used to parse a box without consuming its data, to allow detailled parsing\n   Useful for boxes for which a write method is not yet implemented */\nBoxParser.Box.prototype.parseDataAndRewind = function(stream) {\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n\t// restore the header size as if the full header had not been parsed\n\tthis.hdr_size -= 4;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.FullBox.prototype.parseFullHeader = function (stream) {\n\tthis.version = stream.readUint8();\n\tthis.flags = stream.readUint24();\n\tthis.hdr_size += 4;\n}\n\nBoxParser.FullBox.prototype.parse = function (stream) {\n\tthis.parseFullHeader(stream);\n\tthis.data = stream.readUint8Array(this.size-this.hdr_size);\n}\n\nBoxParser.ContainerBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\t/* store the box in the 'boxes' array to preserve box order (for offset) but also store box in a property for more direct access */\n\t\t\tthis.boxes.push(box);\n\t\t\tif (this.subBoxNames && this.subBoxNames.indexOf(box.type) != -1) {\n\t\t\t\tthis[this.subBoxNames[this.subBoxNames.indexOf(box.type)]+\"s\"].push(box);\n\t\t\t} else {\n\t\t\t\tthis[box.type] = box;\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t} \n}\n\nBoxParser.Box.prototype.parseLanguage = function(stream) {\n\tthis.language = stream.readUint16();\n\tvar chars = [];\n\tchars[0] = (this.language>>10)&0x1F;\n\tchars[1] = (this.language>>5)&0x1F;\n\tchars[2] = (this.language)&0x1F;\n\tthis.languageString = String.fromCharCode(chars[0]+0x60, chars[1]+0x60, chars[2]+0x60);\n}\n\n// file:src/parsing/TrackGroup.js\nBoxParser.TrackGroupTypeBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_group_id = stream.readUint32();\n}\n\n// file:src/parsing/TrakReference.js\nBoxParser.TrackReferenceTypeBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.TrackReferenceTypeBox.prototype = new BoxParser.Box();\nBoxParser.TrackReferenceTypeBox.prototype.parse = function(stream) {\n\tthis.track_ids = stream.readUint32Array((this.size-this.hdr_size)/4);\n}\n\n// file:src/parsing/avcC.js\nBoxParser.avcCBox.prototype.parse = function(stream) {\n\tvar i;\n\tvar nb_nalus;\n\tvar length;\n\tvar toparse;\n\tthis.configurationVersion = stream.readUint8();\n\tthis.AVCProfileIndication = stream.readUint8();\n\tthis.profile_compatibility = stream.readUint8();\n\tthis.AVCLevelIndication = stream.readUint8();\n\tthis.lengthSizeMinusOne = (stream.readUint8() & 0x3);\n\tnb_nalus = (stream.readUint8() & 0x1F);\n\ttoparse = this.size - this.hdr_size - 6;\n\tthis.SPS = new Array(nb_nalus); \n\tfor (i = 0; i < nb_nalus; i++) {\n\t\tlength = stream.readUint16();\n\t\tthis.SPS[i] = stream.readUint8Array(length);\n\t\ttoparse -= 2+length;\n\t}\n\tnb_nalus = stream.readUint8();\n\ttoparse--;\n\tthis.PPS = new Array(nb_nalus); \n\tfor (i = 0; i < nb_nalus; i++) {\n\t\tlength = stream.readUint16();\n\t\tthis.PPS[i] = stream.readUint8Array(length);\n\t\ttoparse -= 2+length;\n\t}\n\tif (toparse>0) {\n\t\tthis.ext = stream.readUint8Array(toparse);\n\t}\n}\n\n// file:src/parsing/btrt.js\nBoxParser.btrtBox.prototype.parse = function(stream) {\n\tthis.bufferSizeDB = stream.readUint32();\n\tthis.maxBitrate = stream.readUint32();\n\tthis.avgBitrate = stream.readUint32();\n}\n\n// file:src/parsing/clap.js\nBoxParser.clapBox.prototype.parse = function(stream) {\n\tthis.cleanApertureWidthN = stream.readUint32();\n\tthis.cleanApertureWidthD = stream.readUint32();\n\tthis.cleanApertureHeightN = stream.readUint32();\n\tthis.cleanApertureHeightD = stream.readUint32();\n\tthis.horizOffN = stream.readUint32();\n\tthis.horizOffD = stream.readUint32();\n\tthis.vertOffN = stream.readUint32();\n\tthis.vertOffD = stream.readUint32();\n}// file:src/parsing/co64.js\nBoxParser.co64Box.prototype.parse = function(stream) {\n\tvar entry_count;\n\tvar i;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.chunk_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.chunk_offsets.push(stream.readUint64());\n\t\t}\n\t}\n}\n\n// file:src/parsing/colr.js\nBoxParser.colrBox.prototype.parse = function(stream) {\n\tthis.colour_type = stream.readString(4);\n\tif (this.colour_type === 'nclx') {\n\t\tthis.colour_primaries = stream.readUint16();\n\t\tthis.transfer_characteristics = stream.readUint16();\n\t\tthis.matrix_coefficients = stream.readUint16();\n\t\tvar tmp = stream.readUint8();\n\t\tthis.full_range_flag = tmp >> 7;\n\t} else if (this.colour_type === 'rICC') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t} else if (this.colour_type === 'prof') {\n\t\tthis.ICC_profile = stream.readUint8Array(this.size - 4);\n\t}\n}// file:src/parsing/cprt.js\nBoxParser.cprtBox.prototype.parse = function (stream) {\n\tthis.parseFullHeader(stream);\n\tthis.parseLanguage(stream);\n\tthis.notice = stream.readCString();\n}\n\n// file:src/parsing/cslg.js\nBoxParser.cslgBox.prototype.parse = function(stream) {\n\tvar entry_count;\n\tthis.parseFullHeader(stream);\n\tif (this.version === 0) {\n\t\tthis.compositionToDTSShift = stream.readInt32(); /* signed */\n\t\tthis.leastDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.greatestDecodeToDisplayDelta = stream.readInt32(); /* signed */\n\t\tthis.compositionStartTime = stream.readInt32(); /* signed */\n\t\tthis.compositionEndTime = stream.readInt32(); /* signed */\n\t}\n}\n\n// file:src/parsing/ctts.js\nBoxParser.cttsBox.prototype.parse = function(stream) {\n\tvar entry_count;\n\tvar i;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_offsets = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\t/* some files are buggy and declare version=0 while using signed offsets. \n\t\t\t   The likelyhood of using the most significant bit in a 32-bits time offset is very low,\n\t\t\t   so using signed value here as well */ \n\t\t\tthis.sample_offsets.push(stream.readInt32());\n\t\t}\n\t} else if (this.version == 1) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tthis.sample_offsets.push(stream.readInt32()); /* signed */\n\t\t}\n\t} \n}\n\n// file:src/parsing/dimm.js\nBoxParser.dimmBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint64();\n}\n\n// file:src/parsing/dmax.js\nBoxParser.dmaxBox.prototype.parse = function(stream) {\n\tthis.time = stream.readUint32();\n}\n\n// file:src/parsing/dmed.js\nBoxParser.dmedBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint64();\n}\n\n// file:src/parsing/dref.js\nBoxParser.drefBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\tthis.parseFullHeader(stream);\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/drep.js\nBoxParser.drepBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint64();\n}\n\n// file:src/parsing/elng.js\nBoxParser.elngBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.extended_language = stream.readString(this.size-this.hdr_size);\n}\n\n// file:src/parsing/elst.js\nBoxParser.elstBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tentry.segment_duration = stream.readUint64();\n\t\t\tentry.media_time = stream.readInt64();\n\t\t} else {\n\t\t\tentry.segment_duration = stream.readUint32();\n\t\t\tentry.media_time = stream.readInt32();\n\t\t}\n\t\tentry.media_rate_integer = stream.readInt16();\n\t\tentry.media_rate_fraction = stream.readInt16();\n\t}\n}\n\n// file:src/parsing/emsg.js\nBoxParser.emsgBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.scheme_id_uri \t\t\t\t= stream.readCString();\n\tthis.value \t\t\t\t\t\t= stream.readCString();\n\tthis.timescale \t\t\t\t\t= stream.readUint32();\n\tthis.presentation_time_delta \t= stream.readUint32();\n\tthis.event_duration\t\t\t \t= stream.readUint32();\n\tthis.id \t\t\t\t\t\t= stream.readUint32();\n\tvar message_size = this.size - this.hdr_size - (4*4 + (this.scheme_id_uri.length+1) + (this.value.length+1));\n\tthis.message_data = stream.readUint8Array(message_size);\n}\n\n// file:src/parsing/esds.js\nBoxParser.esdsBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tvar esd_data = stream.readUint8Array(this.size-this.hdr_size);\n\tif (typeof MPEG4DescriptorParser !== \"undefined\") {\n\t\tvar esd_parser = new MPEG4DescriptorParser();\n\t\tthis.esd = esd_parser.parseOneDescriptor(new DataStream(esd_data.buffer, 0, DataStream.BIG_ENDIAN));\n\t} \n}\n\n// file:src/parsing/frma.js\nBoxParser.frmaBox.prototype.parse = function(stream) {\n\tthis.data_format = stream.readString(4);\n}\n\n// file:src/parsing/ftyp.js\nBoxParser.ftypBox.prototype.parse = function(stream) {\n\tvar toparse = this.size - this.hdr_size;\n\tthis.major_brand = stream.readString(4);\n\tthis.minor_version = stream.readUint32();\n\ttoparse -= 8;\n\tthis.compatible_brands = [];\n\tvar i = 0;\n\twhile (toparse>=4) {\n\t\tthis.compatible_brands[i] = stream.readString(4);\n\t\ttoparse -= 4;\n\t\ti++;\n\t}\n}\n\n// file:src/parsing/hdlr.js\nBoxParser.hdlrBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.version === 0) {\n\t\tstream.readUint32();\n\t\tthis.handler = stream.readString(4);\n\t\tstream.readUint32Array(3);\n\t\tthis.name = stream.readString(this.size-this.hdr_size-20);\n\t\tif (this.name[this.name.length-1]==='\\0') {\n\t\t\tthis.name = this.name.slice(0,-1);\n\t\t}\n\t} \n}\n\n// file:src/parsing/hvcC.js\nBoxParser.hvcCBox.prototype.parse = function(stream) {\n\tvar i, j;\n\tvar nb_nalus;\n\tvar length;\n\tvar tmp_byte;\n\tthis.configurationVersion = stream.readUint8();\n\ttmp_byte = stream.readUint8();\n\tthis.general_profile_space = tmp_byte >> 6;\n\tthis.general_tier_flag = (tmp_byte & 0x20) >> 5;\n\tthis.general_profile_idc = (tmp_byte & 0x1F);\n\tthis.general_profile_compatibility = stream.readUint32();\n\tthis.general_constraint_indicator = stream.readUint8Array(6);\n\tthis.general_level_idc = stream.readUint8();\n\tthis.min_spatial_segmentation_idc = stream.readUint16() & 0xFFF;\n\tthis.parallelismType = (stream.readUint8() & 0x3);\n\tthis.chromaFormat = (stream.readUint8() & 0x3);\n\tthis.bitDepthLumaMinus8 = (stream.readUint8() & 0x7);\n\tthis.bitDepthChromaMinus8 = (stream.readUint8() & 0x7);\n\tthis.avgFrameRate = stream.readUint16();\n\ttmp_byte = stream.readUint8();\n\tthis.constantFrameRate = (tmp_byte >> 6);\n\tthis.numTemporalLayers = (tmp_byte & 0XD) >> 3;\n\tthis.temporalIdNested = (tmp_byte & 0X4) >> 2;\n\tthis.lengthSizeMinusOne = (tmp_byte & 0X3);\n\n\tthis.nalu_arrays = [];\n\tvar numOfArrays = stream.readUint8();\n\tfor (i = 0; i < numOfArrays; i++) {\n\t\tvar nalu_array = [];\n\t\tthis.nalu_arrays.push(nalu_array);\n\t\ttmp_byte = stream.readUint8()\n\t\tnalu_array.completeness = (tmp_byte & 0x80) >> 7;\n\t\tnalu_array.nalu_type = tmp_byte & 0x3F;\n\t\tvar numNalus = stream.readUint16();\n\t\tfor (j = 0; j < numNalus; j++) {\n\t\t\tvar nalu = {}\n\t\t\tnalu_array.push(nalu);\n\t\t\tlength = stream.readUint16();\n\t\t\tnalu.data   = stream.readUint8Array(length);\n\t\t}\n\t}\n}\n\n// file:src/parsing/iinf.js\nBoxParser.iinfBox.prototype.parse = function(stream) {\n\tvar ret;\n\tthis.parseFullHeader(stream);\n\tif (this.version === 0) {\n\t\tthis.entry_count = stream.readUint16();\n\t} else {\n\t\tthis.entry_count = stream.readUint32();\n\t}\n\tthis.item_infos = [];\n\tfor (var i = 0; i < this.entry_count; i++) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (ret.box.type !== \"infe\") {\n\t\t\t\tLog.error(\"BoxParser\", \"Expected 'infe' box, got \"+ret.box.type);\n\t\t\t}\n\t\t\tthis.item_infos[i] = ret.box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/iloc.js\nBoxParser.ilocBox.prototype.parse = function(stream) {\n\tvar byte;\n\tthis.parseFullHeader(stream);\n\tbyte = stream.readUint8();\n\tthis.offset_size = (byte >> 4) & 0xF;\n\tthis.length_size = byte & 0xF;\n\tbyte = stream.readUint8();\n\tthis.base_offset_size = (byte >> 4) & 0xF;\n\tif (this.version === 1 || this.version === 2) {\n\t\tthis.index_size = byte & 0xF;\n\t} else {\n\t\tthis.index_size = 0;\t\t\n\t\t// reserved = byte & 0xF;\n\t}\n\tthis.items = [];\n\tvar item_count = 0;\n\tif (this.version < 2) {\n\t\titem_count = stream.readUint16();\n\t} else if (this.version === 2) {\n\t\titem_count = stream.readUint32();\n\t} else {\n\t\tthrow \"version of iloc box not supported\";\n\t}\n\tfor (var i = 0; i < item_count; i++) {\n\t\tvar item = {};\n\t\tthis.items.push(item);\n\t\tif (this.version < 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else if (this.version === 2) {\n\t\t\titem.item_ID = stream.readUint16();\n\t\t} else {\n\t\t\tthrow \"version of iloc box not supported\";\n\t\t}\n\t\tif (this.version === 1 || this.version === 2) {\n\t\t\titem.construction_method = (stream.readUint16() & 0xF);\n\t\t} \n\t\titem.data_reference_index = stream.readUint16();\n\t\tswitch(this.base_offset_size) {\n\t\t\tcase 0:\n\t\t\t\titem.base_offset = 0;\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\titem.base_offset = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\titem.base_offset = stream.readUint64();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow \"Error reading base offset size\";\n\t\t}\n\t\tvar extent_count = stream.readUint16();\n\t\titem.extents = [];\n\t\tfor (var j=0; j < extent_count; j++) {\n\t\t\tvar extent = {};\n\t\t\titem.extents.push(extent);\n\t\t\tif (this.version === 1 || this.version === 2) {\n\t\t\t\tswitch(this.index_size) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\textent.extent_index = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\textent.extent_index = stream.readUint32();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\textent.extent_index = stream.readUint64();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tswitch(this.offset_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_offset = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_offset = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_offset = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t\tswitch(this.length_size) {\n\t\t\t\tcase 0:\n\t\t\t\t\textent.extent_length = 0;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\textent.extent_length = stream.readUint32();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\textent.extent_length = stream.readUint64();\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow \"Error reading extent index\";\n\t\t\t}\n\t\t}\n\t}\n}\n\n// file:src/parsing/infe.js\nBoxParser.infeBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.version === 0 || this.version === 1) {\n\t\tthis.item_ID = stream.readUint16();\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_name = stream.readCString();\n\t\tthis.content_type = stream.readCString();\n\t\tthis.content_encoding = stream.readCString();\n\t}\n\tif (this.version === 1) {\n\t\tthis.extension_type = stream.readString(4);\n\t\tLog.warn(\"BoxParser\", \"Cannot parse extension type\");\n\t\tstream.seek(this.start+this.size);\n\t\treturn;\n\t}\n\tif (this.version >= 2) {\n\t\tif (this.version === 2) {\n\t\t\tthis.item_ID = stream.readUint16();\n\t\t} else if (this.version === 3) {\n\t\t\tthis.item_ID = stream.readUint32();\n\t\t}\n\t\tthis.item_protection_index = stream.readUint16();\n\t\tthis.item_type = stream.readString(4);\n\t\tthis.item_name = stream.readCString();\n\t\tif (this.item_type === \"mime\") {\n\t\t\tthis.content_type = stream.readCString();\n\t\t\tthis.content_encoding = stream.readCString();\n\t\t} else if (this.item_type === \"uri \") {\n\t\t\tthis.item_uri_type = stream.readCString();\n\t\t}\n\t}\n}\n// file:src/parsing/ipma.js\nBoxParser.ipmaBox.prototype.parse = function(stream) {\n\tvar i, j;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.associations = [];\n\tfor(i=0; i<entry_count; i++) {\n\t\tvar item_assoc = {};\n\t\tthis.associations.push(item_assoc);\n\t\tif (this.version < 1) {\n\t\t\titem_assoc.id = stream.readUint16();\n\t\t} else {\n\t\t\titem_assoc.id = stream.readUint32();\n\t\t}\n\t\tvar association_count = stream.readUint8();\n\t\titem_assoc.props = [];\n\t\tfor (j = 0; j < association_count; j++) {\n\t\t\tvar tmp = stream.readUint8();\n\t\t\tvar p = [];\n\t\t\titem_assoc.props.push(p);\n\t\t\tvar essential = (tmp & 0x80) >> 7;\n\t\t\tvar property_index;\n\t\t\tif (this.flags & 0x1) {\n\t\t\t\tproperty_index = (tmp & 0x7F) << 8 | stream.readUint8();\t\t\t\t\n\t\t\t} else {\n\t\t\t\tproperty_index = (tmp & 0x7F);\n\t\t\t}\n\t\t\tp.push(property_index);\n\t\t\tp.push(essential === 1);\n\t\t}\n\t}\n}// file:src/parsing/iref.js\nBoxParser.irefBox = function(size) {\n\tBoxParser.FullBox.call(this, \"iref\", size);\n\tthis.references = [];\n}\t\nBoxParser.irefBox.prototype = new BoxParser.FullBox();\nBoxParser.irefBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.parseFullHeader(stream);\n\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t} else {\n\t\t\t\tbox = new BoxParser.SingleItemTypeReferenceBoxLarge(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.references.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n// file:src/parsing/ispe.js\nBoxParser.ispeBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.image_width = stream.readUint32();\n\tthis.image_height = stream.readUint32();\n}// file:src/parsing/kind.js\nBoxParser.kindBox = function(size) {\n\tBoxParser.FullBox.call(this, \"kind\", size);\n\tthis.schemeURI = \"\";\n\tthis.value = \"\";\n}\t\nBoxParser.kindBox.prototype = new BoxParser.FullBox();\nBoxParser.kindBox.prototype.parse = function(stream) {\n\tvar ret;\n\tthis.parseFullHeader(stream);\n\tthis.schemeURI = stream.readCString();\n\tthis.value = stream.readCString();\n}\n// file:src/parsing/leva.js\nBoxParser.levaBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tvar count = stream.readUint8();\n\tthis.levels = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tvar level = {};\n\t\tthis.levels[i] = level;\n\t\tlevel.track_ID = stream.readUint32();\n\t\tvar tmp_byte = stream.readUint8();\n\t\tlevel.padding_flag = tmp_byte >> 7;\n\t\tlevel.assignment_type = tmp_byte & 0x7F;\n\t\tswitch (level.assignment_type) {\n\t\t\tcase 0:\n\t\t\t\tlevel.grouping_type = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tlevel.grouping_type = stream.readUint32();\n\t\t\t\tlevel.grouping_type_parameter = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tlevel.sub_track_id = stream.readUint32();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown leva assignement type\");\n\t\t}\n\t}\n}\n\n// file:src/parsing/maxr.js\nBoxParser.maxrBox.prototype.parse = function(stream) {\n\tthis.period = stream.readUint32();\n\tthis.bytes = stream.readUint32();\n}\n\n// file:src/parsing/mdhd.js\nBoxParser.mdhdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tthis.parseLanguage(stream);\n\tstream.readUint16();\n}\n\n// file:src/parsing/mehd.js\nBoxParser.mehdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\t\n\tif (this.flags & 0x1) {\n\t\tLog.warn(\"BoxParser\", \"mehd box incorrectly uses flags set to 1, converting version to 1\");\n\t\tthis.version = 1;\n\t}\n\tif (this.version == 1) {\n\t\tthis.fragment_duration = stream.readUint64();\n\t} else {\n\t\tthis.fragment_duration = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/meta.js\nBoxParser.metaBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.boxes = [];\n\tBoxParser.ContainerBox.prototype.parse.call(this, stream);\n}\n// file:src/parsing/mfhd.js\nBoxParser.mfhdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.sequence_number = stream.readUint32();\n}\n\n// file:src/parsing/mfro.js\nBoxParser.mfroBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis._size = stream.readUint32();\n}\n\n// file:src/parsing/mvhd.js\nBoxParser.mvhdBox.prototype.parse = function(stream) {\n\tthis.flags = 0;\n\tthis.parseFullHeader(stream);\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.timescale = stream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n  this.aaa = 1222;\n\tthis.rate = stream.readUint32();\n\tthis.volume = stream.readUint16()>>8;\n\tstream.readUint16();\n\tstream.readUint32Array(2);\n\tthis.matrix = stream.readUint32Array(9);\n\tstream.readUint32Array(6);\n\tthis.next_track_id = stream.readUint32();\n}\n\n// file:src/parsing/npck.js\nBoxParser.npckBox.prototype.parse = function(stream) {\n\tthis.packetssent = stream.readUint32();\n}\n\n// file:src/parsing/nump.js\nBoxParser.numpBox.prototype.parse = function(stream) {\n\tthis.packetssent = stream.readUint64();\n}\n\n// file:src/parsing/padb.js\nBoxParser.padbBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tvar sample_count = stream.readUint32();\n\tthis.padbits = [];\n\tfor (var i = 0; i < Math.floor((sample_count+1)/2); i++) {\n\t\tthis.padbits = stream.readUint8();\n\t}\n}\n\n// file:src/parsing/pasp.js\nBoxParser.paspBox.prototype.parse = function(stream) {\n\tthis.hSpacing = stream.readUint32();\n\tthis.vSpacing = stream.readUint32();\n}// file:src/parsing/payl.js\nBoxParser.paylBox.prototype.parse = function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n}\n\n// file:src/parsing/payt.js\nBoxParser.paytBox.prototype.parse = function(stream) {\n\tthis.payloadID = stream.readUint32();\n\tvar count = stream.readUint8();\n\tthis.rtpmap_string = stream.readString(count);\n}\n\n// file:src/parsing/pdin.js\nBoxParser.pdinBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tvar count = (this.size - this.hdr_size)/8;\n\tthis.rate = [];\n\tthis.initial_delay = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.rate[i] = stream.readUint32();\n\t\tthis.initial_delay[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/pitm.js\nBoxParser.pitmBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.version === 0) {\n\t\tthis.item_id = stream.readUint16();\n\t} else {\n\t\tthis.item_id = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/pixi.js\nBoxParser.pixiBox.prototype.parse = function(stream) {\n\tvar i;\n\tthis.parseFullHeader(stream);\n\tthis.num_channels = stream.readUint8();\n\tthis.bits_per_channels = [];\n\tfor (i = 0; i < this.num_channels; i++) {\n\t\tthis.bits_per_channels[i] = stream.readUint8();\n\t}\n}// file:src/parsing/pmax.js\nBoxParser.pmaxBox.prototype.parse = function(stream) {\n\tthis.bytes = stream.readUint32();\n}\n\n// file:src/parsing/prft.js\nBoxParser.prftBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.ref_track_id = stream.readUint32();\n\tthis.ntp_timestamp = stream.readUint64();\n\tif (this.version === 0) {\n\t\tthis.media_time = stream.readUint32();\n\t} else {\n\t\tthis.media_time = stream.readUint64();\n\t}\n}\n\n// file:src/parsing/pssh.js\nBoxParser.psshBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.system_id = stream.readUint8Array(16);\n\tif (this.version > 0) {\n\t\tvar count = stream.readUint32();\n\t\tthis.kid = [];\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.kid[i] = stream.readUint8Array(16);\n\t\t}\n\t} \n\tvar datasize = stream.readUint32();\n\tif (datasize > 0) {\n\t\tthis.data = stream.readUint8Array(datasize);\n\t}\n}\n\n// file:src/parsing/rtp.js\nBoxParser[\"rtp Box\"].prototype.parse = function(stream) {\n\tthis.descriptionformat = stream.readString(4);\n\tthis.sdptext = stream.readString(this.size - this.hdr_size - 4);\n}\n\n// file:src/parsing/saio.js\nBoxParser.saioBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readUint32();\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tvar count = stream.readUint32();\n\tthis.offset = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tif (this.version === 0) {\n\t\t\tthis.offset[i] = stream.readUint32();\n\t\t} else {\n\t\t\tthis.offset[i] = stream.readUint64();\n\t\t}\n\t}\n}\n// file:src/parsing/saiz.js\nBoxParser.saizBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.flags & 0x1) {\n\t\tthis.aux_info_type = stream.readUint32();\n\t\tthis.aux_info_type_parameter = stream.readUint32();\n\t}\n\tthis.default_sample_info_size = stream.readUint8();\n\tvar count = stream.readUint32();\n\tthis.sample_info_size = [];\n\tif (this.default_sample_info_size === 0) {\t\n\t\tfor (var i = 0; i < count; i++) {\n\t\t\tthis.sample_info_size[i] = stream.readUint8();\n\t\t}\n\t}\n}\n\n// file:src/parsing/sampleentries/mett.js\nBoxParser.mettSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/sampleentries/metx.js\nBoxParser.metxSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/sampleentries/sampleentry.js\nBoxParser.SampleEntry.prototype.parseHeader = function(stream) {\n\tstream.readUint8Array(6);\n\tthis.data_reference_index = stream.readUint16();\n\tthis.hdr_size += 8;\n}\n\nBoxParser.SampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n}\n\nBoxParser.SampleEntry.prototype.parseDataAndRewind = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.data = stream.readUint8Array(this.size - this.hdr_size);\n\t// restore the header size as if the sample entry header had not been parsed\n\tthis.hdr_size -= 8;\n\t// rewinding\n\tstream.position -= this.size-this.hdr_size;\n}\n\nBoxParser.SampleEntry.prototype.parseFooter = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t\tthis[box.type] = box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\t\n}\n\nBoxParser.VisualSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tstream.readUint16(); \n\tstream.readUint16();\n\tstream.readUint32Array(3);\n\tthis.width = stream.readUint16();\n\tthis.height = stream.readUint16();\n\tthis.horizresolution = stream.readUint32();\n\tthis.vertresolution = stream.readUint32();\n\tstream.readUint32();\n\tthis.frame_count = stream.readUint16();\n\tthis.compressorname = stream.readString(32);\n\tthis.depth = stream.readUint16();\n\tstream.readUint16();\n\tthis.parseFooter(stream);\n}\n\nBoxParser.AudioSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tstream.readUint32Array(2);\n\tthis.channel_count = stream.readUint16();\n\tthis.samplesize = stream.readUint16();\n\tstream.readUint16();\n\tstream.readUint16();\n\tthis.samplerate = (stream.readUint32()/(1<<16));\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/sampleentries/sbtt.js\nBoxParser.sbttSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/sampleentries/stpp.js\nBoxParser.stppSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.namespace = stream.readCString();\n\tthis.schema_location = stream.readCString();\n\tthis.auxiliary_mime_types = stream.readCString();\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/sampleentries/stxt.js\nBoxParser.stxtSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.content_encoding = stream.readCString();\n\tthis.mime_format = stream.readCString();\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/sampleentries/tx3g.js\nBoxParser.tx3gSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.displayFlags = stream.readUint32();\n\tthis.horizontal_justification = stream.readInt8();\n\tthis.vertical_justification = stream.readInt8();\n\tthis.bg_color_rgba = stream.readUint8Array(4);\n\tthis.box_record = stream.readInt16Array(4);\n\tthis.style_record = stream.readUint8Array(12);\n\tthis.parseFooter(stream);\n}\n// file:src/parsing/sampleentries/wvtt.js\nBoxParser.wvttSampleEntry.prototype.parse = function(stream) {\n\tthis.parseHeader(stream);\n\tthis.parseFooter(stream);\n}\n\n// file:src/parsing/samplegroups/alst.js\nBoxParser.alstSampleGroupEntry.prototype.parse = function(stream) {\n\tvar i;\n\tvar roll_count = stream.readUint16();\n\tthis.first_output_sample = stream.readUint16();\n\tthis.sample_offset = [];\n\tfor (i = 0; i < roll_count; i++) {\n\t\tthis.sample_offset[i] = stream.readUint32();\n\t}\n\tvar remaining = this.description_length - 4 - 4*roll_count;\n\tthis.num_output_samples = [];\n\tthis.num_total_samples = [];\n\tfor (i = 0; i < remaining/4; i++) {\n\t\tthis.num_output_samples[i] = stream.readUint16();\n\t\tthis.num_total_samples[i] = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/samplegroups/avll.js\nBoxParser.avllSampleGroupEntry.prototype.parse = function(stream) {\n\tthis.layerNumber = stream.readUint8();\n\tthis.accurateStatisticsFlag = stream.readUint8();\n\tthis.avgBitRate = stream.readUint16();\n\tthis.avgFrameRate = stream.readUint16();\n}\n\n// file:src/parsing/samplegroups/avss.js\nBoxParser.avssSampleGroupEntry.prototype.parse = function(stream) {\n\tthis.subSequenceIdentifier = stream.readUint16();\n\tthis.layerNumber = stream.readUint8();\n\tvar tmp_byte = stream.readUint8();\n\tthis.durationFlag = tmp_byte >> 7;\n\tthis.avgRateFlag = (tmp_byte >> 6) & 0x1;\n\tif (this.durationFlag) {\n\t\tthis.duration = stream.readUint32();\n\t}\n\tif (this.avgRateFlag) {\n\t\tthis.accurateStatisticsFlag = stream.readUint8();\n\t\tthis.avgBitRate = stream.readUint16();\n\t\tthis.avgFrameRate = stream.readUint16();\n\t}\n\tthis.dependency = [];\n\tvar numReferences = stream.readUint8();\n\tfor (var i = 0; i < numReferences; i++) {\n\t\tvar dependencyInfo = {};\n\t\tthis.dependency.push(dependencyInfo);\n\t\tdependencyInfo.subSeqDirectionFlag = stream.readUint8();\n\t\tdependencyInfo.layerNumber = stream.readUint8();\n\t\tdependencyInfo.subSequenceIdentifier = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/samplegroups/dtrt.js\nBoxParser.dtrtSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/mvif.js\nBoxParser.mvifSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/prol.js\nBoxParser.prolSampleGroupEntry.prototype.parse= function(stream) {\n\tthis.roll_distance = stream.readInt16();\n}\n\n// file:src/parsing/samplegroups/rap.js\nBoxParser[\"rap SampleGroupEntry\"].prototype.parse = function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.num_leading_samples_known = tmp_byte >> 7;\n\tthis.num_leading_samples = tmp_byte & 0x7F;\n}\n\n// file:src/parsing/samplegroups/rash.js\nBoxParser.rashSampleGroupEntry.prototype.parse = function(stream) {\n\tthis.operation_point_count = stream.readUint16();\n\tif (this.description_length !== 2+(this.operation_point_count === 1?2:this.operation_point_count*6)+9) {\n\t\tLog.warn(\"BoxParser\", \"Mismatch in \"+this.grouping_type+\" sample group length\");\n\t\tthis.data =  stream.readUint8Array(this.description_length-2);\n\t} else {\n\t\tif (this.operation_point_count === 1) {\n\t\t\tthis.target_rate_share = stream.readUint16();\n\t\t} else {\n\t\t\tthis.target_rate_share = [];\n\t\t\tthis.available_bitrate = [];\n\t\t\tfor (var i = 0; i < this.operation_point_count; i++) {\n\t\t\t\tthis.available_bitrate[i] = stream.readUint32();\n\t\t\t\tthis.target_rate_share[i] = stream.readUint16();\n\t\t\t}\n\t\t}\n\t\tthis.maximum_bitrate = stream.readUint32();\n\t\tthis.minimum_bitrate = stream.readUint32();\n\t\tthis.discard_priority = stream.readUint8();\n\t}\n}\n\n// file:src/parsing/samplegroups/roll.js\nBoxParser.rollSampleGroupEntry.prototype.parse = function(stream) {\n\tthis.roll_distance = stream.readInt16();\n}\n\n// file:src/parsing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Unknown Sample Group type: \"+this.grouping_type);\n\tthis.data =  stream.readUint8Array(this.description_length);\n}\n\n// file:src/parsing/samplegroups/scif.js\nBoxParser.scifSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/scnm.js\nBoxParser.scnmSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/seig.js\nBoxParser.seigSampleGroupEntry.prototype.parse = function(stream) {\n\tthis.reserved = stream.readUint8();\n\tvar tmp = stream.readUint8();\n\tthis.crypt_byte_block = tmp >> 4;\n\tthis.skip_byte_block = tmp & 0xF;\n\tthis.isProtected = stream.readUint8();\n\tthis.Per_Sample_IV_Size = stream.readUint8();\n\tthis.KID = stream.readUint8Array(16);\n\tthis.constant_IV_size = 0;\n\tthis.constant_IV = 0;\n\tif (this.isProtected === 1 && this.Per_Sample_IV_Size === 0) {\n\t\tthis.constant_IV_size = stream.readUint8();\n\t\tthis.constant_IV = stream.readUint8Array(this.constant_IV_size);\n\t} \n}\n\n// file:src/parsing/samplegroups/stsa.js\nBoxParser.stsaSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/sync.js\nBoxParser.syncSampleGroupEntry.prototype.parse = function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.NAL_unit_type = tmp_byte & 0x3F;\n}\n\n// file:src/parsing/samplegroups/tele.js\nBoxParser.teleSampleGroupEntry.prototype.parse = function(stream) {\n\tvar tmp_byte = stream.readUint8();\n\tthis.level_independently_decodable = tmp_byte >> 7;\n}\n\n// file:src/parsing/samplegroups/tsas.js\nBoxParser.tsasSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/tscl.js\nBoxParser.tsclSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/samplegroups/vipr.js\nBoxParser.viprSampleGroupEntry.prototype.parse = function(stream) {\n\tLog.warn(\"BoxParser\", \"Sample Group type: \"+this.grouping_type+\" not fully parsed\");\n}\n\n// file:src/parsing/sbgp.js\nBoxParser.sbgpBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.grouping_type = stream.readString(4);\n\tif (this.version === 1) {\n\t\tthis.grouping_type_parameter = stream.readUint32();\n\t} else {\n\t\tthis.grouping_type_parameter = 0;\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry = {};\n\t\tthis.entries.push(entry);\n\t\tentry.sample_count = stream.readInt32();\n\t\tentry.group_description_index = stream.readInt32();\n\t}\n}\n\n// file:src/parsing/schm.js\nBoxParser.schmBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.scheme_type = stream.readString(4);\n\tthis.scheme_version = stream.readUint32();\n\tif (this.flags & 0x000001) {\n\t\tthis.scheme_uri = stream.readString(this.size - this.hdr_size - 8);\n\t}\n}\n\n// file:src/parsing/sdp.js\nBoxParser[\"sdp Box\"].prototype.parse = function(stream) {\n\tthis.sdptext = stream.readString(this.size - this.hdr_size);\n}\n\n// file:src/parsing/sdtp.js\nBoxParser.sdtpBox.prototype.parse = function(stream) {\n\tvar tmp_byte;\n\tthis.parseFullHeader(stream);\n\tvar count = (this.size - this.hdr_size);\n\tthis.is_leading = [];\n\tthis.sample_depends_on = [];\n\tthis.sample_is_depended_on = [];\n\tthis.sample_has_redundancy = [];\n\tfor (var i = 0; i < count; i++) {\n\t\ttmp_byte = stream.readUint8();\n\t\tthis.is_leading[i] = tmp_byte >> 6;\n\t\tthis.sample_depends_on[i] = (tmp_byte >> 4) & 0x3;\n\t\tthis.sample_is_depended_on[i] = (tmp_byte >> 2) & 0x3;\n\t\tthis.sample_has_redundancy[i] = tmp_byte & 0x3;\n\t}\n}\n\n// file:src/parsing/sgpd.js\nBoxParser.sgpdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.grouping_type = stream.readString(4);\n\tLog.debug(\"BoxParser\", \"Found Sample Groups of type \"+this.grouping_type);\n\tif (this.version === 1) {\n\t\tthis.default_length = stream.readUint32();\n\t} else {\n\t\tthis.default_length = 0;\t\t\n\t}\n\tif (this.version >= 2) {\n\t\tthis.default_group_description_index = stream.readUint32();\n\t}\n\tthis.entries = [];\n\tvar entry_count = stream.readUint32();\n\tfor (var i = 0; i < entry_count; i++) {\n\t\tvar entry;\n\t\tif (BoxParser[this.grouping_type+\"SampleGroupEntry\"]) {\n\t\t\tentry = new BoxParser[this.grouping_type+\"SampleGroupEntry\"](this.grouping_type);\t\n\t\t}  else {\n\t\t\tentry = new BoxParser.SampleGroupEntry(this.grouping_type);\t\n\t\t}\n\t\tthis.entries.push(entry);\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tentry.description_length = stream.readUint32();\n\t\t\t} else {\n\t\t\t\tentry.description_length = this.default_length;\n\t\t\t}\n\t\t} else {\n\t\t\tentry.description_length = this.default_length;\t\t\t\n\t\t}\n\t\tif (entry.write === BoxParser.SampleGroupEntry.prototype.write) {\n\t\t\tLog.warn(\"BoxParser\", \" SampleEntry for type \"+this.grouping_type+\" writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t// storing data\n\t\t\tentry.data = stream.readUint8Array(entry.description_length);\n\t\t\t// rewinding\n\t\t\tstream.position -= entry.description_length;\n\t\t}\n\t\tentry.parse(stream);\n\t}\n}\n\n// file:src/parsing/sidx.js\nBoxParser.sidxBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.reference_ID = stream.readUint32();\n\tthis.timescale = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.earliest_presentation_time = stream.readUint32();\n\t\tthis.first_offset = stream.readUint32();\n\t} else {\n\t\tthis.earliest_presentation_time = stream.readUint64();\n\t\tthis.first_offset = stream.readUint64();\n\t}\n\tstream.readUint16();\n\tthis.references = [];\n\tvar count = stream.readUint16();\n\tfor (var i = 0; i < count; i++) {\n\t\tvar ref = {};\n\t\tthis.references.push(ref);\n\t\tvar tmp_32 = stream.readUint32();\n\t\tref.reference_type = (tmp_32 >> 31) & 0x1;\n\t\tref.referenced_size = tmp_32 & 0x7FFFFFFF;\n\t\tref.subsegment_duration = stream.readUint32();\n\t\ttmp_32 = stream.readUint32();\n\t\tref.starts_with_SAP = (tmp_32 >> 31) & 0x1;\n\t\tref.SAP_type = (tmp_32 >> 28) & 0x7;\n\t\tref.SAP_delta_time = tmp_32 & 0xFFFFFFF;\n\t}\n}\n\n// file:src/parsing/singleitemtypereference.js\nBoxParser.SingleItemTypeReferenceBox = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBox.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBox.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint16();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/singleitemtypereferencelarge.js\nBoxParser.SingleItemTypeReferenceBoxLarge = function(type, size, hdr_size, start) {\n\tBoxParser.Box.call(this, type, size);\n\tthis.hdr_size = hdr_size;\n\tthis.start = start;\n}\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype = new BoxParser.Box();\nBoxParser.SingleItemTypeReferenceBoxLarge.prototype.parse = function(stream) {\n\tthis.from_item_ID = stream.readUint32();\n\tvar count =  stream.readUint16();\n\tthis.references = [];\n\tfor(var i = 0; i < count; i++) {\n\t\tthis.references[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/ssix.js\nBoxParser.ssixBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.subsegments = [];\n\tvar subsegment_count = stream.readUint32();\n\tfor (var i = 0; i < subsegment_count; i++) {\n\t\tvar subsegment = {};\n\t\tthis.subsegments.push(subsegment);\n\t\tsubsegment.ranges = [];\n\t\tvar range_count = stream.readUint32();\n\t\tfor (var j = 0; j < range_count; j++) {\n\t\t\tvar range = {};\n\t\t\tsubsegment.ranges.push(range);\n\t\t\trange.level = stream.readUint8();\n\t\t\trange.range_size = stream.readUint24();\n\t\t}\n\t}\n}\n\n// file:src/parsing/stco.js\nBoxParser.stcoBox.prototype.parse = function(stream) {\n\tvar entry_count;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.chunk_offsets = stream.readUint32Array(entry_count);\n\t}\n}\n\n// file:src/parsing/stdp.js\nBoxParser.stdpBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tvar count = (this.size - this.hdr_size)/2;\n\tthis.priority = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.priority[i] = stream.readUint16();\n\t}\n}\n\n// file:src/parsing/sthd.js\nBoxParser.sthdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n}\n\n// file:src/parsing/stri.js\nBoxParser.striBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.switch_group = stream.readUint16();\n\tthis.alternate_group = stream.readUint16();\n\tthis.sub_track_id = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 8)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/stsc.js\nBoxParser.stscBox.prototype.parse = function(stream) {\n\tvar entry_count;\n\tvar i;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.first_chunk = [];\n\tthis.samples_per_chunk = [];\n\tthis.sample_description_index = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.first_chunk.push(stream.readUint32());\n\t\t\tthis.samples_per_chunk.push(stream.readUint32());\n\t\t\tthis.sample_description_index.push(stream.readUint32());\n\t\t}\n\t}\n}\n\n// file:src/parsing/stsd.js\nBoxParser.stsdBox = function(size) {\n\tBoxParser.FullBox.call(this, \"stsd\", size);\n\tthis.entries = [];\n};\nBoxParser.stsdBox.prototype = new BoxParser.FullBox();\nBoxParser.stsdBox.prototype.parse = function(stream) {\n\tvar i;\n\tvar ret;\n\tvar entryCount;\n\tvar box;\n\tthis.parseFullHeader(stream);\n\tentryCount = stream.readUint32();\n\tfor (i = 1; i <= entryCount; i++) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tif (BoxParser[ret.type+\"SampleEntry\"]) {\n\t\t\t\tbox = new BoxParser[ret.type+\"SampleEntry\"](ret.size);\n\t\t\t\tbox.hdr_size = ret.hdr_size;\n\t\t\t\tbox.start = ret.start;\n\t\t\t} else {\n\t\t\t\tLog.warn(\"BoxParser\", \"Unknown sample entry type: \"+ret.type);\n\t\t\t\tbox = new BoxParser.SampleEntry(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\t}\n\t\t\tif (box.write === BoxParser.SampleEntry.prototype.write) {\n\t\t\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.entries.push(box);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t} \n}\n\n// file:src/parsing/stsg.js\nBoxParser.stsgBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.grouping_type = stream.readUint32();\n\tvar count = stream.readUint16();\n\tthis.group_description_index = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.group_description_index[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/stsh.js\nBoxParser.stshBox.prototype.parse = function(stream) {\n\tvar entry_count;\n\tvar i;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.shadowed_sample_numbers = [];\n\tthis.sync_sample_numbers = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.shadowed_sample_numbers.push(stream.readUint32());\n\t\t\tthis.sync_sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n}\n\n// file:src/parsing/stss.js\nBoxParser.stssBox.prototype.parse = function(stream) {\n\tvar i;\n\tvar entry_count;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tif (this.version === 0) {\n\t\tthis.sample_numbers = [];\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_numbers.push(stream.readUint32());\n\t\t}\n\t}\n}\n\n// file:src/parsing/stsz.js\nBoxParser.stszBox.prototype.parse = function(stream) {\n\tvar i;\n\tthis.parseFullHeader(stream);\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.sample_size = stream.readUint32();\n\t\tthis.sample_count = stream.readUint32();\n\t\tif (this.sample_size === 0) {\n\t\t\tthis.sample_sizes = stream.readUint32Array(this.sample_count);\n\t\t} else {\n\t\t\tfor (i = 0; i < this.sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = this.sample_size;\n\t\t\t}\t\t\n\t\t}\n\t}\n}\n\n// file:src/parsing/stts.js\nBoxParser.sttsBox.prototype.parse = function(stream) {\n\tvar entry_count;\n\tvar i;\n\tvar delta;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.sample_counts = [];\n\tthis.sample_deltas = [];\n\tif (this.version === 0) {\n\t\tfor(i=0; i<entry_count; i++) {\n\t\t\tthis.sample_counts.push(stream.readUint32());\n\t\t\tdelta = stream.readInt32();\n\t\t\tif (delta < 0) {\n\t\t\t\tLog.warn(\"BoxParser\", \"File uses negative stts sample delta, using value 1 instead, sync may be lost!\");\n\t\t\t\tdelta = 1;\n\t\t\t}\n\t\t\tthis.sample_deltas.push(delta);\n\t\t}\n\t}\n}\n\n// file:src/parsing/stvi.js\nBoxParser.stviBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tvar tmp32 = stream.readUint32();\n\tthis.single_view_allowed = tmp32 & 0x3;\n\tthis.stereo_scheme = stream.readUint32();\n\tvar length = stream.readUint32();\n\tthis.stereo_indication_type = stream.readString(length);\n\tvar ret;\n\tvar box;\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\n\t\t\tthis[box.type] = box;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\t\t\n}\n\n// file:src/parsing/styp.js\nBoxParser.stypBox.prototype.parse = function(stream) {\n\tBoxParser.ftypBox.prototype.parse.call(this, stream);\n}\n\n// file:src/parsing/stz2.js\nBoxParser.stz2Box.prototype.parse = function(stream) {\n\tvar i;\n\tvar sample_size;\n\tvar sample_count;\n\tthis.parseFullHeader(stream);\n\tthis.sample_sizes = [];\n\tif (this.version === 0) {\n\t\tthis.reserved = stream.readUint24();\n\t\tthis.field_size = stream.readUint8();\n\t\tsample_count = stream.readUint32();\n\t\tif (this.field_size === 4) {\n\t\t\tfor (i = 0; i < sample_count; i+=2) {\n\t\t\t\tvar tmp = stream.readUint8();\n\t\t\t\tthis.sample_sizes[i] = (tmp >> 4) & 0xF;\n\t\t\t\tthis.sample_sizes[i+1] = tmp & 0xF;\n\t\t\t}\t\t\n\t\t} else if (this.field_size === 8) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint8();\n\t\t\t}\t\t\n\t\t} else if (this.field_size === 16) {\n\t\t\tfor (i = 0; i < sample_count; i++) {\n\t\t\t\tthis.sample_sizes[i] = stream.readUint16();\n\t\t\t}\t\t\n\t\t} else {\n\t\t\tLog.error(\"BoxParser\", \"Error in length field in stz2 box\");\n\t\t}\n\t}\n}\n\n// file:src/parsing/subs.js\nBoxParser.subsBox.prototype.parse = function(stream) {\n\tvar i,j;\n\tvar entry_count;\n\tvar subsample_count;\n\tthis.parseFullHeader(stream);\n\tentry_count = stream.readUint32();\n\tthis.entries = [];\n\tfor (i = 0; i < entry_count; i++) {\n\t\tvar sampleInfo = {};\n\t\tthis.entries[i] = sampleInfo;\n\t\tsampleInfo.sample_delta = stream.readUint32();\n\t\tsampleInfo.subsamples = [];\n\t\tsubsample_count = stream.readUint16();\n\t\tif (subsample_count>0) {\n\t\t\tfor (j = 0; j < subsample_count; j++) {\n\t\t\t\tvar subsample = {};\n\t\t\t\tsampleInfo.subsamples.push(subsample);\n\t\t\t\tif (this.version == 1) {\n\t\t\t\t\tsubsample.size = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tsubsample.size = stream.readUint16();\n\t\t\t\t}\n\t\t\t\tsubsample.priority = stream.readUint8();\n\t\t\t\tsubsample.discardable = stream.readUint8();\n\t\t\t\tsubsample.codec_specific_parameters = stream.readUint32();\n\t\t\t}\n\t\t}\n\t}\n}\n\n// file:src/parsing/tenc.js\nBoxParser.tencBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tstream.readUint8(); // reserved\n\tif (this.version === 0) {\n\t\tstream.readUint8();\n\t} else {\n\t\tvar tmp = stream.readUint8();\n\t\tthis.default_crypt_byte_block = (tmp >> 4) & 0xF;\n\t\tthis.default_skip_byte_block = tmp & 0xF;\n\t}\n\tthis.default_isProtected = stream.readUint8();\n\tthis.default_Per_Sample_IV_Size = stream.readUint8();\n\tthis.default_KID = stream.readUint8Array(16);\n\tif (this.default_isProtected === 1 && this.default_Per_Sample_IV_Size === 0) {\n\t\tthis.default_constant_IV_size = stream.readUint8();\n\t\tthis.default_constant_IV = stream.readUint8Array(this.default_constant_IV_size);\n\t}\n}// file:src/parsing/tfdt.js\nBoxParser.tfdtBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.version == 1) {\n\t\tthis.baseMediaDecodeTime = stream.readUint64();\n\t} else {\n\t\tthis.baseMediaDecodeTime = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/tfhd.js\nBoxParser.tfhdBox.prototype.parse = function(stream) {\n\tvar readBytes = 0;\n\tthis.parseFullHeader(stream);\n\tthis.track_id = stream.readUint32();\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET)) {\n\t\tthis.base_data_offset = stream.readUint64();\n\t\treadBytes += 8;\n\t} else {\n\t\tthis.base_data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC)) {\n\t\tthis.default_sample_description_index = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_description_index = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR)) {\n\t\tthis.default_sample_duration = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_duration = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE)) {\n\t\tthis.default_sample_size = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_size = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS)) {\n\t\tthis.default_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.default_sample_flags = 0;\n\t}\n}\n\n// file:src/parsing/tfra.js\nBoxParser.tfraBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_ID = stream.readUint32();\n\tstream.readUint24();\n\tvar tmp_byte = stream.readUint8();\n\tthis.length_size_of_traf_num = (tmp_byte >> 4) & 0x3;\n\tthis.length_size_of_trun_num = (tmp_byte >> 2) & 0x3;\n\tthis.length_size_of_sample_num = (tmp_byte) & 0x3;\n\tthis.entries = [];\n\tvar number_of_entries = stream.readUint32();\n\tfor (var i = 0; i < number_of_entries; i++) {\n\t\tif (this.version === 1) {\n\t\t\tthis.time = stream.readUint64();\n\t\t\tthis.moof_offset = stream.readUint64();\n\t\t} else {\n\t\t\tthis.time = stream.readUint32();\n\t\t\tthis.moof_offset = stream.readUint32();\n\t\t}\n\t\tthis.traf_number = stream[\"readUint\"+(8*(this.length_size_of_traf_num+1))]();\n\t\tthis.trun_number = stream[\"readUint\"+(8*(this.length_size_of_trun_num+1))]();\n\t\tthis.sample_number = stream[\"readUint\"+(8*(this.length_size_of_sample_num+1))]();\n\t}\n}\n\n// file:src/parsing/tkhd.js\nBoxParser.tkhdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.version == 1) {\n\t\tthis.creation_time = stream.readUint64();\n\t\tthis.modification_time = stream.readUint64();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint64();\n\t} else {\n\t\tthis.creation_time = stream.readUint32();\n\t\tthis.modification_time = stream.readUint32();\n\t\tthis.track_id = stream.readUint32();\n\t\tstream.readUint32();\n\t\tthis.duration = stream.readUint32();\n\t}\n\tstream.readUint32Array(2);\n\tthis.layer = stream.readInt16();\n\tthis.alternate_group = stream.readInt16();\n\tthis.volume = stream.readInt16()>>8;\n\tstream.readUint16();\n\tthis.matrix = stream.readInt32Array(9);\n\tthis.width = stream.readUint32();\n\tthis.height = stream.readUint32();\n}\n\n// file:src/parsing/tmax.js\nBoxParser.tmaxBox.prototype.parse = function(stream) {\n\tthis.time = stream.readUint32();\n}\n\n// file:src/parsing/tmin.js\nBoxParser.tminBox.prototype.parse = function(stream) {\n\tthis.time = stream.readUint32();\n}\n\n// file:src/parsing/totl.js\nBoxParser.totlBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint32();\n}\n\n// file:src/parsing/tpay.js\nBoxParser.tpayBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint32();\n}\n\n// file:src/parsing/tpyl.js\nBoxParser.tpylBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint64();\n}\n\n// file:src/parsing/tref.js\nBoxParser.trefBox.prototype.parse = function(stream) {\n\tvar ret;\n\tvar box;\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, true, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = new BoxParser.TrackReferenceTypeBox(ret.type, ret.size, ret.hdr_size, ret.start);\n\t\t\tif (box.write === BoxParser.Box.prototype.write && box.type !== \"mdat\") {\n\t\t\t\tLog.warn(\"BoxParser\", box.type+\" box writing not yet implemented, keeping unparsed data in memory for later write\");\n\t\t\t\tbox.parseDataAndRewind(stream);\n\t\t\t}\n\t\t\tbox.parse(stream);\n\t\t\tthis.boxes.push(box);\t\t\t\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/trep.js\nBoxParser.trepBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_ID = stream.readUint32();\n\tthis.boxes = [];\n\twhile (stream.getPosition() < this.start+this.size) {\n\t\tret = BoxParser.parseOneBox(stream, false, this.size - (stream.getPosition() - this.start));\n\t\tif (ret.code === BoxParser.OK) {\n\t\t\tbox = ret.box;\n\t\t\tthis.boxes.push(box);\t\t\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t}\n}\n\n// file:src/parsing/trex.js\nBoxParser.trexBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.track_id = stream.readUint32();\n\tthis.default_sample_description_index = stream.readUint32();\n\tthis.default_sample_duration = stream.readUint32();\n\tthis.default_sample_size = stream.readUint32();\n\tthis.default_sample_flags = stream.readUint32();\n}\n\n// file:src/parsing/trpy.js\nBoxParser.trpyBox.prototype.parse = function(stream) {\n\tthis.bytessent = stream.readUint64();\n}\n\n// file:src/parsing/trun.js\nBoxParser.trunBox.prototype.parse = function(stream) {\n\tvar readBytes = 0;\n\tthis.parseFullHeader(stream);\n\tthis.sample_count = stream.readUint32();\n\treadBytes+= 4;\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ) {\n\t\tthis.data_offset = stream.readInt32(); //signed\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.data_offset = 0;\n\t}\n\tif (this.size - this.hdr_size > readBytes && (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) ) {\n\t\tthis.first_sample_flags = stream.readUint32();\n\t\treadBytes += 4;\n\t} else {\n\t\tthis.first_sample_flags = 0;\n\t}\n\tthis.sample_duration = [];\n\tthis.sample_size = [];\n\tthis.sample_flags = [];\n\tthis.sample_composition_time_offset = [];\n\tif (this.size - this.hdr_size > readBytes) {\n\t\tfor (var i = 0; i < this.sample_count; i++) {\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\tthis.sample_duration[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\tthis.sample_size[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\tthis.sample_flags[i] = stream.readUint32();\n\t\t\t}\n\t\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\tif (this.version === 0) {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readUint32();\n\t\t\t\t} else {\n\t\t\t\t\tthis.sample_composition_time_offset[i] = stream.readInt32(); //signed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n// file:src/parsing/tsel.js\nBoxParser.tselBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.switch_group = stream.readUint32();\n\tvar count = (this.size - this.hdr_size - 4)/4;\n\tthis.attribute_list = [];\n\tfor (var i = 0; i < count; i++) {\n\t\tthis.attribute_list[i] = stream.readUint32();\n\t}\n}\n\n// file:src/parsing/txtC.js\nBoxParser.txtCBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.config = stream.readCString();\n}\n\n// file:src/parsing/url.js\nBoxParser[\"url Box\"].prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tif (this.flags !== 0x000001) {\n\t\tthis.location = stream.readCString();\n\t} \n}\n\n// file:src/parsing/urn.js\nBoxParser[\"urn Box\"].prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.name = stream.readCString();\n\tif (this.size - this.hdr_size - this.name.length - 1 > 0) {\n\t\tthis.location = stream.readCString();\n\t}\n}\n\n// file:src/parsing/vmhd.js\nBoxParser.vmhdBox.prototype.parse = function(stream) {\n\tthis.parseFullHeader(stream);\n\tthis.graphicsmode = stream.readUint16();\n\tthis.opcolor = stream.readUint16Array(3);\n}\n\n// file:src/parsing/vpcC.js\nBoxParser.vpcCBox.prototype.parse = function (stream) {\n\tthis.parseFullHeader(stream);\n\tthis.profile = stream.readUint8();\n\tthis.level = stream.readUint8();\n\tvar tmp = stream.readUint8();\n\tthis.bitDepth = (tmp >> 4) & 0xF;\n\tthis.colorSpace = tmp & 0xF;\n\ttmp = stream.readUint8();\n\tthis.chromaSubsampling = (tmp >> 4) & 0xF;\n\tthis.transferFunction = (tmp >> 1) & 0x7;\n\tthis.videoFullRangeFlag = tmp & 0x1;\n\tvar codecIntializationDataSize = stream.readUint16();\n\tthis.codecIntializationData = stream.readUint8Array(codecIntializationDataSize);\n}// file:src/parsing/vttC.js\nBoxParser.vttCBox.prototype.parse = function(stream) {\n\tthis.text = stream.readString(this.size - this.hdr_size);\n}\n\n// file:src/box-write.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.Box.prototype.writeHeader = function(stream, msg) {\n\tthis.size += 8;\n\tif (this.size > MAX_SIZE) {\n\t\tthis.size += 8;\n\t}\n\tif (this.type === \"uuid\") {\n\t\tthis.size += 16;\n\t}\n\tLog.debug(\"BoxWriter\", \"Writing box \"+this.type+\" of size: \"+this.size+\" at position \"+stream.getPosition()+(msg || \"\"));\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint32(1);\n\t} else {\n\t\tthis.sizePosition = stream.getPosition();\n\t\tstream.writeUint32(this.size);\n\t}\n\tstream.writeString(this.type, null, 4);\n\tif (this.type === \"uuid\") {\n\t\tstream.writeUint8Array(this.uuid);\n\t}\n\tif (this.size > MAX_SIZE) {\n\t\tstream.writeUint64(this.size);\n\t} \n}\n\nBoxParser.FullBox.prototype.writeHeader = function(stream) {\n\tthis.size += 4;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream, \" v=\"+this.version+\" f=\"+this.flags);\n\tstream.writeUint8(this.version);\n\tstream.writeUint24(this.flags);\n}\n\nBoxParser.Box.prototype.write = function(stream) {\n\tif (this.type === \"mdat\") {\n\t\t/* TODO: fix this */\n\t\tif (this.data) {\n\t\t\tthis.size = this.data.length;\n\t\t\tthis.writeHeader(stream);\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t} else {\n\t\tthis.size = (this.data ? this.data.length : 0);\n\t\tthis.writeHeader(stream);\n\t\tif (this.data) {\n\t\t\tstream.writeUint8Array(this.data);\n\t\t}\n\t}\n}\n\nBoxParser.ContainerBox.prototype.write = function(stream) {\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tif (this.boxes[i]) {\n\t\t\tthis.boxes[i].write(stream);\n\t\t\tthis.size += this.boxes[i].size;\n\t\t}\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\nBoxParser.TrackReferenceTypeBox.prototype.write = function(stream) {\n\tthis.size = this.track_ids.length*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32Array(this.track_ids);\n}\n\n// file:src/writing/avcC.js\nBoxParser.avcCBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.size = 7;\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tthis.size += 2+this.SPS[i].length;\n\t}\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tthis.size += 2+this.PPS[i].length;\n\t}\n\tif (this.ext) {\n\t\tthis.size += this.ext.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint8(this.configurationVersion);\n\tstream.writeUint8(this.AVCProfileIndication);\n\tstream.writeUint8(this.profile_compatibility);\n\tstream.writeUint8(this.AVCLevelIndication);\n\tstream.writeUint8(this.lengthSizeMinusOne + (63<<2));\n\tstream.writeUint8(this.SPS.length + (7<<5));\n\tfor (i = 0; i < this.SPS.length; i++) {\n\t\tstream.writeUint16(this.SPS[i].length);\n\t\tstream.writeUint8Array(this.SPS[i]);\n\t}\n\tstream.writeUint8(this.PPS.length);\n\tfor (i = 0; i < this.PPS.length; i++) {\n\t\tstream.writeUint16(this.PPS[i].length);\n\t\tstream.writeUint8Array(this.PPS[i]);\n\t}\t\n\tif (this.ext) {\n\t\tstream.writeUint8Array(this.ext);\n\t}\n}\n\n// file:src/writing/co64.js\nBoxParser.co64Box.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tfor(i=0; i<this.chunk_offsets.length; i++) {\n\t\tstream.writeUint64(this.chunk_offsets[i]);\n\t}\n}\n\n// file:src/writing/cslg.js\nBoxParser.cslgBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeInt32(this.compositionToDTSShift);\n\tstream.writeInt32(this.leastDecodeToDisplayDelta);\n\tstream.writeInt32(this.greatestDecodeToDisplayDelta);\n\tstream.writeInt32(this.compositionStartTime);\n\tstream.writeInt32(this.compositionEndTime);\n}\n\n// file:src/writing/ctts.js\nBoxParser.cttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tif (this.version === 1) {\n\t\t\tstream.writeInt32(this.sample_offsets[i]); /* signed */\n\t\t} else {\t\t\t\n\t\t\tstream.writeUint32(this.sample_offsets[i]); /* unsigned */\n\t\t}\n\t}\n}\n\n// file:src/writing/dref.js\nBoxParser.drefBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4; //\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\t\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/elng.js\nBoxParser.elngBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.extended_language.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.extended_language);\n}\n\n// file:src/writing/elst.js\nBoxParser.elstBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4+12*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeUint32(entry.segment_duration);\n\t\tstream.writeInt32(entry.media_time);\n\t\tstream.writeInt16(entry.media_rate_integer);\n\t\tstream.writeInt16(entry.media_rate_fraction);\n\t}\n}\n\n// file:src/writing/emsg.js\nBoxParser.emsgBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.scheme_id_uri);\n\tstream.writeCString(this.value);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.presentation_time_delta);\n\tstream.writeUint32(this.event_duration);\n\tstream.writeUint32(this.id);\n\tstream.writeUint8Array(this.message_data);\n}\n\n// file:src/writing/ftyp.js\nBoxParser.ftypBox.prototype.write = function(stream) {\n\tthis.size = 8+4*this.compatible_brands.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.major_brand, null, 4);\n\tstream.writeUint32(this.minor_version);\n\tfor (var i = 0; i < this.compatible_brands.length; i++) {\n\t\tstream.writeString(this.compatible_brands[i], null, 4);\n\t}\n}\n\n// file:src/writing/hdlr.js\nBoxParser.hdlrBox.prototype.write = function(stream) {\n\tthis.size = 5*4+this.name.length+1;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(0);\n\tstream.writeString(this.handler, null, 4);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeCString(this.name);\n}\n\n// file:src/writing/kind.js\nBoxParser.kindBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = (this.schemeURI.length+1)+(this.value.length+1);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.schemeURI);\n\tstream.writeCString(this.value);\n}\n\n// file:src/writing/mdhd.js\nBoxParser.mdhdBox.prototype.write = function(stream) {\n\tthis.size = 4*4+2*2;\n\tthis.flags = 0;\n\tthis.version = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint16(this.language);\n\tstream.writeUint16(0);\n}\n\n// file:src/writing/mehd.js\nBoxParser.mehdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.fragment_duration);\n}\n\n// file:src/writing/mfhd.js\nBoxParser.mfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sequence_number);\n}\n\n// file:src/writing/mvhd.js\nBoxParser.mvhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 23*4+2*2;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(this.rate);\n\tstream.writeUint16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32Array(this.matrix);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.next_track_id);\n}\n\n// file:src/writing/sampleentry.js\nBoxParser.SampleEntry.prototype.writeHeader = function(stream) {\n\tthis.size = 8;\n\tBoxParser.Box.prototype.writeHeader.call(this, stream);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint8(0);\n\tstream.writeUint16(this.data_reference_index);\n}\n\nBoxParser.SampleEntry.prototype.writeFooter = function(stream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(stream);\n\t\tthis.size += this.boxes[i].size;\n\t}\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.SampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tstream.writeUint8Array(this.data);\n\tthis.size += this.data.length;\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\t\n}\n\nBoxParser.VisualSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*7+6*4+32;\n\tstream.writeUint16(0); \n\tstream.writeUint16(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.width);\n\tstream.writeUint16(this.height);\n\tstream.writeUint32(this.horizresolution);\n\tstream.writeUint32(this.vertresolution);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.frame_count);\n\tstream.writeString(this.compressorname, null, 32);\n\tstream.writeUint16(this.depth);\n\tstream.writeInt16(-1);\n\tthis.writeFooter(stream);\n}\n\nBoxParser.AudioSampleEntry.prototype.write = function(stream) {\n\tthis.writeHeader(stream);\n\tthis.size += 2*4+3*4;\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeUint16(this.channel_count);\n\tstream.writeUint16(this.samplesize);\n\tstream.writeUint16(0);\n\tstream.writeUint16(0);\n\tstream.writeUint32(this.samplerate<<16);\n\tthis.writeFooter(stream);\n}\n// file:src/writing/samplegroups/samplegroup.js\nBoxParser.SampleGroupEntry.prototype.write = function(stream) {\n\tstream.writeUint8Array(this.data);\n}\n\n// file:src/writing/sbgp.js\nBoxParser.sbgpBox.prototype.write = function(stream) {\n\tthis.version = 1;\t\n\tthis.flags = 0;\n\tthis.size = 12+8*this.entries.length;\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tstream.writeUint32(this.grouping_type_parameter);\n\tstream.writeUint32(this.entries.length);\n\tfor (var i = 0; i < this.entries.length; i++) {\n\t\tvar entry = this.entries[i];\n\t\tstream.writeInt32(entry.sample_count);\n\t\tstream.writeInt32(entry.group_description_index);\n\t}\n}\n\n// file:src/writing/sgpd.js\nBoxParser.sgpdBox.prototype.write = function(stream) {\n\tvar i;\n\tvar entry;\n\t// leave version as read\n\t// this.version;\n\tthis.flags = 0;\n\tthis.size = 12;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tthis.size += 4;\n\t\t\t}\n\t\t\tthis.size += entry.data.length;\n\t\t}\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeString(this.grouping_type, null, 4);\n\tif (this.version === 1) {\n\t\tstream.writeUint32(this.default_length);\n\t}\n\tif (this.version >= 2) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tstream.writeUint32(this.entries.length);\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tentry = this.entries[i];\n\t\tif (this.version === 1) {\n\t\t\tif (this.default_length === 0) {\n\t\t\t\tstream.writeUint32(entry.description_length);\n\t\t\t}\n\t\t}\n\t\tentry.write(stream);\n\t}\n}\n\n\n// file:src/writing/sidx.js\nBoxParser.sidxBox.prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = 4*4+2+2+12*this.references.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.reference_ID);\n\tstream.writeUint32(this.timescale);\n\tstream.writeUint32(this.earliest_presentation_time);\n\tstream.writeUint32(this.first_offset);\n\tstream.writeUint16(0);\n\tstream.writeUint16(this.references.length);\n\tfor (var i = 0; i < this.references.length; i++) {\n\t\tvar ref = this.references[i];\n\t\tstream.writeUint32(ref.reference_type << 31 | ref.referenced_size);\n\t\tstream.writeUint32(ref.subsegment_duration);\n\t\tstream.writeUint32(ref.starts_with_SAP << 31 | ref.SAP_type << 28 | ref.SAP_delta_time);\n\t}\n}\n\n// file:src/writing/stco.js\nBoxParser.stcoBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.chunk_offsets.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.chunk_offsets.length);\n\tstream.writeUint32Array(this.chunk_offsets);\n}\n\n// file:src/writing/stsc.js\nBoxParser.stscBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+12*this.first_chunk.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.first_chunk.length);\n\tfor(i=0; i<this.first_chunk.length; i++) {\n\t\tstream.writeUint32(this.first_chunk[i]);\n\t\tstream.writeUint32(this.samples_per_chunk[i]);\n\t\tstream.writeUint32(this.sample_description_index[i]);\n\t}\n}\n\n// file:src/writing/stsd.js\nBoxParser.stsdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 0;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.entries.length);\n\tthis.size += 4;\n\tfor (i = 0; i < this.entries.length; i++) {\n\t\tthis.entries[i].write(stream);\n\t\tthis.size += this.entries[i].size;\n\t}\n\t/* adjusting the size, now that all sub-boxes are known */\n\tLog.debug(\"BoxWriter\", \"Adjusting box \"+this.type+\" with new size \"+this.size);\n\tstream.adjustUint32(this.sizePosition, this.size);\n}\n\n// file:src/writing/stsh.js\nBoxParser.stshBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.shadowed_sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.shadowed_sample_numbers.length);\n\tfor(i=0; i<this.shadowed_sample_numbers.length; i++) {\n\t\tstream.writeUint32(this.shadowed_sample_numbers[i]);\n\t\tstream.writeUint32(this.sync_sample_numbers[i]);\n\t}\n}\n\n// file:src/writing/stss.js\nBoxParser.stssBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+4*this.sample_numbers.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_numbers.length);\n\tstream.writeUint32Array(this.sample_numbers);\n}\n\n// file:src/writing/stsz.js\nBoxParser.stszBox.prototype.write = function(stream) {\n\tvar i;\n\tvar constant = true;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tif (this.sample_sizes.length > 0) {\n\t\ti = 0;\n\t\twhile (i+1 < this.sample_sizes.length) {\n\t\t\tif (this.sample_sizes[i+1] !==  this.sample_sizes[0]) {\n\t\t\t\tconstant = false;\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tconstant = false;\n\t}\n\tthis.size = 8;\n\tif (!constant) {\n\t\tthis.size += 4*this.sample_sizes.length;\n\t}\n\tthis.writeHeader(stream);\n\tif (!constant) {\n\t\tstream.writeUint32(0);\n\t} else {\n\t\tstream.writeUint32(this.sample_sizes[0]);\n\t}\n\tstream.writeUint32(this.sample_sizes.length);\n\tif (!constant) {\n\t\tstream.writeUint32Array(this.sample_sizes);\n\t}\t\n}\n\n// file:src/writing/stts.js\nBoxParser.sttsBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4+8*this.sample_counts.length;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_counts.length);\n\tfor(i=0; i<this.sample_counts.length; i++) {\n\t\tstream.writeUint32(this.sample_counts[i]);\n\t\tstream.writeUint32(this.sample_deltas[i]);\n\t}\n}\n\n// file:src/writing/tfdt.js\nBoxParser.tfdtBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4;\n\tif (this.version === 1) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.version === 1) {\n\t\tstream.writeUint64(this.baseMediaDecodeTime);\n\t} else {\n\t\tstream.writeUint32(this.baseMediaDecodeTime); \n\t}\n}\n\n// file:src/writing/tfhd.js\nBoxParser.tfhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tthis.size += 8;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tthis.size += 4;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tif (this.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) {\n\t\tstream.writeUint64(this.base_data_offset);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\tstream.writeUint32(this.default_sample_description_index);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\tstream.writeUint32(this.default_sample_duration);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\tstream.writeUint32(this.default_sample_size);\n\t}\n\tif (this.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\tstream.writeUint32(this.default_sample_flags);\n\t}\n}\n\n// file:src/writing/tkhd.js\nBoxParser.tkhdBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\t//this.flags = 0;\n\tthis.size = 4*18+2*4;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.creation_time);\n\tstream.writeUint32(this.modification_time);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(0);\n\tstream.writeUint32(this.duration);\n\tstream.writeUint32(0);\n\tstream.writeUint32(0);\n\tstream.writeInt16(this.layer);\n\tstream.writeInt16(this.alternate_group);\n\tstream.writeInt16(this.volume<<8);\n\tstream.writeUint16(0);\n\tstream.writeInt32Array(this.matrix);\n\tstream.writeUint32(this.width);\n\tstream.writeUint32(this.height);\n}\n\n// file:src/writing/trex.js\nBoxParser.trexBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.flags = 0;\n\tthis.size = 4*5;\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.track_id);\n\tstream.writeUint32(this.default_sample_description_index);\n\tstream.writeUint32(this.default_sample_duration);\n\tstream.writeUint32(this.default_sample_size);\n\tstream.writeUint32(this.default_sample_flags);\n}\n\n// file:src/writing/trun.js\nBoxParser.trunBox.prototype.write = function(stream) {\n\tthis.version = 0;\n\tthis.size = 4;\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tthis.size += 4;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\tthis.size += 4*this.sample_duration.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\tthis.size += 4*this.sample_size.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\tthis.size += 4*this.sample_flags.length;\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\tthis.size += 4*this.sample_composition_time_offset.length;\n\t}\n\tthis.writeHeader(stream);\n\tstream.writeUint32(this.sample_count);\n\tif (this.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) {\n\t\tthis.data_offset_position = stream.getPosition();\n\t\tstream.writeInt32(this.data_offset); //signed\n\t}\n\tif (this.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG) {\n\t\tstream.writeUint32(this.first_sample_flags);\n\t}\n\tfor (var i = 0; i < this.sample_count; i++) {\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\tstream.writeUint32(this.sample_duration[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\tstream.writeUint32(this.sample_size[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\tstream.writeUint32(this.sample_flags[i]);\n\t\t}\n\t\tif (this.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\tif (this.version === 0) {\n\t\t\t\tstream.writeUint32(this.sample_composition_time_offset[i]);\n\t\t\t} else {\n\t\t\t\tstream.writeInt32(this.sample_composition_time_offset[i]); //signed\n\t\t\t}\n\t\t}\n\t}\t\t\n}\n\n// file:src/writing/url.js\nBoxParser[\"url Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tif (this.location) {\n\t\tthis.flags = 0;\n\t\tthis.size = this.location.length+1;\n\t} else {\n\t\tthis.flags = 0x000001;\n\t\tthis.size = 0;\n\t}\n\tthis.writeHeader(stream);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/urn.js\nBoxParser[\"urn Box\"].prototype.write = function(stream) {\n\tthis.version = 0;\t\n\tthis.flags = 0;\n\tthis.size = this.name.length+1+(this.location ? this.location.length+1 : 0);\n\tthis.writeHeader(stream);\n\tstream.writeCString(this.name);\n\tif (this.location) {\n\t\tstream.writeCString(this.location);\n\t}\n}\n\n// file:src/writing/vmhd.js\nBoxParser.vmhdBox.prototype.write = function(stream) {\n\tvar i;\n\tthis.version = 0;\n\tthis.flags = 1;\n\tthis.size = 8;\n\tthis.writeHeader(stream);\n\tstream.writeUint16(this.graphicsmode);\n\tstream.writeUint16Array(this.opcolor);\n}\n\n// file:src/box-unpack.js\n/* \n * Copyright (c) Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nBoxParser.cttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tsamples[k].pts = samples[k].dts + this.sample_offsets[i];\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.sttsBox.prototype.unpack = function(samples) {\n\tvar i, j, k;\n\tk = 0;\n\tfor (i = 0; i < this.sample_counts.length; i++) {\n\t\tfor (j = 0; j < this.sample_counts[i]; j++) {\n\t\t\tif (k === 0) {\n\t\t\t\tsamples[k].dts = 0;\n\t\t\t} else {\n\t\t\t\tsamples[k].dts = samples[k-1].dts + this.sample_deltas[i];\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t}\n}\n\nBoxParser.stcoBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.chunk_offsets.length; i++) {\n\t\tsamples[i].offset = this.chunk_offsets[i];\n\t}\n}\n\nBoxParser.stscBox.prototype.unpack = function(samples) {\n\tvar i, j, k, l, m;\n\tl = 0;\n\tm = 0;\n\tfor (i = 0; i < this.first_chunk.length; i++) {\n\t\tfor (j = 0; j < (i+1 < this.first_chunk.length ? this.first_chunk[i+1] : Infinity); j++) {\n\t\t\tm++;\n\t\t\tfor (k = 0; k < this.samples_per_chunk[i]; k++) {\n\t\t\t\tif (samples[l]) {\n\t\t\t\t\tsamples[l].description_index = this.sample_description_index[i];\n\t\t\t\t\tsamples[l].chunk_index = m;\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tl++;\n\t\t\t}\t\t\t\n\t\t}\n\t}\n}\n\nBoxParser.stszBox.prototype.unpack = function(samples) {\n\tvar i;\n\tfor (i = 0; i < this.sample_sizes.length; i++) {\n\t\tsamples[i].size = this.sample_sizes[i];\n\t}\n}\n// file:src/text-mp4.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar VTTin4Parser = function() {\t\n}\n\nVTTin4Parser.prototype.parseSample = function(data) {\n\tvar cues, cue;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tcues = [];\n\twhile (!stream.isEos()) {\n\t\tcue = BoxParser.parseOneBox(stream, false);\n\t\tif (cue.code === BoxParser.OK && cue.box.type === \"vttc\") {\n\t\t\tcues.push(cue.box);\n\t\t}\t\t\n\t}\n\treturn cues;\n}\n\nVTTin4Parser.prototype.getText = function (startTime, endTime, data) {\n\tfunction pad(n, width, z) {\n\t  z = z || '0';\n\t  n = n + '';\n\t  return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;\n\t}\n\tfunction secToTimestamp(insec) {\n\t\tvar h = Math.floor(insec/3600);\n\t\tvar m = Math.floor((insec - h*3600)/60);\n\t\tvar s = Math.floor(insec - h*3600 - m*60);\n\t\tvar ms = Math.floor((insec - h*3600 - m*60 - s)*1000);\n\t\treturn \"\"+pad(h, 2)+\":\"+pad(m,2)+\":\"+pad(s, 2)+\".\"+pad(ms, 3);\n\t}\n\tvar cues = this.parseSample(data);\n\tvar string = \"\";\n\tfor (var i = 0; i < cues.length; i++) {\n\t\tvar cueIn4 = cues[i];\n\t\tstring += secToTimestamp(startTime)+\" --> \"+secToTimestamp(endTime)+\"\\r\\n\";\n\t\tstring += cueIn4.payl.text;\n\t}\n\treturn string;\n}\n\nvar XMLSubtitlein4Parser = function() {\t\n}\n\nXMLSubtitlein4Parser.prototype.parseSample = function(sample) {\n\tvar res = {};\t\n\tvar i;\n\tres.resources = [];\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\tif (!sample.subsamples || sample.subsamples.length === 0) {\n\t\tres.documentString = stream.readString(sample.data.length);\n\t} else {\n\t\tres.documentString = stream.readString(sample.subsamples[0].size);\n\t\tif (sample.subsamples.length > 1) {\n\t\t\tfor (i = 1; i < sample.subsamples.length; i++) {\n\t\t\t\tres.resources[i] = stream.readUint8Array(sample.subsamples[i].size);\n\t\t\t}\n\t\t}\n\t}\n\tif (typeof (DOMParser) !== \"undefined\") {\n\t\tres.document = (new DOMParser()).parseFromString(res.documentString, \"application/xml\");\n\t}\n\treturn res;\n}\n\nvar Textin4Parser = function() {\t\n}\n\nTextin4Parser.prototype.parseSample = function(sample) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(sample.data.buffer);\n\ttextString = stream.readString(sample.data.length);\n\treturn textString;\n}\n\nTextin4Parser.prototype.parseConfig = function(data) {\n\tvar textString;\n\tvar stream = new MP4BoxStream(data.buffer);\n\tstream.readUint32(); // version & flags\n\ttextString = stream.readCString();\n\treturn textString;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.XMLSubtitlein4Parser = XMLSubtitlein4Parser;\n\texports.Textin4Parser = Textin4Parser;\n}\n// file:src/isofile.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar ISOFile = function (stream) {\n\t/* MutiBufferStream object used to parse boxes */\n\tthis.stream = stream;\n\t/* Array of all boxes (in order) found in the file */\n\tthis.boxes = [];\n\t/* Array of all mdats */\n\tthis.mdats = [];\n\t/* Array of all moofs */\n\tthis.moofs = [];\n\t/* Boolean indicating if the file is compatible with progressive parsing (moov first) */\n\tthis.isProgressive = false;\n\t/* Boolean used to fire moov start event only once */\n\tthis.moovStartFound = false;\n}\n\nISOFile.prototype.parse = function() {\n\tvar found;\n\tvar ret;\n\tvar box;\n\tvar parseBoxHeadersOnly = false;\n\n\tif (this.restoreParsePosition)\t{\n\t\tif (!this.restoreParsePosition()) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\twhile (true) {\n\t\t\n\t\tif (this.hasIncompleteMdat && this.hasIncompleteMdat()) {\n\t\t\tif (this.processIncompleteMdat()) {\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.saveParsePosition)\t{\n\t\t\t\tthis.saveParsePosition();\n\t\t\t}\n\t\t\tret = BoxParser.parseOneBox(this.stream, parseBoxHeadersOnly);\n\t\t\tif (ret.code === BoxParser.ERR_NOT_ENOUGH_DATA) {\t\t\n\t\t\t\tif (this.processIncompleteBox) {\n\t\t\t\t\tif (this.processIncompleteBox(ret)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/* the box is entirely parsed */\n\t\t\t\tbox = ret.box;\n\t\t\t\t/* store the box in the 'boxes' array to preserve box order (for file rewrite if needed)  */\n\t\t\t\tthis.boxes.push(box);\n\t\t\t\t/* but also store box in a property for more direct access */\n\t\t\t\tswitch (box.type) {\n\t\t\t\t\tcase \"mdat\":\n\t\t\t\t\t\tthis.mdats.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moof\":\n\t\t\t\t\t\tthis.moofs.push(box);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"moov\":\t\t\t\t\t\n\t\t\t\t\t\tthis.moovStartFound = true;\n\t\t\t\t\t\tif (this.mdats.length === 0) {\n\t\t\t\t\t\t\tthis.isProgressive = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/* no break */\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (this[box.type] !== undefined) {\n\t\t\t\t\t\t\tLog.warn(\"ISOFile\", \"Duplicate Box of type: \"+box.type+\", overriding previous occurrence\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis[box.type] = box;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (this.updateUsedBytes) {\n\t\t\t\t\tthis.updateUsedBytes(box, ret);\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Find and return specific boxes using recursion and early return */\nISOFile.prototype.getBox = function(type) {\n  var result = this.getBoxes(type, true);\n  return (result.length ? result[0] : null);  \n}\n\nISOFile.prototype.getBoxes = function(type, returnEarly) {\n  var result = [];\n  ISOFile._sweep.call(this, type, result, returnEarly);\n  return result;\n}\n\nISOFile._sweep = function(type, result, returnEarly) {\n  if (this.type && this.type == type) result.push(this);\n  for (var box in this.boxes) {\n    if (result.length && returnEarly) return;\n    ISOFile._sweep.call(this.boxes[box], type, result, returnEarly);\n  }\n}\n\nif (typeof exports !== 'undefined') {\n\texports.ISOFile = ISOFile;\t\n}\n// file:src/isofile-advanced-parsing.js\n/* position in the current buffer of the beginning of the last box parsed */\nISOFile.prototype.lastBoxStartPosition = 0;\n/* indicator if the parsing is stuck in the middle of an mdat box */\nISOFile.prototype.parsingMdat = null;\n/* next file position that the parser needs:\n    - 0 until the first buffer (i.e. fileStart ===0) has been received \n    - otherwise, the next box start until the moov box has been parsed\n    - otherwise, the position of the next sample to fetch\n */\nISOFile.prototype.nextParsePosition = 0;\n/* keep mdat data */\nISOFile.prototype.discardMdatData = false;\n\nISOFile.prototype.processIncompleteBox = function(ret) {\n\tvar box;\n\tvar merged;\n\tvar found;\n\t\n\t/* we did not have enough bytes in the current buffer to parse the entire box */\n\tif (ret.type === \"mdat\") { \n\t\t/* we had enough bytes to get its type and size and it's an 'mdat' */\n\t\t\n\t\t/* special handling for mdat boxes, since we don't actually need to parse it linearly \n\t\t   we create the box */\n\t\tbox = new BoxParser[ret.type+\"Box\"](ret.size);\t\n\t\tthis.parsingMdat = box;\n\t\tthis.boxes.push(box);\n\t\tthis.mdats.push(box);\t\t\t\n\t\tbox.start = ret.start;\n\t\tbox.hdr_size = ret.hdr_size;\n\t\tthis.stream.addUsedBytes(box.hdr_size);\n\n\t\t/* indicate that the parsing should start from the end of the box */\n\t\tthis.lastBoxStartPosition = box.start + box.size;\n \t\t/* let's see if we have the end of the box in the other buffers */\n\t\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\t\tif (found) {\n\t\t\t/* found the end of the box */\n\t\t\tthis.parsingMdat = null;\n\t\t\t/* let's see if we can parse more in this buffer */\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* 'mdat' end not found in the existing buffers */\n\t\t\t/* determine the next position in the file to start parsing from */\n\t\t\tif (!this.moovStartFound) {\n\t\t\t\t/* moov not find yet, \n\t\t\t\t   the file probably has 'mdat' at the beginning, and 'moov' at the end, \n\t\t\t\t   indicate that the downloader should not try to download those bytes now */\n\t\t\t\tthis.nextParsePosition = box.start + box.size;\n\t\t\t} else {\n\t\t\t\t/* we have the start of the moov box, \n\t\t\t\t   the next bytes should try to complete the current 'mdat' */\n\t\t\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\t\t}\n\t\t\t/* not much we can do, wait for more buffers to arrive */\n\t\t\treturn false;\n\t\t}\n\t} else {\n\t\t/* box is incomplete, we may not even know its type */\n\t\tif (ret.type === \"moov\") { \n\t\t\t/* the incomplete box is a 'moov' box */\n\t\t\tthis.moovStartFound = true;\n\t\t\tif (this.mdats.length === 0) {\n\t\t\t\tthis.isProgressive = true;\n\t\t\t}\n\t\t}\n\t\t/* either it's not an mdat box (and we need to parse it, we cannot skip it)\n\t\t   (TODO: we could skip 'free' boxes ...)\n\t\t\t   or we did not have enough data to parse the type and size of the box, \n\t\t   we try to concatenate the current buffer with the next buffer to restart parsing */\n\t\tmerged = (this.stream.mergeNextBuffer ? this.stream.mergeNextBuffer() : false);\n\t\tif (merged) {\n\t\t\t/* The next buffer was contiguous, the merging succeeded,\n\t\t\t   we can now continue parsing, \n\t\t\t   the next best position to parse is at the end of this new buffer */\n\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\treturn true;\n\t\t} else {\n\t\t\t/* we cannot concatenate existing buffers because they are not contiguous or because there is no additional buffer */\n\t\t\t/* The next best position to parse is still at the end of this old buffer */\n\t\t\tif (!ret.type) {\n\t\t\t\t/* There were not enough bytes in the buffer to parse the box type and length,\n\t\t\t\t   the next fetch should retrieve those missing bytes, i.e. the next bytes after this buffer */\n\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t} else {\n\t\t\t\t/* we had enough bytes to parse size and type of the incomplete box\n\t\t\t\t   if we haven't found yet the moov box, skip this one and try the next one \n\t\t\t\t   if we have found the moov box, let's continue linear parsing */\n\t\t\t\tif (this.moovStartFound) {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getEndPosition();\n\t\t\t\t} else {\n\t\t\t\t\tthis.nextParsePosition = this.stream.getPosition() + ret.size;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasIncompleteMdat = function () {\n\treturn (this.parsingMdat !== null);\n}\n\nISOFile.prototype.processIncompleteMdat = function () {\n\tvar box;\n\tvar found;\n\t\n\t/* we are in the parsing of an incomplete mdat box */\n\tbox = this.parsingMdat;\n\n\tfound = this.stream.seek(box.start + box.size, false, this.discardMdatData);\n\tif (found) {\n\t\tLog.debug(\"ISOFile\", \"Found 'mdat' end in buffered data\");\n\t\t/* the end of the mdat has been found */ \n\t\tthis.parsingMdat = null;\n\t\t/* we can parse more in this buffer */\n\t\treturn true;\n\t} else {\n\t\t/* we don't have the end of this mdat yet, \n\t\t   indicate that the next byte to fetch is the end of the buffers we have so far, \n\t\t   return and wait for more buffer to come */\n\t\tthis.nextParsePosition = this.stream.findEndContiguousBuf();\n\t\treturn false;\n\t}\n}\n\nISOFile.prototype.restoreParsePosition = function() {\n\t/* Reposition at the start position of the previous box not entirely parsed */\n\treturn this.stream.seek(this.lastBoxStartPosition, true, this.discardMdatData);\n}\n\nISOFile.prototype.saveParsePosition = function() {\n\t/* remember the position of the box start in case we need to roll back (if the box is incomplete) */\n\tthis.lastBoxStartPosition = this.stream.getPosition();\t\n}\n\nISOFile.prototype.updateUsedBytes = function(box, ret) {\n\tif (this.stream.addUsedBytes) {\n\t\tif (box.type === \"mdat\") {\n\t\t\t/* for an mdat box, only its header is considered used, other bytes will be used when sample data is requested */\n\t\t\tthis.stream.addUsedBytes(box.hdr_size);\n\t\t\tif (this.discardMdatData) {\n\t\t\t\tthis.stream.addUsedBytes(box.size-box.hdr_size);\n\t\t\t}\n\t\t} else {\n\t\t\t/* for all other boxes, the entire box data is considered used */\n\t\t\tthis.stream.addUsedBytes(box.size);\n\t\t}\t\n\t}\n}\n// file:src/isofile-advanced-creation.js\nISOFile.prototype.add = BoxParser.Box.prototype.add;\n\nISOFile.prototype.init = function () {\n\tvar moov = this.add(\"moov\");\n\tmoov.add(\"mvhd\").set(\"timescale\",600)\n\t\t\t\t\t.set(\"rate\", 1)\n\t\t\t\t\t.set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"duration\", 0)\n\t\t\t\t\t.set(\"volume\", 1)\n\t\t\t\t\t.set(\"matrix\", [ 0, 0, 0, 0, 0, 0, 0, 0, 0])\n\t\t\t\t\t.set(\"next_track_id\", 1);\n\tmoov.add(\"mvex\");\n\treturn this;\n}\n\nISOFile.prototype.addTrack = function (_options) {\n\tif (!this.moov) {\n\t\tthis.init();\n\t}\n\n\tvar options = _options || {}; \n\toptions.width = options.width || 320;\n\toptions.height = options.height || 320;\n\toptions.id = options.id || this.moov.mvhd.next_track_id;\n\toptions.type = options.type || \"avc1\";\n\n\tvar trak = this.moov.add(\"trak\");\n\tthis.moov.mvhd.next_track_id = options.id+1;\n\ttrak.add(\"tkhd\").set(\"creation_time\",0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"track_id\", options.id)\n\t\t\t\t\t.set(\"duration\", 0)\n\t\t\t\t\t.set(\"layer\", 0)\n\t\t\t\t\t.set(\"alternate_group\", 0)\n\t\t\t\t\t.set(\"volume\", 1)\n\t\t\t\t\t.set(\"matrix\", [ 0, 0, 0, 0, 0, 0, 0, 0, 0 ])\n\t\t\t\t\t.set(\"width\", options.width)\n\t\t\t\t\t.set(\"height\", options.height);\n\n\tvar mdia = trak.add(\"mdia\");\n\tmdia.add(\"mdhd\").set(\"creation_time\", 0)\n\t\t\t\t\t.set(\"modification_time\", 0)\n\t\t\t\t\t.set(\"timescale\", options.timescale || 1)\n\t\t\t\t\t.set(\"duration\", 0)\n\t\t\t\t\t.set(\"language\", options.language || 0);\n\n\tmdia.add(\"hdlr\").set(\"handler\", options.hdlr || \"vide\")\n\t\t\t\t\t.set(\"name\", options.name || \"Track created with MP4Box.js\");\n\n\tmdia.add(\"elng\").set(\"extended_language\", options.language || \"fr-FR\");\n\n\tvar minf = mdia.add(\"minf\");\n\tvar sample_entry = new BoxParser[options.type+\"SampleEntry\"]();\n\tvar media_type = \"\";\n\tfor (var i = 0; i < BoxParser.sampleEntryCodes.length; i++) {\n\t\tvar code = BoxParser.sampleEntryCodes[i];\n\t\tif (code.types.indexOf(options.type) > -1) {\n\t\t\tmedia_type = code.prefix;\n\t\t\tbreak;\n\t\t}\n\t}\n\tswitch(media_type) {\n\t\tcase \"Visual\":\n\t\t\tminf.add(\"vmhd\").set(\"graphicsmode\",0).set(\"opcolor\", [ 0, 0, 0 ]);\n\t\t\tsample_entry.set(\"width\", options.width)\n\t\t\t\t\t\t.set(\"height\", options.height)\n\t\t\t\t\t\t.set(\"horizresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"vertresolution\", 0x48<<16)\n\t\t\t\t\t\t.set(\"frame_count\", 1)\n\t\t\t\t\t\t.set(\"compressorname\", options.type+\" Compressor\")\n\t\t\t\t\t\t.set(\"depth\", 0x18);\n\t\t\tsample_entry.add(\"avcC\").set(\"SPS\", [])\n\t\t\t\t\t\t\t\t\t.set(\"PPS\", [])\n\t\t\t\t\t\t\t\t\t.set(\"configurationVersion\", 0)\n\t\t\t\t\t\t\t\t\t.set(\"AVCProfileIndication\",0)\n\t\t\t\t\t\t\t\t\t.set(\"profile_compatibility\", 0)\n\t\t\t\t\t\t\t\t\t.set(\"AVCLevelIndication\" ,0)\n\t\t\t\t\t\t\t\t\t.set(\"lengthSizeMinusOne\", 0);\n\t\t\tbreak;\n\t\tcase \"Audio\":\n\t\t\tminf.add(\"smhd\");\n\t\t\tbreak;\n\t\tcase \"Hint\":\n\t\t\tminf.add(\"hmhd\");\n\t\t\tbreak;\n\t\tcase \"Subtitle\":\n\t\t\tminf.add(\"sthd\");\n\t\t\tbreak;\n\t\tcase \"Metadata\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tcase \"System\":\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tminf.add(\"nmhd\");\n\t\t\tbreak;\n\t}\n\tminf.add(\"dinf\").add(\"dref\").addEntry((new BoxParser[\"url Box\"]()).set(\"flags\", 0x1));\n\tvar stbl = mdia.add(\"stbl\");\n\tstbl.add(\"stsd\").addEntry(sample_entry);\n\tstbl.add(\"stts\").set(\"sample_counts\", [])\n\t\t\t\t\t.set(\"sample_deltas\", []);\n\tstbl.add(\"stsc\").set(\"first_chunk\", [])\n\t\t\t\t\t.set(\"samples_per_chunk\", [])\n\t\t\t\t\t.set(\"sample_description_index\", []);\n\n\tthis.moov.mvex.add(\"trex\").set(\"track_id\", options.id)\n\t\t\t\t\t\t\t  .set(\"default_sample_description_index\", options.default_sample_description_index || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_duration\", options.default_sample_duration || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_size\", options.default_sample_size || 0)\n\t\t\t\t\t\t\t  .set(\"default_sample_flags\", options.default_sample_flags || 0);\n\treturn trak;\n}\n\nISOFile.prototype.getBuffer = function() {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.write(stream);\n\treturn stream.buffer;\n}\n\nISOFile.prototype.addSample = function (trak, data, options) {\n\t\n}// file:src/isofile-sample-processing.js\n/* Index of the last moof box received */\nISOFile.prototype.lastMoofIndex = 0;\n\n/* size of the buffers allocated for samples */\nISOFile.prototype.samplesDataSize = 0;\n\n/* Resets all sample tables */\nISOFile.prototype.resetTables = function () {\n\tvar i;\n\tvar trak, stco, stsc, stsz, stts, ctts, stss;\n\tthis.initial_duration = this.moov.mvhd.duration;\n\t// this.moov.mvhd.duration = 0;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\ttrak.tkhd.duration = 0;\n\t\ttrak.mdia.mdhd.duration = 0;\n\t\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\t\tstco.chunk_offsets = [];\n\t\tstsc = trak.mdia.minf.stbl.stsc;\n\t\tstsc.first_chunk = [];\n\t\tstsc.samples_per_chunk = [];\n\t\tstsc.sample_description_index = [];\n\t\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\t\tstsz.sample_sizes = [];\n\t\tstts = trak.mdia.minf.stbl.stts;\n\t\tstts.sample_counts = [];\n\t\tstts.sample_deltas = [];\n\t\tctts = trak.mdia.minf.stbl.ctts;\n\t\tif (ctts) {\n\t\t\tctts.sample_counts = [];\n\t\t\tctts.sample_offsets = [];\n\t\t}\n\t\tstss = trak.mdia.minf.stbl.stss;\n\t\tvar k = trak.mdia.minf.stbl.boxes.indexOf(stss);\n\t\tif (k != -1) trak.mdia.minf.stbl.boxes[k] = null;\n\t}\n}\n\nISOFile.initSampleGroups = function(trak, traf, sbgps, trak_sgpds, traf_sgpds) {\n\tvar l;\n\tvar k;\n\tvar sample_groups_info;\n\tvar sample_group_info;\n\tvar sample_group_key;\n\tfunction SampleGroupInfo(_type, _parameter, _sbgp) {\n\t\tthis.grouping_type = _type;\n\t\tthis.grouping_type_parameter = _parameter;\n\t\tthis.sbgp = _sbgp;\n\t\tthis.last_sample_in_run = -1;\n\t\tthis.entry_index = -1;\t\t\n\t}\n\tif (traf) {\n\t\ttraf.sample_groups_info = [];\n\t} \n\tif (!trak.sample_groups_info) {\n\t\ttrak.sample_groups_info = [];\n\t}\n\tfor (k = 0; k < sbgps.length; k++) {\n\t\tsample_group_key = sbgps[k].grouping_type +\"/\"+ sbgps[k].grouping_type_parameter;\n\t\tsample_group_info = new SampleGroupInfo(sbgps[k].grouping_type, sbgps[k].grouping_type_parameter, sbgps[k]);\n\t\tif (traf) {\n\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t}\n\t\tfor (l=0; l <trak_sgpds.length; l++) {\n\t\t\tif (trak_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\tsample_group_info.description = trak_sgpds[l];\n\t\t\t\tsample_group_info.description.used = true;\n\t\t\t}\n\t\t}\n\t\tif (traf_sgpds) {\n\t\t\tfor (l=0; l <traf_sgpds.length; l++) {\n\t\t\t\tif (traf_sgpds[l].grouping_type === sbgps[k].grouping_type) {\n\t\t\t\t\tsample_group_info.fragment_description = traf_sgpds[l];\n\t\t\t\t\tsample_group_info.fragment_description.used = true;\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t}\n\t}\n\tif (!traf) {\n\t\tfor (k = 0; k < trak_sgpds.length; k++) {\n\t\t\tif (!trak_sgpds[k].used && trak_sgpds[k].version >= 2) {\n\t\t\t\tsample_group_key = trak_sgpds[k].grouping_type +\"/0\";\n\t\t\t\tsample_group_info = new SampleGroupInfo(trak_sgpds[k].grouping_type, 0);\n\t\t\t\tif (!trak.sample_groups_info[sample_group_key]) {\n\t\t\t\t\ttrak.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (traf_sgpds) {\n\t\t\tfor (k = 0; k < traf_sgpds.length; k++) {\n\t\t\t\tif (!traf_sgpds[k].used && traf_sgpds[k].version >= 2) {\n\t\t\t\t\tsample_group_key = traf_sgpds[k].grouping_type +\"/0\";\n\t\t\t\t\tsample_group_info = new SampleGroupInfo(traf_sgpds[k].grouping_type, 0);\n\t\t\t\t\tsample_group_info.is_fragment = true;\n\t\t\t\t\tif (!traf.sample_groups_info[sample_group_key]) {\n\t\t\t\t\t\ttraf.sample_groups_info[sample_group_key] = sample_group_info;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.setSampleGroupProperties = function(trak, sample, sample_number, sample_groups_info) {\n\tvar k;\n\tvar index;\n\tsample.sample_groups = [];\n\tfor (k in sample_groups_info) {\n\t\tsample.sample_groups[k] = {};\n\t\tsample.sample_groups[k].grouping_type = sample_groups_info[k].grouping_type;\n\t\tsample.sample_groups[k].grouping_type_parameter = sample_groups_info[k].grouping_type_parameter;\n\t\tif (sample_number >= sample_groups_info[k].last_sample_in_run) {\n\t\t\tif (sample_groups_info[k].last_sample_in_run < 0) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run = 0;\n\t\t\t}\n\t\t\tsample_groups_info[k].entry_index++;\t\n\t\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\t\tsample_groups_info[k].last_sample_in_run += sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].sample_count;\n\t\t\t}\n\t\t}\n\t\tif (sample_groups_info[k].entry_index <= sample_groups_info[k].sbgp.entries.length - 1) {\n\t\t\tsample.sample_groups[k].group_description_index = sample_groups_info[k].sbgp.entries[sample_groups_info[k].entry_index].group_description_index;\n\t\t} else {\n\t\t\tsample.sample_groups[k].group_description_index = -1; // special value for not defined\n\t\t}\n\t\tif (sample.sample_groups[k].group_description_index !== 0) {\n\t\t\tvar description;\n\t\t\tif (sample_groups_info[k].fragment_description) {\n\t\t\t\tdescription = sample_groups_info[k].fragment_description;\n\t\t\t} else {\n\t\t\t\tdescription = sample_groups_info[k].description;\n\t\t\t}\n\t\t\tif (sample.sample_groups[k].group_description_index > 0) {\n\t\t\t\tif (sample.sample_groups[k].group_description_index > 65535) {\n\t\t\t\t\tindex = (sample.sample_groups[k].group_description_index >> 16)-1;\n\t\t\t\t} else {\n\t\t\t\t\tindex = sample.sample_groups[k].group_description_index-1;\n\t\t\t\t}\n\t\t\t\tif (description && index >= 0) {\n\t\t\t\t\tsample.sample_groups[k].description = description.entries[index];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (description && description.version >= 2) {\n\t\t\t\t\tif (description.default_group_description_index > 0) {\t\t\t\t\t\t\t\t\n\t\t\t\t\t\tsample.sample_groups[k].description = description.entries[description.default_group_description_index-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.process_sdtp = function (sdtp, sample, number) {\n\tif (!sample) {\n\t\treturn;\n\t}\n\tif (sdtp) {\n\t\tsample.is_leading = sdtp.is_leading[number];\n\t\tsample.depends_on = sdtp.sample_depends_on[number];\n\t\tsample.is_depended_on = sdtp.sample_is_depended_on[number];\n\t\tsample.has_redundancy = sdtp.sample_has_redundancy[number];\n\t} else {\n\t\tsample.is_leading = 0;\n\t\tsample.depends_on = 0;\n\t\tsample.is_depended_on = 0\n\t\tsample.has_redundancy = 0;\n\t}\t\n}\n\n/* Build initial sample list from  sample tables */\nISOFile.prototype.buildSampleLists = function() {\t\n\tvar i, j, k;\n\tvar trak, stco, stsc, stsz, stts, ctts, stss, stsd, subs, sbgps, sgpds, stdp;\n\tvar chunk_run_index, chunk_index, last_chunk_in_run, offset_in_chunk, last_sample_in_chunk;\n\tvar last_sample_in_stts_run, stts_run_index, last_sample_in_ctts_run, ctts_run_index, last_stss_index, last_subs_index, subs_entry_index, last_subs_sample_index;\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\ttrak = this.moov.traks[i];\n\t\ttrak.samples = [];\n\t\ttrak.samples_duration = 0;\n\t\ttrak.samples_size = 0;\n\t\tstco = trak.mdia.minf.stbl.stco || trak.mdia.minf.stbl.co64;\n\t\tstsc = trak.mdia.minf.stbl.stsc;\n\t\tstsz = trak.mdia.minf.stbl.stsz || trak.mdia.minf.stbl.stz2;\n\t\tstts = trak.mdia.minf.stbl.stts;\n\t\tctts = trak.mdia.minf.stbl.ctts;\n\t\tstss = trak.mdia.minf.stbl.stss;\n\t\tstsd = trak.mdia.minf.stbl.stsd;\n\t\tsubs = trak.mdia.minf.stbl.subs;\n\t\tstdp = trak.mdia.minf.stbl.stdp;\n\t\tsbgps = trak.mdia.minf.stbl.sbgps;\n\t\tsgpds = trak.mdia.minf.stbl.sgpds;\n\t\t\n\t\tlast_sample_in_stts_run = -1;\n\t\tstts_run_index = -1;\n\t\tlast_sample_in_ctts_run = -1;\n\t\tctts_run_index = -1;\n\t\tlast_stss_index = 0;\n\t\tsubs_entry_index = 0;\n\t\tlast_subs_sample_index = 0;\t\t\n\n\t\tISOFile.initSampleGroups(trak, null, sbgps, sgpds);\n\n\t\tif (typeof stsz === \"undefined\") {\n\t\t\tcontinue;\n\t\t}\n\n\t\t/* we build the samples one by one and compute their properties */\n\t\tfor (j = 0; j < stsz.sample_sizes.length; j++) {\n\t\t\tvar sample = {};\n\t\t\tsample.number = j;\n\t\t\tsample.track_id = trak.tkhd.track_id;\n\t\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\t\tsample.alreadyRead = 0;\n\t\t\ttrak.samples[j] = sample;\n\t\t\t/* size can be known directly */\n\t\t\tsample.size = stsz.sample_sizes[j];\n\t\t\ttrak.samples_size += sample.size;\n\t\t\t/* computing chunk-based properties (offset, sample description index)*/\n\t\t\tif (j === 0) {\t\t\t\t\n\t\t\t\tchunk_index = 1; /* the first sample is in the first chunk (chunk indexes are 1-based) */\n\t\t\t\tchunk_run_index = 0; /* the first chunk is the first entry in the first_chunk table */\n\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t\tlast_sample_in_chunk = stsc.samples_per_chunk[chunk_run_index];\n\t\t\t\toffset_in_chunk = 0;\n\n\t\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t\t} else {\n\t\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (j < last_sample_in_chunk) {\n\t\t\t\t\t/* the sample is still in the current chunk */\n\t\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t\t} else {\n\t\t\t\t\t/* the sample is in the next chunk */\n\t\t\t\t\tchunk_index++;\n\t\t\t\t\tsample.chunk_index = chunk_index;\n\t\t\t\t\t/* reset the accumulated offset in the chunk */\n\t\t\t\t\toffset_in_chunk = 0;\n\t\t\t\t\tif (chunk_index <= last_chunk_in_run) {\n\t\t\t\t\t\t/* stay in the same entry of the first_chunk table */\n\t\t\t\t\t\t/* chunk_run_index unmodified */\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchunk_run_index++;\n\t\t\t\t\t\t/* Is there another entry in the first_chunk table ? */\n\t\t\t\t\t\tif (chunk_run_index + 1 < stsc.first_chunk.length) {\n\t\t\t\t\t\t\t/* The last chunk in the run is the chunk before the next first chunk */\n\t\t\t\t\t\t\tlast_chunk_in_run = stsc.first_chunk[chunk_run_index+1]-1; \t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t/* There is only one entry in the table, it is valid for all future chunks*/\n\t\t\t\t\t\t\tlast_chunk_in_run = Infinity;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t\tsample.chunk_run_index = chunk_run_index;\n\t\t\t\t\tlast_sample_in_chunk += stsc.samples_per_chunk[chunk_run_index];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsample.description_index = stsc.sample_description_index[sample.chunk_run_index]-1;\n\t\t\tsample.description = stsd.entries[sample.description_index];\n\t\t\tsample.offset = stco.chunk_offsets[sample.chunk_index-1] + offset_in_chunk; /* chunk indexes are 1-based */\n\t\t\toffset_in_chunk += sample.size;\n\n\t\t\t/* setting dts, cts, duration and rap flags */\n\t\t\tif (j > last_sample_in_stts_run) {\n\t\t\t\tstts_run_index++;\n\t\t\t\tif (last_sample_in_stts_run < 0) {\n\t\t\t\t\tlast_sample_in_stts_run = 0;\n\t\t\t\t}\n\t\t\t\tlast_sample_in_stts_run += stts.sample_counts[stts_run_index];\t\t\t\t\n\t\t\t}\n\t\t\tif (j > 0) {\n\t\t\t\ttrak.samples[j-1].duration = stts.sample_deltas[stts_run_index];\n\t\t\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t\t\t\tsample.dts = trak.samples[j-1].dts + trak.samples[j-1].duration;\n\t\t\t} else {\n\t\t\t\tsample.dts = 0;\n\t\t\t}\n\t\t\tif (ctts) {\n\t\t\t\tif (j >= last_sample_in_ctts_run) {\n\t\t\t\t\tctts_run_index++;\n\t\t\t\t\tif (last_sample_in_ctts_run < 0) {\n\t\t\t\t\t\tlast_sample_in_ctts_run = 0;\n\t\t\t\t\t}\n\t\t\t\t\tlast_sample_in_ctts_run += ctts.sample_counts[ctts_run_index];\t\t\t\t\n\t\t\t\t}\n\t\t\t\tsample.cts = trak.samples[j].dts + ctts.sample_offsets[ctts_run_index];\n\t\t\t} else {\n\t\t\t\tsample.cts = sample.dts;\n\t\t\t}\n\t\t\tif (stss) {\n\t\t\t\tif (j == stss.sample_numbers[last_stss_index] - 1) { // sample numbers are 1-based\n\t\t\t\t\tsample.is_sync = true;\n\t\t\t\t\tlast_stss_index++;\n\t\t\t\t} else {\n\t\t\t\t\tsample.is_sync = false;\t\t\t\t\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsample.is_sync = true;\n\t\t\t}\n\t\t\tISOFile.process_sdtp(trak.mdia.minf.stbl.sdtp, sample, sample.number);\n\t\t\tif (stdp) {\n\t\t\t\tsample.degradation_priority = stdp.priority[j];\n\t\t\t} else {\n\t\t\t\tsample.degradation_priority = 0;\n\t\t\t}\n\t\t\tif (subs) {\n\t\t\t\tif (subs.entries[subs_entry_index].sample_delta + last_subs_sample_index == j+1) {\n\t\t\t\t\tsample.subsamples = subs.entries[subs_entry_index].subsamples;\n\t\t\t\t\tlast_subs_sample_index += subs.entries[subs_entry_index].sample_delta;\n\t\t\t\t\tsubs_entry_index++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (sbgps.length > 0 || sgpds.length > 0) {\n\t\t\t\tISOFile.setSampleGroupProperties(trak, sample, j, trak.sample_groups_info);\n\t\t\t}\n\t\t}\n\t\tif (j>0) {\n\t\t\ttrak.samples[j-1].duration = Math.max(trak.mdia.mdhd.duration - trak.samples[j-1].dts, 0);\n\t\t\ttrak.samples_duration += trak.samples[j-1].duration;\n\t\t}\n\t}\n}\n\n/* Update sample list when new 'moof' boxes are received */\nISOFile.prototype.updateSampleLists = function() {\t\n\tvar i, j, k;\n\tvar default_sample_description_index, default_sample_duration, default_sample_size, default_sample_flags;\n\tvar last_run_position;\n\tvar box, moof, traf, trak, trex;\n\tvar sample;\n\tvar sample_flags;\n\t\n\tif (this.moov === undefined) {\n\t\treturn;\n\t}\n\t/* if the input file is fragmented and fetched in multiple downloads, we need to update the list of samples */\n\twhile (this.lastMoofIndex < this.moofs.length) {\n\t\tbox = this.moofs[this.lastMoofIndex];\n\t\tthis.lastMoofIndex++;\n\t\tif (box.type == \"moof\") {\n\t\t\tmoof = box;\n\t\t\tfor (i = 0; i < moof.trafs.length; i++) {\n\t\t\t\ttraf = moof.trafs[i];\n\t\t\t\ttrak = this.getTrackById(traf.tfhd.track_id);\n\t\t\t\ttrex = this.getTrexById(traf.tfhd.track_id);\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DESC) {\n\t\t\t\t\tdefault_sample_description_index = traf.tfhd.default_sample_description_index;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_description_index = (trex ? trex.default_sample_description_index: 1);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_DUR) {\n\t\t\t\t\tdefault_sample_duration = traf.tfhd.default_sample_duration;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_duration = (trex ? trex.default_sample_duration : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_SIZE) {\n\t\t\t\t\tdefault_sample_size = traf.tfhd.default_sample_size;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_size = (trex ? trex.default_sample_size : 0);\n\t\t\t\t}\n\t\t\t\tif (traf.tfhd.flags & BoxParser.TFHD_FLAG_SAMPLE_FLAGS) {\n\t\t\t\t\tdefault_sample_flags = traf.tfhd.default_sample_flags;\n\t\t\t\t} else {\n\t\t\t\t\tdefault_sample_flags = (trex ? trex.default_sample_flags : 0);\n\t\t\t\t}\n\t\t\t\ttraf.sample_number = 0;\n\t\t\t\t/* process sample groups */\n\t\t\t\tif (traf.sbgps.length > 0) {\n\t\t\t\t\tISOFile.initSampleGroups(trak, traf, traf.sbgps, trak.mdia.minf.stbl.sgpds, traf.sgpds);\n\t\t\t\t}\n\t\t\t\tfor (j = 0; j < traf.truns.length; j++) {\n\t\t\t\t\tvar trun = traf.truns[j];\n\t\t\t\t\tfor (k = 0; k < trun.sample_count; k++) {\n\t\t\t\t\t\tsample = {};\n\t\t\t\t\t\tsample.number_in_traf = traf.sample_number;\n\t\t\t\t\t\ttraf.sample_number++;\n\t\t\t            sample.number = trak.samples.length;\n\t\t\t\t\t\ttraf.first_sample_index = trak.samples.length;\n\t\t\t\t\t\ttrak.samples.push(sample);\n\t\t\t\t\t\tsample.track_id = trak.tkhd.track_id;\n\t\t\t\t\t\tsample.timescale = trak.mdia.mdhd.timescale;\n\t\t\t\t\t\tsample.description_index = default_sample_description_index-1;\n\t\t\t\t\t\tsample.description = trak.mdia.minf.stbl.stsd.entries[sample.description_index];\n\t\t\t\t\t\tsample.size = default_sample_size;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_SIZE) {\n\t\t\t\t\t\t\tsample.size = trun.sample_size[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_size += sample.size;\n\t\t\t\t\t\tsample.duration = default_sample_duration;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_DURATION) {\n\t\t\t\t\t\t\tsample.duration = trun.sample_duration[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrak.samples_duration += sample.duration;\n\t\t\t\t\t\tif (trak.first_traf_merged || k > 0) {\n\t\t\t\t\t\t\tsample.dts = trak.samples[trak.samples.length-2].dts+trak.samples[trak.samples.length-2].duration;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (traf.tfdt) {\n\t\t\t\t\t\t\t\tsample.dts = traf.tfdt.baseMediaDecodeTime;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.dts = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttrak.first_traf_merged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.cts = sample.dts;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_CTS_OFFSET) {\n\t\t\t\t\t\t\tsample.cts = sample.dts + trun.sample_composition_time_offset[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample_flags = default_sample_flags;\n\t\t\t\t\t\tif (trun.flags & BoxParser.TRUN_FLAGS_FLAGS) {\n\t\t\t\t\t\t\tsample_flags = trun.sample_flags[k];\n\t\t\t\t\t\t} else if (k === 0 && (trun.flags & BoxParser.TRUN_FLAGS_FIRST_FLAG)) {\n\t\t\t\t\t\t\tsample_flags = trun.first_sample_flags;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsample.is_sync = ((sample_flags >> 16 & 0x1) ? false : true);\n\t\t\t\t\t\tsample.is_leading = (sample_flags >> 26 & 0x3);\n\t\t\t\t\t\tsample.depends_on = (sample_flags >> 24 & 0x3);\n\t\t\t\t\t\tsample.is_depended_on = (sample_flags >> 22 & 0x3);\n\t\t\t\t\t\tsample.has_redundancy = (sample_flags >> 20 & 0x3);\n\t\t\t\t\t\tsample.degradation_priority = (sample_flags & 0xFFFF);\n\t\t\t\t\t\tISOFile.process_sdtp(traf.sdtp, sample, sample.number_in_traf);\n\t\t\t\t\t\tvar bdop = (traf.tfhd.flags & BoxParser.TFHD_FLAG_BASE_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar dbim = (traf.tfhd.flags & BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF) ? true : false;\n\t\t\t\t\t\tvar dop = (trun.flags & BoxParser.TRUN_FLAGS_DATA_OFFSET) ? true : false;\n\t\t\t\t\t\tvar bdo = 0;\n\t\t\t\t\t\tif (!bdop) {\n\t\t\t\t\t\t\tif (!dbim) {\n\t\t\t\t\t\t\t\tif (j === 0) { // the first track in the movie fragment\n\t\t\t\t\t\t\t\t\tbdo = moof.start; // the position of the first byte of the enclosing Movie Fragment Box\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tbdo = last_run_position; // end of the data defined by the preceding *track* (irrespective of the track id) fragment in the moof\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tbdo = moof.start;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbdo = traf.tfhd.base_data_offset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (j === 0 && k === 0) {\n\t\t\t\t\t\t\tif (dop) {\n\t\t\t\t\t\t\t\tsample.offset = bdo + trun.data_offset; // If the data-offset is present, it is relative to the base-data-offset established in the track fragment header\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsample.offset = bdo; // the data for this run starts the base-data-offset defined by the track fragment header\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsample.offset = last_run_position; // this run starts immediately after the data of the previous run\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast_run_position = sample.offset + sample.size;\n\t\t\t\t\t\tif (traf.sbgps.length > 0 || traf.sgpds.length > 0 ||\n\t\t\t\t\t\t\ttrak.mdia.minf.stbl.sbgps.length > 0 || trak.mdia.minf.stbl.sgpds.length > 0) {\n\t\t\t\t\t\t\tISOFile.setSampleGroupProperties(trak, sample, sample.number_in_traf, traf.sample_groups_info);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (traf.subs) {\n\t\t\t\t\ttrak.has_fragment_subsamples = true;\n\t\t\t\t\tvar sample_index = traf.first_sample_index;\n\t\t\t\t\tfor (j = 0; j < traf.subs.entries.length; j++) {\n\t\t\t\t\t\tsample_index += traf.subs.entries[j].sample_delta;\n\t\t\t\t\t\tsample = trak.samples[sample_index-1];\n\t\t\t\t\t\tsample.subsamples = traf.subs.entries[j].subsamples;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\t\n}\n\n/* Try to get sample data for a given sample:\n   returns null if not found\n   returns the same sample if already requested\n */\nISOFile.prototype.getSample = function(trak, sampleNum) {\t\n\tvar buffer;\n\tvar sample = trak.samples[sampleNum];\n\t\n\tif (!this.moov) {\n\t\treturn null;\n\t}\n\n\tif (!sample.data) {\n\t\t/* Not yet fetched */\n\t\tsample.data = new Uint8Array(sample.size);\n\t\tsample.alreadyRead = 0;\n\t\tthis.samplesDataSize += sample.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating sample #\"+sampleNum+\" on track #\"+trak.tkhd.track_id+\" of size \"+sample.size+\" (total: \"+this.samplesDataSize+\")\");\n\t} else if (sample.alreadyRead == sample.size) {\n\t\t/* Already fetched entirely */\n\t\treturn sample;\n\t}\n\n\t/* The sample has only been partially fetched, we need to check in all buffers */\n\tvar index =\tthis.stream.findPosition(true, sample.offset + sample.alreadyRead, false);\n\tif (index > -1) {\n\t\tbuffer = this.stream.buffers[index];\n\t\tvar lengthAfterStart = buffer.byteLength - (sample.offset + sample.alreadyRead - buffer.fileStart);\n\t\tif (sample.size - sample.alreadyRead <= lengthAfterStart) {\n\t\t\t/* the (rest of the) sample is entirely contained in this buffer */\n\n\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+(sample.size - sample.alreadyRead)+\" full size: \"+sample.size+\")\");\n\n\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead, \n\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, sample.size - sample.alreadyRead);\n\n\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\tbuffer.usedBytes += sample.size - sample.alreadyRead;\n\t\t\tthis.stream.logBufferLevel();\n\n\t\t\tsample.alreadyRead = sample.size;\n\n\t\t\treturn sample;\n\t\t} else {\n\t\t\t/* the sample does not end in this buffer */\t\t\t\t\n\t\t\t\n\t\t\tLog.debug(\"ISOFile\",\"Getting sample #\"+sampleNum+\" partial data (alreadyRead: \"+sample.alreadyRead+\" offset: \"+\n\t\t\t\t(sample.offset+sample.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\" full size: \"+sample.size+\")\");\n\t\t\t\n\t\t\tDataStream.memcpy(sample.data.buffer, sample.alreadyRead, \n\t\t\t                  buffer, sample.offset+sample.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\tsample.alreadyRead += lengthAfterStart;\n\n\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\tthis.stream.logBufferLevel();\n\t\t\treturn null;\n\t\t}\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/* Release the memory used to store the data of the sample */\nISOFile.prototype.releaseSample = function(trak, sampleNum) {\t\n\tvar sample = trak.samples[sampleNum];\n\tif (sample.data) {\n\t\tthis.samplesDataSize -= sample.size;\n\t\tsample.data = null;\n\t\tsample.alreadyRead = 0;\n\t\treturn sample.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\nISOFile.prototype.getAllocatedSampleDataSize = function() {\n\treturn this.samplesDataSize;\n}\n\n/* Builds the MIME Type 'codecs' sub-parameters for the whole file */\nISOFile.prototype.getCodecs = function() {\t\n\tvar i;\n\tvar codecs = \"\";\n\tfor (i = 0; i < this.moov.traks.length; i++) {\n\t\tvar trak = this.moov.traks[i];\n\t\tif (i>0) {\n\t\t\tcodecs+=\",\"; \n\t\t}\n\t\tcodecs += trak.mdia.minf.stbl.stsd.entries[0].getCodec();\t\t\n\t}\n\treturn codecs;\n}\n\n/* Helper function */\nISOFile.prototype.getTrexById = function(id) {\t\n\tvar i;\n\tif (!this.moov || !this.moov.mvex) return null;\n\tfor (i = 0; i < this.moov.mvex.trexs.length; i++) {\n\t\tvar trex = this.moov.mvex.trexs[i];\n\t\tif (trex.track_id == id) return trex;\n\t}\n\treturn null;\n}\n\n/* Helper function */\nISOFile.prototype.getTrackById = function(id) {\n\tif (this.moov === undefined) {\n\t\treturn null;\n\t}\n\tfor (var j = 0; j < this.moov.traks.length; j++) {\n\t\tvar trak = this.moov.traks[j];\n\t\tif (trak.tkhd.track_id == id) return trak;\n\t}\n\treturn null;\n}\n// file:src/isofile-item-processing.js\nISOFile.prototype.items = [];\n/* size of the buffers allocated for samples */\nISOFile.prototype.itemsDataSize = 0;\n\nISOFile.prototype.flattenItemInfo = function() {\t\n\tvar items = this.items;\n\tvar i, j;\n\tvar item;\n\tvar meta = this.meta;\n\tif (meta === null || meta === undefined) return;\n\tif (meta.hdlr === undefined) return;\n\tif (meta.iinf === undefined) return;\n\tfor (i = 0; i < meta.iinf.item_infos.length; i++) {\n\t\titem = {};\n\t\titem.id = meta.iinf.item_infos[i].item_ID;\n\t\titems[item.id] = item;\n\t\titem.ref_to = [];\n\t\titem.name = meta.iinf.item_infos[i].item_name;\n\t\tif (meta.iinf.item_infos[i].protection_index > 0) {\n\t\t\titem.protection = meta.ipro.protections[meta.iinf.item_infos[i].protection_index-1];\n\t\t}\n\t\tif (meta.iinf.item_infos[i].item_type) {\n\t\t\titem.type = meta.iinf.item_infos[i].item_type;\n\t\t} else {\n\t\t\titem.type = \"mime\";\n\t\t}\n\t\titem.content_type = meta.iinf.item_infos[i].content_type;\n\t\titem.content_encoding = meta.iinf.item_infos[i].content_encoding;\n\t}\n\tif (meta.iloc) {\n\t\tfor(i = 0; i < meta.iloc.items.length; i++) {\n\t\t\tvar offset;\n\t\t\tvar itemloc = meta.iloc.items[i];\n\t\t\titem = items[itemloc.item_ID];\n\t\t\tif (itemloc.data_reference_index !== 0) {\n\t\t\t\tLog.warn(\"Item storage with reference to other files: not supported\");\n\t\t\t\titem.source = meta.dinf.boxes[itemloc.data_reference_index-1];\n\t\t\t}\n\t\t\tif (itemloc.construction_method !== undefined) {\n\t\t\t\tLog.warn(\"Item storage with construction_method : not supported\");\n\t\t\t\tswitch(itemloc.construction_method) {\n\t\t\t\t\tcase 0: // offset into the file referenced by the data reference index\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1: // offset into the idat box of this meta box\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2: // offset into another item\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\titem.extents = [];\n\t\t\t\titem.size = 0;\n\t\t\t\tfor (j = 0; j < itemloc.extents.length; j++) {\n\t\t\t\t\titem.extents[j] = {};\n\t\t\t\t\titem.extents[j].offset = itemloc.extents[j].extent_offset + itemloc.base_offset;\n\t\t\t\t\titem.extents[j].length = itemloc.extents[j].extent_length;\n\t\t\t\t\titem.extents[j].alreadyRead = 0;\n\t\t\t\t\titem.size += item.extents[j].length;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif (meta.pitm) {\n\t\titems[meta.pitm.item_id].primary = true;\n\t}\n\tif (meta.iref) {\n\t\tfor (i=0; i <meta.iref.references.length; i++) {\n\t\t\tvar ref = meta.iref.references[i];\n\t\t\tfor (j=0; j<ref.references.length; j++) {\n\t\t\t\titems[ref.from_item_ID].ref_to.push({type: ref.type, id: ref.references[j]});\n\t\t\t}\n\t\t}\n\t}\n}\n\nISOFile.prototype.getItem = function(item_id) {\t\n\tvar buffer;\n\tvar item;\n\t\n\tif (!this.meta) {\n\t\treturn null;\n\t}\n\n \titem = this.items[item_id];\n\tif (!item.data && item.size) {\n\t\t/* Not yet fetched */\n\t\titem.data = new Uint8Array(item.size);\n\t\titem.alreadyRead = 0;\n\t\tthis.itemsDataSize += item.size;\n\t\tLog.debug(\"ISOFile\", \"Allocating item #\"+item_id+\" of size \"+item.size+\" (total: \"+this.itemsDataSize+\")\");\n\t} else if (item.alreadyRead === item.size) {\n\t\t/* Already fetched entirely */\n\t\treturn item;\n\t}\n\n\t/* The item has only been partially fetched, we need to check in all buffers to find the remaining extents*/\n\t\n\tfor (var i = 0; i < item.extents.length; i++) {\n\t\tvar extent = item.extents[i];\n\t\tif (extent.alreadyRead === extent.length) {\n\t\t\tcontinue;\n\t\t} else {\n\t\t\tvar index =\tthis.stream.findPosition(true, extent.offset + extent.alreadyRead, false);\n\t\t\tif (index > -1) {\n\t\t\t\tbuffer = this.stream.buffers[index];\n\t\t\t\tvar lengthAfterStart = buffer.byteLength - (extent.offset + extent.alreadyRead - buffer.fileStart);\n\t\t\t\tif (extent.length - extent.alreadyRead <= lengthAfterStart) {\n\t\t\t\t\t/* the (rest of the) extent is entirely contained in this buffer */\n\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" data (alreadyRead: \"+extent.alreadyRead+\n\t\t\t\t\t\t\" offset: \"+(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+(extent.length - extent.alreadyRead)+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, extent.length - extent.alreadyRead);\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += extent.length - extent.alreadyRead;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\n\t\t\t\t\textent.alreadyRead = extent.length;\n\t\t\t\t\titem.alreadyRead += extent.length;\n\t\t\t\t} else {\n\t\t\t\t\t/* the sample does not end in this buffer */\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tLog.debug(\"ISOFile\",\"Getting item #\"+item_id+\" extent #\"+i+\" partial data (alreadyRead: \"+extent.alreadyRead+\" offset: \"+\n\t\t\t\t\t\t(extent.offset+extent.alreadyRead - buffer.fileStart)+\" read size: \"+lengthAfterStart+\n\t\t\t\t\t\t\" full extent size: \"+extent.length+\" full item size: \"+item.size+\")\");\n\t\t\t\t\t\n\t\t\t\t\tDataStream.memcpy(item.data.buffer, item.alreadyRead, \n\t\t\t\t\t                  buffer, extent.offset+extent.alreadyRead - buffer.fileStart, lengthAfterStart);\n\t\t\t\t\textent.alreadyRead += lengthAfterStart;\n\t\t\t\t\titem.alreadyRead += lengthAfterStart;\n\n\t\t\t\t\t/* update the number of bytes used in this buffer and check if it needs to be removed */\n\t\t\t\t\tbuffer.usedBytes += lengthAfterStart;\n\t\t\t\t\tthis.stream.logBufferLevel();\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tif (item.alreadyRead === item.size) {\n\t\t/* fetched entirely */\n\t\treturn item;\n\t} else {\n\t\treturn null;\n\t}\n}\n\n/* Release the memory used to store the data of the item */\nISOFile.prototype.releaseItem = function(item_id) {\t\n\tvar item = this.items[item_id];\n\tif (item.data) {\n\t\tthis.itemsDataSize -= item.size;\n\t\titem.data = null;\n\t\titem.alreadyRead = 0;\n\t\tfor (var i = 0; i < item.extents.length; i++) {\n\t\t\tvar extent = item.extents[i];\n\t\t\textent.alreadyRead = 0;\n\t\t}\n\t\treturn item.size;\n\t} else {\n\t\treturn 0;\n\t}\n}\n\n\nISOFile.prototype.processItems = function(callback) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tthis.getItem(item.id);\n\t\tif (callback && !item.sent) {\n\t\t\tcallback(item);\n\t\t\titem.sent = true;\n\t\t\titem.data = null;\n\t\t}\n\t}\n}\n\nISOFile.prototype.hasItem = function(name) {\n\tfor(var i in this.items) {\n\t\tvar item = this.items[i];\n\t\tif (item.name === name) {\n\t\t\treturn item.id;\n\t\t}\n\t}\n\treturn -1;\n}\n\nISOFile.prototype.getMetaHandler = function() {\n\tif (!this.meta) {\n\t\treturn null;\n\t} else {\n\t\treturn this.meta.hdlr.handler;\t\t\n\t}\n}\n\nISOFile.prototype.getPrimaryItem = function() {\n\tif (!this.meta || !this.meta.pitm) {\n\t\treturn null;\n\t} else {\n\t\treturn this.getItem(this.meta.pitm.item_id);\n\t}\n}\n\n// file:src/isofile-write.js\n/* Rewrite the entire file */\nISOFile.prototype.write = function(outstream) {\n\tfor (var i=0; i<this.boxes.length; i++) {\n\t\tthis.boxes[i].write(outstream);\n\t}\n}\n\n/* Modify the file and create the initialization segment */\nISOFile.writeInitializationSegment = function(ftyp, moov, total_duration, sample_duration) {\n\tvar i;\n\tvar index;\n\tvar mehd;\n\tvar trex;\n\tvar box;\n\tLog.debug(\"ISOFile\", \"Generating initialization segment\");\n\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tftyp.write(stream);\n\t\n\t/* we can now create the new mvex box */\n\tvar mvex = moov.add(\"mvex\");\n\tif (total_duration) {\n\t\tmvex.add(\"mehd\").set(\"fragment_duration\", total_duration);\n\t}\n\tfor (i = 0; i < moov.traks.length; i++) {\n\t\tmvex.add(\"trex\").set(\"track_id\", moov.traks[i].tkhd.track_id)\n\t\t\t\t\t\t.set(\"default_sample_description_index\", 1)\n\t\t\t\t\t\t.set(\"default_sample_duration\", sample_duration)\n\t\t\t\t\t\t.set(\"default_sample_size\", 0)\n\t\t\t\t\t\t.set(\"default_sample_flags\", 1<<16)\n\t}\n\tmoov.write(stream);\n\n\treturn stream.buffer;\n\n}\n// file:src/mp4box.js\n/* \n * Copyright (c) 2012-2013. Telecom ParisTech/TSI/MM/GPAC Cyril Concolato\n * License: BSD-3-Clause (see LICENSE file)\n */\nvar MP4Box = function (_keepMdatData) {\n\t/* MultiBufferStream to parse chunked file data */\n\tthis.inputStream = new MultiBufferStream();\n\t/* Boolean indicating if bytes containing media data should be kept in memory */\n\tthis.keepMdatData = (_keepMdatData !== undefined ? _keepMdatData : true);\n\t/* ISOFile object containing the parsed boxes */\n\tthis.inputIsoFile = new ISOFile(this.inputStream);\n\tthis.inputIsoFile.discardMdatData = (this.keepMdatData ? false : true);\n\t/* Callback called when the moov parsing starts */\n\tthis.onMoovStart = null;\n\t/* Boolean keeping track of the call to onMoovStart, to avoid double calls */\n\tthis.moovStartSent = false;\n\t/* Callback called when the moov is entirely parsed */\n\tthis.onReady = null;\n\t/* Boolean keeping track of the call to onReady, to avoid double calls */\n\tthis.readySent = false;\t\n\t/* Callback to call when segments are ready */\n\tthis.onSegment = null;\n\t/* Callback to call when samples are ready */\n\tthis.onSamples = null;\n\t/* Callback to call when there is an error in the parsing or processing of samples */\t\n\tthis.onError = null;\n\t/* Boolean indicating if the moov box run-length encoded tables of sample information have been processed */\n\tthis.sampleListBuilt = false;\n\t/* Array of Track objects for which fragmentation of samples is requested */\n\tthis.fragmentedTracks = [];\n\t/* Array of Track objects for which extraction of samples is requested */\n\tthis.extractedTracks = [];\n\t/* Boolean indicating that fragmention is ready */\n\tthis.isFragmentationInitialized = false;\n\t/* Boolean indicating that fragmented has started */\n\tthis.sampleProcessingStarted = false;\n\t/* Number of the next 'moof' to generate when fragmenting */\n\tthis.nextMoofNumber = 0;\n\t/* Boolean indicating if the initial list of items has been produced */\n\tthis.itemListBuilt = false;\n}\n\nMP4Box.prototype.setSegmentOptions = function(id, user, options) {\n\tvar trak = this.inputIsoFile.getTrackById(id);\n\tif (trak) {\n\t\tvar fragTrack = {};\n\t\tthis.fragmentedTracks.push(fragTrack);\n\t\tfragTrack.id = id;\n\t\tfragTrack.user = user;\n\t\tfragTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\tfragTrack.segmentStream = null;\n\t\tfragTrack.nb_samples = 1000;\n\t\tfragTrack.rapAlignement = true;\n\t\tif (options) {\n\t\t\tif (options.nbSamples) fragTrack.nb_samples = options.nbSamples;\n\t\t\tif (options.rapAlignement) fragTrack.rapAlignement = options.rapAlignement;\n\t\t}\n\t}\n}\n\nMP4Box.prototype.unsetSegmentOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar fragTrack = this.fragmentedTracks[i];\n\t\tif (fragTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.fragmentedTracks.splice(index, 1);\n\t}\n}\n\nMP4Box.prototype.setExtractionOptions = function(id, user, options) {\n\tvar trak = this.inputIsoFile.getTrackById(id);\n\tif (trak) {\n\t\tvar extractTrack = {};\n\t\tthis.extractedTracks.push(extractTrack);\n\t\textractTrack.id = id;\n\t\textractTrack.user = user;\n\t\textractTrack.trak = trak;\n\t\ttrak.nextSample = 0;\n\t\textractTrack.nb_samples = 1000;\n\t\textractTrack.samples = [];\n\t\tif (options) {\n\t\t\tif (options.nbSamples) extractTrack.nb_samples = options.nbSamples;\n\t\t}\n\t}\n}\n\nMP4Box.prototype.unsetExtractionOptions = function(id) {\n\tvar index = -1;\n\tfor (var i = 0; i < this.extractedTracks.length; i++) {\n\t\tvar extractTrack = this.extractedTracks[i];\n\t\tif (extractTrack.id == id) {\n\t\t\tindex = i;\n\t\t}\n\t}\n\tif (index > -1) {\n\t\tthis.extractedTracks.splice(index, 1);\n\t}\n}\n\nMP4Box.prototype.createSingleSampleMoof = function(sample) {\n\tvar moof = new BoxParser.moofBox();\n\tmoof.add(\"mfhd\").set(\"sequence_number\", this.nextMoofNumber);\n\tthis.nextMoofNumber++;\n\tvar traf = moof.add(\"traf\");\n\ttraf.add(\"tfhd\").set(\"track_id\", sample.track_id)\n\t\t\t\t\t.set(\"flags\", BoxParser.TFHD_FLAG_DEFAULT_BASE_IS_MOOF);\n\ttraf.add(\"tfdt\").set(\"baseMediaDecodeTime\", sample.dts);\n\ttraf.add(\"trun\").set(\"flags\", BoxParser.TRUN_FLAGS_DATA_OFFSET | BoxParser.TRUN_FLAGS_DURATION | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_SIZE | BoxParser.TRUN_FLAGS_FLAGS | \n\t\t\t\t \t\t\t\t  BoxParser.TRUN_FLAGS_CTS_OFFSET)\n\t\t\t\t\t.set(\"data_offset\",0)\n\t\t\t\t\t.set(\"first_sample_flags\",0)\n\t\t\t\t\t.set(\"sample_count\",1)\n\t\t\t\t\t.set(\"sample_duration\",[sample.duration])\n\t\t\t\t\t.set(\"sample_size\",[sample.size])\n\t\t\t\t\t.set(\"sample_flags\",[0])\n\t\t\t\t\t.set(\"sample_composition_time_offset\", [sample.cts - sample.dts]);\n\treturn moof;\n}\n\nMP4Box.prototype.createFragment = function(input, track_id, sampleNumber, stream_) {\n\tvar trak = this.inputIsoFile.getTrackById(track_id);\n\tvar sample = this.inputIsoFile.getSample(trak, sampleNumber);\n\tif (sample == null) {\n\t\tsample = trak.samples[sampleNumber];\n\t\tif (this.nextSeekPosition) {\n\t\t\tthis.nextSeekPosition = Math.min(sample.offset+sample.alreadyRead,this.nextSeekPosition);\n\t\t} else {\n\t\t\tthis.nextSeekPosition = trak.samples[sampleNumber].offset+sample.alreadyRead;\n\t\t}\n\t\treturn null;\n\t}\n\t\n\tvar stream = stream_ || new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\n\tvar moof = this.createSingleSampleMoof(sample);\n\tmoof.write(stream);\n\n\t/* adjusting the data_offset now that the moof size is known*/\n\tmoof.trafs[0].truns[0].data_offset = moof.size+8; //8 is mdat header\n\tLog.debug(\"MP4Box\", \"Adjusting data_offset with new value \"+moof.trafs[0].truns[0].data_offset);\n\tstream.adjustUint32(moof.trafs[0].truns[0].data_offset_position, moof.trafs[0].truns[0].data_offset);\n\t\t\n\tvar mdat = new BoxParser.mdatBox();\n\tmdat.data = sample.data;\n\tmdat.write(stream);\n\treturn stream;\n}\n\nMP4Box.prototype.processSamples = function() {\n\tvar i;\n\tvar trak;\n\tif (!this.sampleProcessingStarted) return;\n\n\t/* For each track marked for fragmentation, \n\t   check if the next sample is there (i.e. if the sample information is known (i.e. moof has arrived) and if it has been downloaded) \n\t   and create a fragment with it */\n\tif (this.isFragmentationInitialized && this.onSegment !== null) {\n\t\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\t\tvar fragTrak = this.fragmentedTracks[i];\n\t\t\ttrak = fragTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\t\t\t\t\n\t\t\t\t/* The sample information is there (either because the file is not fragmented and this is not the last sample, \n\t\t\t\tor because the file is fragmented and the moof for that sample has been received */\n\t\t\t\tLog.debug(\"MP4Box\", \"Creating media fragment on track #\"+fragTrak.id +\" for sample \"+trak.nextSample); \n\t\t\t\tvar result = this.createFragment(this.inputIsoFile, fragTrak.id, trak.nextSample, fragTrak.segmentStream);\n\t\t\t\tif (result) {\n\t\t\t\t\tfragTrak.segmentStream = result;\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t} else {\n\t\t\t\t\t/* The fragment could not be created because the media data is not there (not downloaded), wait for it */\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t/* A fragment is created by sample, but the segment is the accumulation in the buffer of these fragments.\n\t\t\t\t   It is flushed only as requested by the application (nb_samples) to avoid too many callbacks */\n\t\t\t\tif (trak.nextSample % fragTrak.nb_samples === 0 || trak.nextSample >= trak.samples.length) {\n\t\t\t\t\tLog.info(\"MP4Box\", \"Sending fragmented data on track #\"+fragTrak.id+\" for samples [\"+Math.max(0,trak.nextSample-fragTrak.nb_samples)+\",\"+(trak.nextSample-1)+\"]\"); \n\t\t\t\t\tLog.info(\"MP4Box\", \"Sample data size in memory: \"+this.inputIsoFile.getAllocatedSampleDataSize()); \t\t\t\n\t\t\t\t\tif (this.onSegment) {\n\t\t\t\t\t\tthis.onSegment(fragTrak.id, fragTrak.user, fragTrak.segmentStream.buffer, trak.nextSample);\n\t\t\t\t\t}\n\t\t\t\t\t/* force the creation of a new buffer */\n\t\t\t\t\tfragTrak.segmentStream = null;\n\t\t\t\t\tif (fragTrak !== this.fragmentedTracks[i]) {\n\t\t\t\t\t\t/* make sure we can stop fragmentation if needed */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (this.onSamples !== null) {\n\t\t/* For each track marked for data export, \n\t\t   check if the next sample is there (i.e. has been downloaded) and send it */\n\t\tfor (i = 0; i < this.extractedTracks.length; i++) {\n\t\t\tvar extractTrak = this.extractedTracks[i];\n\t\t\ttrak = extractTrak.trak;\n\t\t\twhile (trak.nextSample < trak.samples.length && this.sampleProcessingStarted) {\t\t\t\t\n\t\t\t\tLog.debug(\"MP4Box\", \"Exporting on track #\"+extractTrak.id +\" sample #\"+trak.nextSample);\n\t\t\t\tvar sample = this.inputIsoFile.getSample(trak, trak.nextSample);\n\t\t\t\tif (sample) {\n\t\t\t\t\ttrak.nextSample++;\n\t\t\t\t\textractTrak.samples.push(sample);\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (trak.nextSample % extractTrak.nb_samples === 0 || trak.nextSample >= trak.samples.length) {\n\t\t\t\t\tLog.debug(\"MP4Box\", \"Sending samples on track #\"+extractTrak.id+\" for sample \"+trak.nextSample); \n\t\t\t\t\tif (this.onSamples) {\n\t\t\t\t\t\tthis.onSamples(extractTrak.id, extractTrak.user, extractTrak.samples);\n\t\t\t\t\t}\n\t\t\t\t\textractTrak.samples = [];\n\t\t\t\t\tif (extractTrak !== this.extractedTracks[i]) {\n\t\t\t\t\t\t/* check if the extraction needs to be stopped */\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nMP4Box.prototype.checkBuffer = function (ab) {\n\tif (ab === null || ab === undefined) {\n\t\tthrow(\"Buffer must be defined and non empty\");\n\t}\t\n\tif (ab.fileStart === undefined) {\n\t\tthrow(\"Buffer must have a fileStart property\");\n\t}\t\n\tif (ab.byteLength === 0) {\n\t\tLog.warn(\"MP4Box\", \"Ignoring empty buffer (fileStart: \"+ab.fileStart+\")\");\n\t\tthis.inputStream.logBufferLevel();\n\t\treturn false;\n\t}\n\tLog.info(\"MP4Box\", \"Processing buffer (fileStart: \"+ab.fileStart+\")\");\n\n\t/* mark the bytes in the buffer as not being used yet */\n\tab.usedBytes = 0;\n\tthis.inputStream.insertBuffer(ab);\n\tthis.inputStream.logBufferLevel();\n\n\tif (!this.inputStream.initialized()) {\n\t\tLog.warn(\"MP4Box\", \"Not ready to start parsing\");\n\t\treturn false;\n\t}\n\treturn true;\n}\n\n/* Processes a new ArrayBuffer (with a fileStart property)\n   Returns the next expected file position, or undefined if not ready to parse */\nMP4Box.prototype.appendBuffer = function(ab) {\n\tvar nextFileStart;\n\tif (this.checkBuffer) {\n\t\tif (!this.checkBuffer(ab)) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/* Parse whatever is in the existing buffers */\n\tthis.inputIsoFile.parse();\n\n\t/* Check if the moovStart callback needs to be called */\n\tif (this.inputIsoFile.moovStartFound && !this.moovStartSent) {\n\t\tthis.moovStartSent = true;\n\t\tif (this.onMoovStart) this.onMoovStart();\n\t}\n\n\tif (this.inputIsoFile.moov) {\n\t\t/* A moov box has been entirely parsed */\n\t\t\n\t\tif (this.processSamples) {\n\t\t\t/* if this is the first call after the moov is found we initialize the list of samples (may be empty in fragmented files) */\n\t\t\tif (!this.sampleListBuilt) {\n\t\t\t\tthis.inputIsoFile.buildSampleLists();\n\t\t\t\tthis.sampleListBuilt = true;\n\t\t\t} \n\n\t\t\t/* We update the sample information if there are any new moof boxes */\n\t\t\tthis.inputIsoFile.updateSampleLists();\n\t\t}\n\t\t\n\t\t/* If the application needs to be informed that the 'moov' has been found, \n\t\t   we create the information object and callback the application */\n\t\tif (this.onReady && !this.readySent) {\n\t\t\tthis.readySent = true;\n\t\t\tthis.onReady(this.getInfo());\n\t\t}\n\n\t\tif (this.processSamples) {\n\t\t\t/* See if any sample extraction or segment creation needs to be done with the available samples */\n\t\t\tthis.processSamples();\n\t\t}\n\n\t\t/* Inform about the best range to fetch next */\n\t\tif (this.nextSeekPosition) {\n\t\t\tnextFileStart = this.nextSeekPosition;\n\t\t\tthis.nextSeekPosition = undefined;\n\t\t} else {\n\t\t\tnextFileStart = this.inputIsoFile.nextParsePosition;\n\t\t}\t\t\n\t\tif (this.inputStream.getEndFilePositionAfter) {\n\t\t\tnextFileStart = this.inputStream.getEndFilePositionAfter(nextFileStart);\n\t\t}\n\t} else {\n\t\tif (this.inputIsoFile !== null) {\n\t\t\t/* moov has not been parsed but the first buffer was received, \n\t\t\t   the next fetch should probably be the next box start */\n\t\t\tnextFileStart = this.inputIsoFile.nextParsePosition;\n\t\t} else {\n\t\t\t/* No valid buffer has been parsed yet, we cannot know what to parse next */\n\t\t\tnextFileStart = 0;\n\t\t}\n\t}\t\n\tif (this.inputIsoFile.meta) {\n\t\tif (this.inputIsoFile.flattenItemInfo && !this.itemListBuilt) {\n\t\t\tthis.inputIsoFile.flattenItemInfo();\n\t\t\tthis.itemListBuilt = true;\n\t\t}\n\t\tif (this.inputIsoFile.processItems) {\n\t\t\tthis.inputIsoFile.processItems(this.onItem);\n\t\t}\n\t}\n\n\tif (this.inputStream.cleanBuffers) {\n\t\tLog.info(\"MP4Box\", \"Done processing buffer (fileStart: \"+ab.fileStart+\") - next buffer to fetch should have a fileStart position of \"+nextFileStart);\n\t\tthis.inputStream.logBufferLevel();\n\t\tthis.inputStream.cleanBuffers();\n\t\tthis.inputStream.logBufferLevel(true);\n\t\tLog.info(\"MP4Box\", \"Sample data size in memory: \"+this.inputIsoFile.getAllocatedSampleDataSize()); \t\t\t\n\t}\n\treturn nextFileStart;\n}\n\nMP4Box.prototype.getInfo = function() {\n\tvar i, j;\n\tvar movie = {};\n\tvar trak;\n\tvar track;\n\tvar sample_desc;\n\tvar _1904 = (new Date(4, 0, 1, 0, 0, 0, 0).getTime());\n\n\tif (this.inputIsoFile.moov) {\n\t\tmovie.hasMoov = true;\n\t\tmovie.duration = this.inputIsoFile.moov.mvhd.duration;\n\t\tmovie.timescale = this.inputIsoFile.moov.mvhd.timescale;\n\t\tmovie.isFragmented = (this.inputIsoFile.moov.mvex != null);\n\t\tif (movie.isFragmented && this.inputIsoFile.moov.mvex.mehd) {\n\t\t\tmovie.fragment_duration = this.inputIsoFile.moov.mvex.mehd.fragment_duration;\n\t\t} \n\t\tmovie.isProgressive = this.inputIsoFile.isProgressive;\n\t\tmovie.hasIOD = (this.inputIsoFile.moov.iods != null);\n\t\tmovie.brands = []; \n\t\tmovie.brands.push(this.inputIsoFile.ftyp.major_brand);\n\t\tmovie.brands = movie.brands.concat(this.inputIsoFile.ftyp.compatible_brands);\n\t\tmovie.created = new Date(_1904+this.inputIsoFile.moov.mvhd.creation_time*1000);\n\t\tmovie.modified = new Date(_1904+this.inputIsoFile.moov.mvhd.modification_time*1000);\n\t\tmovie.tracks = [];\n\t\tmovie.audioTracks = [];\n\t\tmovie.videoTracks = [];\n\t\tmovie.subtitleTracks = [];\n\t\tmovie.metadataTracks = [];\n\t\tmovie.hintTracks = [];\n\t\tmovie.otherTracks = [];\n\t\tfor (i = 0; i < this.inputIsoFile.moov.traks.length; i++) {\n\t\t\ttrak = this.inputIsoFile.moov.traks[i];\n\t\t\tsample_desc = trak.mdia.minf.stbl.stsd.entries[0];\n\t\t\ttrack = {};\n\t\t\tmovie.tracks.push(track);\n\t\t\ttrack.id = trak.tkhd.track_id;\n\t\t\ttrack.name = trak.mdia.hdlr.name;\n\t\t\ttrack.references = [];\n\t\t\tif (trak.tref) {\n\t\t\t\tfor (j = 0; j < trak.tref.boxes.length; j++) {\n\t\t\t\t\tref = {};\n\t\t\t\t\ttrack.references.push(ref);\n\t\t\t\t\tref.type = trak.tref.boxes[j].type;\n\t\t\t\t\tref.track_ids = trak.tref.boxes[j].track_ids;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (trak.edts) {\n\t\t\t\ttrack.edits = trak.edts.elst.entries;\n\t\t\t}\n\t\t\ttrack.created = new Date(_1904+trak.tkhd.creation_time*1000);\n\t\t\ttrack.modified = new Date(_1904+trak.tkhd.modification_time*1000);\n\t\t\ttrack.movie_duration = trak.tkhd.duration;\n\t\t\ttrack.movie_timescale = movie.timescale;\n\t\t\ttrack.layer = trak.tkhd.layer;\n\t\t\ttrack.alternate_group = trak.tkhd.alternate_group;\n\t\t\ttrack.volume = trak.tkhd.volume;\n\t\t\ttrack.matrix = trak.tkhd.matrix;\n\t\t\ttrack.track_width = trak.tkhd.width/(1<<16);\n\t\t\ttrack.track_height = trak.tkhd.height/(1<<16);\n\t\t\ttrack.timescale = trak.mdia.mdhd.timescale;\n\t\t\ttrack.cts_shift = trak.mdia.minf.stbl.cslg;\n\t\t\ttrack.duration = trak.mdia.mdhd.duration;\n\t\t\ttrack.samples_duration = trak.samples_duration;\n\t\t\ttrack.codec = sample_desc.getCodec();\t\n\t\t\ttrack.kind = (trak.udta && trak.udta.kinds.length ? trak.udta.kinds[0] : { schemeURI: \"\", value: \"\"});\n\t\t\ttrack.language = (trak.mdia.elng ? trak.mdia.elng.extended_language : trak.mdia.mdhd.languageString);\n\t\t\ttrack.nb_samples = trak.samples.length;\n\t\t\ttrack.size = trak.samples_size;\n\t\t\ttrack.bitrate = (track.size*8*track.timescale)/track.samples_duration;\n\t\t\tif (sample_desc.isAudio()) {\n\t\t\t\ttrack.type = \"audio\";\n\t\t\t\tmovie.audioTracks.push(track);\n\t\t\t\ttrack.audio = {};\n\t\t\t\ttrack.audio.sample_rate = sample_desc.getSampleRate();\t\t\n\t\t\t\ttrack.audio.channel_count = sample_desc.getChannelCount();\t\t\n\t\t\t\ttrack.audio.sample_size = sample_desc.getSampleSize();\t\t\n\t\t\t} else if (sample_desc.isVideo()) {\n\t\t\t\ttrack.type = \"video\";\n\t\t\t\tmovie.videoTracks.push(track);\n\t\t\t\ttrack.video = {};\n\t\t\t\ttrack.video.width = sample_desc.getWidth();\t\t\n\t\t\t\ttrack.video.height = sample_desc.getHeight();\t\t\n\t\t\t} else if (sample_desc.isSubtitle()) {\n\t\t\t\ttrack.type = \"subtitles\";\n\t\t\t\tmovie.subtitleTracks.push(track);\n\t\t\t} else if (sample_desc.isHint()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.hintTracks.push(track);\n\t\t\t} else if (sample_desc.isMetadata()) {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.metadataTracks.push(track);\n\t\t\t} else {\n\t\t\t\ttrack.type = \"metadata\";\n\t\t\t\tmovie.otherTracks.push(track);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tmovie.hasMoov = false;\n\t}\n\tmovie.mime = \"\";\n\tif (movie.hasMoov) {\n\t\tif (movie.videoTracks.length > 0) {\n\t\t\tmovie.mime += 'video/mp4; codecs=\\\"';\n\t\t} else if (movie.audioTracks.length > 0) {\n\t\t\tmovie.mime += 'audio/mp4; codecs=\\\"';\n\t\t} else {\n\t\t\tmovie.mime += 'application/mp4; codecs=\\\"';\n\t\t}\n\t\tfor (i = 0; i < movie.tracks.length; i++) {\n\t\t\tif (i !== 0) movie.mime += ',';\n\t\t\tmovie.mime+= movie.tracks[i].codec;\n\t\t}\n\t}\n\tmovie.mime += '\\\"; profiles=\\\"';\n\tmovie.mime += this.inputIsoFile.ftyp.compatible_brands.join();\n\tmovie.mime += '\\\"';\n\treturn movie;\n}\n\nMP4Box.prototype.writeFile = function() {\n\tvar stream = new DataStream();\n\tstream.endianness = DataStream.BIG_ENDIAN;\n\tthis.inputIsoFile.write(stream);\n\treturn stream.buffer;\n}\n\nMP4Box.prototype.initializeSegmentation = function() {\n\tvar i;\n\tvar j;\n\tvar box;\n\tvar initSegs;\n\tvar trak;\n\tvar seg;\n\tif (this.onSegment === null) {\n\t\tLog.warn(\"MP4Box\", \"No segmentation callback set!\");\n\t}\n\tif (!this.isFragmentationInitialized) {\n\t\tthis.isFragmentationInitialized = true;\t\t\n\t\tthis.nextMoofNumber = 0;\n\t\tthis.inputIsoFile.resetTables();\n\t}\t\n\tinitSegs = [];\t\n\tfor (i = 0; i < this.fragmentedTracks.length; i++) {\n\t\tvar moov = new BoxParser.moovBox();\n\t\tmoov.mvhd = this.inputIsoFile.moov.mvhd;\n\t    moov.boxes.push(moov.mvhd);\n\t\ttrak = this.inputIsoFile.getTrackById(this.fragmentedTracks[i].id);\n\t\tmoov.boxes.push(trak);\n\t\tmoov.traks.push(trak);\n\t\tseg = {};\n\t\tseg.id = trak.tkhd.track_id;\n\t\tseg.user = this.fragmentedTracks[i].user;\n\t\tseg.buffer = ISOFile.writeInitializationSegment(this.inputIsoFile.ftyp, moov, (this.inputIsoFile.moov.mvex && this.inputIsoFile.moov.mvex.mehd ? this.inputIsoFile.moov.mvex.mehd.fragment_duration: undefined), (this.inputIsoFile.moov.traks[i].samples.length>0 ? this.inputIsoFile.moov.traks[i].samples[0].duration: 0));\n\t\tinitSegs.push(seg);\n\t}\n\treturn initSegs;\n}\n\n/* Called by the application to release the resources associated to samples already forwarded to the application */\nMP4Box.prototype.releaseUsedSamples = function (id, sampleNum) {\n\tvar size = 0;\n\tvar trak = this.inputIsoFile.getTrackById(id);\n\tif (!trak.lastValidSample) trak.lastValidSample = 0;\n\tfor (var i = trak.lastValidSample; i < sampleNum; i++) {\n\t\tsize+=this.inputIsoFile.releaseSample(trak, i);\n\t}\n\tLog.info(\"MP4Box\", \"Track #\"+id+\" released samples up to \"+sampleNum+\" (released size: \"+size+\", remaining: \"+this.inputIsoFile.samplesDataSize+\")\");\n\ttrak.lastValidSample = sampleNum;\n}\n\n/* Called by the application to flush the remaining samples, once the download is finished */\nMP4Box.prototype.flush = function() {\n\tLog.info(\"MP4Box\", \"Flushing remaining samples\");\n\tthis.inputIsoFile.updateSampleLists();\n\tthis.processSamples();\n\tthis.inputStream.cleanBuffers();\n\tthis.inputStream.logBufferLevel(true);\n}\n\n/* Finds the byte offset for a given time on a given track\n   also returns the time of the previous rap */\nMP4Box.prototype.seekTrack = function(time, useRap, trak) {\n\tvar j;\n\tvar sample;\n\tvar seek_offset = Infinity;\n\tvar rap_seek_sample_num = 0;\n\tvar seek_sample_num = 0;\n\tvar timescale;\n\t\n\tif (trak.samples.length === 0) {\n\t\tLog.info(\"MP4Box\", \"No sample in track, cannot seek! Using time \"+Log.getDurationString(0, 1) +\" and offset: \"+0);\n\t\treturn { offset: 0, time: 0 };\n\t} \n\n\tfor (j = 0; j < trak.samples.length; j++) {\n\t\tsample = trak.samples[j];\n\t\tif (j === 0) {\n\t\t\tseek_sample_num = 0;\n\t\t\ttimescale = sample.timescale;\n\t\t} else if (sample.cts > time * sample.timescale) {\n\t\t\tseek_sample_num = j-1;\n\t\t\tbreak;\n\t\t} \n\t\tif (useRap && sample.is_sync) {\n\t\t\trap_seek_sample_num = j;\n\t\t}\n\t}\n\tif (useRap) {\n\t\tseek_sample_num = rap_seek_sample_num;\n\t}\n\ttime = trak.samples[seek_sample_num].cts;\n\ttrak.nextSample = seek_sample_num;\n\twhile (trak.samples[seek_sample_num].alreadyRead === trak.samples[seek_sample_num].size) {\n\t\tseek_sample_num++;\n\t}\n\tseek_offset = trak.samples[seek_sample_num].offset+trak.samples[seek_sample_num].alreadyRead;\n\tLog.info(\"MP4Box\", \"Seeking to \"+(useRap ? \"RAP\": \"\")+\" sample #\"+trak.nextSample+\" on track \"+trak.tkhd.track_id+\", time \"+Log.getDurationString(time, timescale) +\" and offset: \"+seek_offset);\n\treturn { offset: seek_offset, time: time/timescale };\n}\n\n/* Finds the byte offset in the file corresponding to the given time or to the time of the previous RAP */\nMP4Box.prototype.seek = function(time, useRap) {\n\tvar moov = this.inputIsoFile.moov;\n\tvar trak;\n\tvar trak_seek_info;\n\tvar i;\n\tvar seek_info = { offset: Infinity, time: Infinity };\n\tif (!this.inputIsoFile.moov) {\n\t\tthrow \"Cannot seek: moov not received!\";\n\t} else {\n\t\tfor (i = 0; i<moov.traks.length; i++) {\n\t\t\ttrak = moov.traks[i];\t\t\t\n\t\t\ttrak_seek_info = this.seekTrack(time, useRap, trak);\n\t\t\tif (trak_seek_info.offset < seek_info.offset) {\n\t\t\t\tseek_info.offset = trak_seek_info.offset;\n\t\t\t}\n\t\t\tif (trak_seek_info.time < seek_info.time) {\n\t\t\t\tseek_info.time = trak_seek_info.time;\n\t\t\t}\n\t\t}\n\t\tLog.info(\"MP4Box\", \"Seeking at time \"+Log.getDurationString(seek_info.time, 1)+\" needs a buffer with a fileStart position of \"+seek_info.offset);\n\t\tif (seek_info.offset === Infinity) {\n\t\t\t/* No sample info, in all tracks, cannot seek */\n\t\t\tseek_info = { offset: this.inputIsoFile.nextParsePosition, time: 0 };\n\t\t} else {\n\t\t\t/* check if the seek position is already in some buffer and\n\t\t\t in that case return the end of that buffer (or of the last contiguous buffer) */\n\t\t\t/* TODO: Should wait until append operations are done */\n\t\t\tseek_info.offset = this.inputStream.getEndFilePositionAfter(seek_info.offset);\n\t\t}\n\t\tLog.info(\"MP4Box\", \"Adjusted seek position (after checking data already in buffer): \"+seek_info.offset);\n\t\treturn seek_info;\n\t}\n}\n\nMP4Box.prototype.getTrackSamplesInfo = function(track_id) {\n\tvar track = this.inputIsoFile.getTrackById(track_id);\n\tif (track) {\n\t\treturn track.samples;\n\t} else {\n\t\treturn;\n\t}\n}\n\nMP4Box.prototype.getTrackSample = function(track_id, number) {\n\tvar track = this.inputIsoFile.getTrackById(track_id);\n\tvar sample = this.inputIsoFile.getSample(track, number);\n\treturn sample;\t\n}\n\nMP4Box.prototype.start = function() {\n\tthis.sampleProcessingStarted = true;\n\tthis.processSamples();\n}\n\nMP4Box.prototype.stop = function() {\n\tthis.sampleProcessingStarted = false;\n}\n\nif (typeof exports !== 'undefined') {\n\texports.MP4Box = MP4Box;\t\n}\n\nexport {MP4Box}; \n","import {CustEvent} from 'chimee-helper';\nimport {MP4Box} from './core';\n\nexport default class Mp4decode extends CustEvent {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.mp4box = new MP4Box();\n\t\tthis.bindEvent();\n\t}\n\n\tbindEvent() {\n\t\tconst mp4box = this.mp4box;\n\t\tmp4box.onReady = (info)=> {\n\t\t\tconst mediainfo = {\n\t\t\t\tdata: {\n\t\t\t\t\twidth: info.videoTracks[0].track_width || 0,\n\t\t\t\t\theight: info.videoTracks[0].track_height || 0,\n\t\t\t\t\tduration: info.isFragmented? info.fragment_duration/info.timescale : info.duration/info.timescale,\n\t\t\t\t\tvideoCodec: info.videoTracks[0].codec,\n\t\t\t\t\tauidoCodec: info.audioTracks[0].codec\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.onMediaInfo(mediainfo);\n\t\t\tinfo.tracks.forEach((item)=>{\n\t\t\t\tmp4box.setSegmentOptions(item.id, item.type); \n\t\t\t})\n\t\t\t\n\t\t\tconst initSegs = mp4box.initializeSegmentation();\n\t\t\tinitSegs.forEach((item)=>{\n\t\t\t\tthis.onInitMediaSegment({type: item.user, buffer: item.buffer});\n\t\t\t})\n\t\t}\n\n\t\tmp4box.onError = (e)=> {\n\t\t\tconsole.log(e);\n\t\t};\n\t\tmp4box.onSegment = (id, user, buffer, sampleNum)=>{\n\t\t\tthis.onMediaSegment({type: user, buffer: buffer, sampleNum: sampleNum});\n\t\t\tmp4box.releaseUsedSamples(id, sampleNum);\n\t\t}\n\t\tmp4box.onSamples = (id)=>{\n\t\t\tconsole.log(2);\n\t\t}\n\t\tmp4box.onItem = (id)=>{\n\t\t\tconsole.log(3);\n\t\t}\n\t\tmp4box.start();\n\t}\n\n\tsendBuffer(data) {\n\t\tthis.mp4box.appendBuffer(data);\n\t}\n\n\tseek(time, useRap) {\n\t\treturn this.mp4box.seek(time, useRap);\n\t}\n\tdistroy() {\n\t\tthis.mp4box.flush();\n\t}\n}","var fs = require('fs'),\n    path = require('path'),\n    paths = new Map();\n\nmodule.exports = function () {\n    return {\n        resolveId: function (importee, importer) {\n            if (importee === 'rollup-plugin-bundle-worker') {\n                return path.resolve(__dirname, 'workerhelper.js');\n            }\n            else if (importee.indexOf('worker!') === 0) {\n                var name = importee.split('!')[1],\n                    target = path.resolve(path.dirname(importer), name);\n\n                paths.set(target, name);\n                return target;\n            }\n        },\n\n        /**\n         * Do everything in load so that code loaded by the plugin can still be transformed by the\n         * rollup configuration\n         */\n        load: function (id) {\n            if (!paths.has(id)) {\n                return;\n            }\n\n            var code = [\n                    `import shimWorker from 'rollup-plugin-bundle-worker';`,\n                    `export default new shimWorker(${JSON.stringify(paths.get(id))}, function (window, document) {`,\n                    `var self = this;`,\n                    fs.readFileSync(id, 'utf-8'),\n                    `\\n});`\n                ].join('\\n');\n\n            return code;\n        }\n    };\n}\n","import shimWorker from 'rollup-plugin-bundle-worker';\nexport default new shimWorker(\"./transmuxer-worker.js\", function (window, document) {\nvar self = this;\nlet CPU = null;\nlet loader = null;\n\nthis.addEventListener('message', function (e) {\n  console.log(e);\n  postMessage({a:111});\n  self.postMessage({a:111});\n\n  switch (e.data.cmd) {\n    case 'init':\n      CPU = new Mp4decode();\n      CPU.onInitSegment = onRemuxerInitSegmentArrival.bind(this);\n      CPU.onMediaSegment = onRemuxerMediaSegmentArrival.bind(this);\n      CPU.onError = onCPUError.bind(this);\n      CPU.onMediaInfo = onMediaInfo.bind(this);\n      CPU.seekCallBack = seekCallBack.bind(this);\n    break;\n    case 'loadSource':\n      loader = new IoLoader(this.config);\n      loader.arrivalDataCallback = arrivalDataCallbackWorker;\n      loader.open();\n    break;\n    case 'pipe':\n    const consumed = CPU.setflv(e.data.source);\n    self.postMessage({cmd: 'pipeCallback', source: consumed});\n    break;\n    case 'seek':\n    CPU.seek(e.data.source);\n    break;\n  };\n});\n\nfunction onRemuxerInitSegmentArrival (type, initSegment) {\n  self.postMessage({cmd: 'mediaSegmentInit', source: initSegment});\n}\n\nfunction onRemuxerMediaSegmentArrival (type, initSegment) {\n  self.postMessage({cmd: 'mediaSegment', source: initSegment});\n}\n\nfunction onCPUError (error) {\n  self.postMessage({cmd: 'error', source: error});\n}\n\nfunction onMediaInfo (mediainfo) {\n  self.postMessage({cmd: 'mediainfo', source: mediainfo});\n}\n\nfunction seekCallBack () {\n}\nfunction arrivalDataCallbackWorker (data, byteStart, keyframePoint) {\n  if(keyframePoint) {\n    this.w.postMessage({cmd: 'seek', source: data});\n  }\n  this.w.postMessage({cmd: 'pipe', source: data});\n  return;\n}\n\n\n\n});","import IoLoader from '../io/io-loader';\nimport {CustEvent} from 'chimee-helper';\nimport {Log} from 'chimee-helper';\nimport Mp4decode from '../mp4decode';\nimport TransmuxerWorker from 'worker!./transmuxer-worker.js';\n/**\n * Transmuxer 控制层\n * @class Transmuxer\n * @param {mediaSource} mediaSource\n * @param {object} config\n */\nexport default class Transmuxer extends CustEvent {\n\tconstructor (mediaSource, config) {\n\t\tsuper();\n\t\tthis.config = {};\n\t\tthis.tag = 'transmuxer';\n    this.loader = null;\n    this.CPU = null;\n    this.keyframePoint = false;\n    this.w = null;\n    Object.assign(this.config, config);\n    if(this.config.webWorker) {\n      \n      this.w = new TransmuxerWorker();\n\n      // const s = transmuxerWorker.toString();\n      // const blob = new Blob([s], {type: 'text/javascript'});\n      // this.w = new Worker(window.URL.createObjectURL(blob));\n\n      // this.w = work('./transmuxer-worker');\n      // this.w.postMessage({cmd: 'init'});\n      this.w.addEventListener('message', (e) => {\n        console.log(e);\n        this.parseCallback(e.data);\n      });\n      this.w.postMessage({cmd: 'init'});\n    }\n\t}\n   /**\n   * instance ioloader\n   */\n\tloadSource () {\n    if(this.config.webWorker) {\n      this.w.postMessage({cmd: 'loadSource'});\n      // this.loader.arrivalDataCallback = this.arrivalDataCallbackWorker.bind(this);\n    } else {\n      this.loader = new IoLoader(this.config);\n      this.loader.arrivalDataCallback = this.arrivalDataCallback.bind(this);\n      this.loader.open();\n    }\n  }\n  /**\n   * data arrive to webworker\n   */\n  // arrivalDataCallbackWorker (data, byteStart, keyframePoint) {\n  //   if(keyframePoint) {\n  //     this.w.postMessage({cmd: 'seek', source: data});\n  //   }\n  //   this.w.postMessage({cmd: 'pipe', source: data});\n  //   return;\n  // }\n   /**\n   * loader data callback\n   *  @param {arraybuffer} 数据\n   *  @param {number} 开始的起点\n   *  @param {keyframePoint} 关键帧点\n   */\n  arrivalDataCallback (data, byteStart, keyframePoint) {\n    //this.emit('mediaSegment', data);\n    let consumed = 0;\n    if(!this.CPU) {\n      this.CPU = new Mp4decode();\n      this.CPU.onMediaSegment = this.onRemuxerMediaSegmentArrival.bind(this);\n      this.CPU.onInitMediaSegment = this.onRemuxerInitSegmentArrival.bind(this);\n      this.CPU.onMediaInfo = this.onMediaInfo.bind(this);\n      this.CPU.on('error', function(handle) {\n        this.emit('mp4box', handle.data);\n      })\n    }\n    if(keyframePoint) {\n      this.keyframePoint = true;\n      this.CPU.seek(keyframePoint);\n    }\n    this.CPU.sendBuffer(data);\n  }\n\n  /**\n   * loader data callback\n   *  @param {arraybuffer} 数据\n   */\n  parseCallback (data) {\n    switch(data.cmd) {\n      case 'pipeCallback':\n      data.source;\n      break;\n      case 'mediaSegmentInit':\n      this.emit('mediaSegmentInit', data.source);\n      break;\n      case 'mediaSegment':\n      this.emit('mediaSegment', data.source);\n      break;\n      case 'mediainfo':\n      this.emit('mediainfo', data.source);\n      break;\n    }\n  }\n\n  /**\n   * Demux error\n   *  @param {string} 类型\n   *  @param {string} 信息\n   */\n  onDemuxError (type, info) {\n  \tLog.error(this.tag, `DemuxError: type = ${type}, info = ${info}`);\n    this.emit('DemuxError', type, info);\n  }\n\n  /**\n   * Demux mediaInfo\n   *  @param {object} 视频头信息\n   */\n  onMediaInfo (mediaInfo) {\n    this.mediaInfo = mediaInfo;\n    this.emit('mediaInfo', mediaInfo);\n  }\n\n  /**\n   * remuxer init segment arrival\n   *  @param {arraybuffer} 视频数据\n   */\n  onRemuxerInitSegmentArrival (data) {\n    this.emit('mediaSegmentInit', data);\n  }\n\n  /**\n   * remuxer  segment arrival\n   *  @param {arraybuffer} 视频数据\n   */\n  onRemuxerMediaSegmentArrival (data) {\n    this.emit('mediaSegment', data);\n  }\n\n  /**\n   * cpu error\n   *  @param {object} 错误信息\n   */\n  onCPUError (handle) {\n    this.emit('ERROR', handle.data);\n  }\n\n  /**\n   * get video mediaInfo\n   */\n  getMediaInfo () {\n    return this.mediaInfo;\n  }\n\n   /**\n   * stop loader\n   */\n  pause () {\n    this.loader.pause();\n  }\n\n  /**\n   * resume loader\n   */\n  resume () {\n     this.loader.resume();\n  }\n   /**\n   * flv can seek\n   */\n  isSeekable () {\n    return this.mediaInfo.hasKeyframesIndex;\n  }\n  /**\n   * video seek\n   * @param {object} 关键帧集合\n   */\n  seek (time) {\n    const seek_info = this.CPU.seek(time);\n    this.loader = new IoLoader(this.config);\n    this.loader.arrivalDataCallback = this.arrivalDataCallback.bind(this);\n    this.loader.seek(seek_info.offset, false);\n  }\n\n  /**\n   * refresh\n   */\n  refresh () {\n    this.pause();\n    this.loader = new IoLoader(this.config);\n    this.loader.arrivalDataCallback = this.arrivalDataCallback.bind(this);\n    this.loader.open();\n  }\n\n  /**\n   * destroy\n   */\n  destroy () {\n    this.CPU.distroy();\n    this.loader.destroy();\n    this.loader = null;\n    this.CPU = null;\n  }\n\n  /**\n   * get nearlest keyframe\n   */\n  getNearlestKeyframe (times) {\n    if(this.mediaInfo && this.mediaInfo.keyframesIndex) {\n      const keyframesList = this.mediaInfo.keyframesIndex.times;\n      const keyframesPositions = this.mediaInfo.keyframesIndex.filepositions;\n      const binarySearch = function (list, val) {\n        const length = list.length;\n        const index = Math.floor(length / 2);\n        if(length === 1) {\n          const position = keyframesList.indexOf(list[0]);\n          return {\n            keyframetime: list[0],\n            keyframePoint: keyframesPositions[position]\n          };\n        } else if(list[index] > val) {\n          return binarySearch(list.slice(0, index), val);\n        } else if (list[index] < val) {\n          return binarySearch(list.slice(index), val);\n        } else {\n          const position = keyframesList.indexOf(list[0]);\n          return {\n            keyframetime: list[0],\n            keyframePoint: keyframesPositions[position]\n          };\n        }\n      };\n      return binarySearch(keyframesList, times);\n    } else {\n      return 0;\n    }\n  }\n}\n","export default {\n  isLive: false, // 是否是直播\n  box: 'flv', // 容器\n  prestrain: 30, // 总是seek 到关键帧\n  alwaysSeekKeyframe: true, // 总是seek 到关键帧\n  lazyLoadMaxDuration: 2 * 60, //懒加载 最大播放长度\n  lazyLoadRecoverDuration: 30, //懒加载还有多少长度 重启加载功能\n  lockInternalProperty: false, //锁定原生的选项\n  debug: true, //是否开启debug模式\n  webWorker: false, // 是否开启webworker\n  autoCleanupSourceBuffer: true, //是否自动清除 sourcebuffer\n  autoCleanupMaxBackwardDuration: 30, //清除sourcebuffer最大时间\n  autoCleanupMinBackwardDuration: 30 //清除sourcebuffer最小时间\n};\n","import {CustEvent} from 'chimee-helper';\nimport MseContriller from './core/mse-controller';\nimport Transmuxer from './core/transmuxer';\nimport defaultConfig from './config';\nimport {throttle, deepAssign, Log, UAParser} from 'chimee-helper';\n/**\n * flv 控制层\n * @export\n * @class mp4\n */\nexport default class Flv extends CustEvent {\n\n  static isSupport () {\n\n    const parser = new UAParser();\n    const info = parser.getBrowser()\n    if(info.name === 'Safari' && parseInt(info.major) < 10) {\n      return false;\n    }\n    \n    if(window.MediaSource && window.MediaSource.isTypeSupported('video/mp4; codecs=\"avc1.640020,mp4a.40.2\"')) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  static get version() {\n    return __VERSION__;\n  }\n\n\tconstructor (videodom, config) {\n    super();\n    this.tag = 'MP4-player';\n    this.video = videodom;\n    this.box = 'mp4';\n    this.timer = null;\n    this.config = deepAssign({}, defaultConfig, config);\n    this.requestSetTime = false;\n    this.bindEvents();\n    this.attachMedia();\n  }\n  /**\n   * 内部控制能否设置currentTime\n   */\n  internalPropertyHandle () {\n    if(!Object.getOwnPropertyDescriptor) {\n      return;\n    }\n    const _this = this;\n    const time = Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype, 'currentTime');\n\n    Object.defineProperty(this.video, 'currentTime', {\n      get: ()=> {\n        return time.get.call(_this.video);\n      },\n      set: (t)=> {\n        if(!_this.currentTimeLock) {\n          throw new Error('can not set currentTime by youself');\n        } else {\n          return time.set.call(_this.video, t);\n        }\n      }\n    });\n  }\n\n  /**\n   * 绑定事件\n   */\n  bindEvents () {\n    if(this.video) {\n      this.video.addEventListener('canplay', () => {\n        if(this.config.isLive) {\n          this.video.play();\n        }\n        if(this.config.lockInternalProperty) {\n          this.internalPropertyHandle();\n        }\n      });\n    }\n  }\n\n  /**\n   * 建立 mediaSource\n   */\n  attachMedia () {\n    this.mediaSource = new MseContriller(this.video, this.config);\n\n    this.mediaSource.on('source_open', ()=>{\n      \n    });\n    this.mediaSource.on('bufferFull', ()=>{\n      this.pauseTransmuxer();\n    });\n    this.mediaSource.on('updateend', ()=>{\n      this.onmseUpdateEnd();\n    });\n  }\n\n  /**\n   * load\n   * @param {string} video url\n   */\n  load (src) {\n    if(src) {\n      this.config.src = src;\n    }\n    \n    this.transmuxer = new Transmuxer(this.mediaSource, this.config);\n    \n\n    this.transmuxer.on('mediaSegment', (handle)=> {\n      this.mediaSource.emit('mediaSegment', handle.data);\n    });\n    this.transmuxer.on('mediaSegmentInit', (handle)=> {\n      this.mediaSource.emit('mediaSegmentInit', handle.data);\n    });\n\n    this.transmuxer.on('error', (handle)=> {\n      this.emit('error', handle.data);\n    });\n    this.transmuxer.on('mediaInfo', (mediaInfo)=>{\n      if(!this.mediaInfo) {\n        this.mediaInfo = mediaInfo;\n        this.emit('mediaInfo', mediaInfo);\n        this.mediaSource.init(mediaInfo);\n        this.video.src = URL.createObjectURL(this.mediaSource.mediaSource);\n        this.video.addEventListener('seeking', throttle(this._seek.bind(this), 200, {leading: false}));\n      }\n    });\n    this.transmuxer.loadSource();\n  }\n\n  /**\n   * seek in buffered\n   * @param {number} seek time\n   */\n  isTimeinBuffered (seconds) {\n    const buffered = this.video.buffered;\n    for (let i = 0; i < buffered.length; i++) {\n        const from = buffered.start(i);\n        const to = buffered.end(i);\n        if (seconds >= from && seconds < to) {\n            return true;\n        }\n    }\n    return false;\n  }\n\n  /**\n   * get current buffer end\n   */\n  getCurrentBufferEnd () {\n    const buffered = this.video.buffered;\n    const currentTime = this.video.currentTime;\n    let currentRangeEnd = 0;\n\n    for (let i = 0; i < buffered.length; i++) {\n      const start = buffered.start(i);\n      const end = buffered.end(i);\n      if (start <= currentTime && currentTime < end) {\n        currentRangeEnd = end;\n        return currentRangeEnd;\n      }\n    }\n  }\n  /**\n   * _seek\n   * @param {number} seek time\n   */\n  _seek (seconds) {\n    this.currentTimeLock = true;\n\n    let currentTime = seconds && !isNaN(seconds) ? seconds : this.video.currentTime;\n\n    if(this.requestSetTime) {\n      this.requestSetTime = false;\n      this.currentTimeLock = false;\n      return;\n    }\n    // const buffered = this.video.buffered;\n    if(this.isTimeinBuffered(currentTime)) {\n      if(this.config.alwaysSeekKeyframe) {\n        const nearlestkeyframe = this.transmuxer.getNearlestKeyframe(Math.floor(currentTime * 1000));\n        if (nearlestkeyframe) {\n          this.requestSetTime = true;\n          this.video.currentTime = nearlestkeyframe.keyframetime / 1000;\n        }\n      }\n    } else {\n      Log.verbose(this.tag, 'do seek');\n      this.transmuxer.pause();\n      // const nearlestkeyframe = this.transmuxer.getNearlestKeyframe(Math.floor(currentTime * 1000));\n      // currentTime = nearlestkeyframe.keyframetime / 1000;\n      this.transmuxer.seek(currentTime);\n      this.mediaSource.seek(currentTime);\n      this.requestSetTime = true;\n      this.video.currentTime = currentTime;\n      window.clearInterval(this.timer);\n      this.timer = null;\n    }\n    this.currentTimeLock = false;\n    return currentTime;\n  }\n\n  /**\n   * mediaSource updateend\n   */\n  onmseUpdateEnd () {\n    setTimeout(()=>{\n      if (this.config.isLive) {\n        return;\n      }\n      const currentBufferEnd = this.getCurrentBufferEnd();\n      const currentTime = this.video.currentTime;\n      if (currentBufferEnd >= currentTime + this.config.lazyLoadMaxDuration && this.timer === null) {\n        Log.verbose(this.tag, 'Maximum buffering duration exceeded, suspend transmuxing task');\n        this.pauseTransmuxer();\n      }\n    },10)\n    \n  }\n\n  /**\n   * 心跳\n   */\n  heartbeat () {\n    const currentTime = this.video.currentTime;\n    const buffered = this.video.buffered;\n\n    let needResume = false;\n\n    for (let i = 0; i < buffered.length; i++) {\n      const from = buffered.start(i);\n      const to = buffered.end(i);\n      if (currentTime >= from && currentTime < to) {\n        if (currentTime >= to - this.config.lazyLoadRecoverDuration) {\n          needResume = true;\n        }\n        break;\n      }\n    }\n\n    if (needResume) {\n      window.clearInterval(this.timer);\n      this.timer = null;\n      Log.verbose(this.tag, 'Continue loading from paused position');\n      this.transmuxer.resume();\n    }\n  }\n\n  /**\n   * 暂停 transmuxer\n   */\n  pauseTransmuxer () {\n    this.transmuxer.pause();\n    if(!this.timer) {\n      this.timer = setInterval(this.heartbeat.bind(this), 1000);\n    }\n  }\n\n  resume () {\n\n  }\n\n  /**\n   * destroy\n   */\n  destroy () {\n    if(this.video) {\n      this.video.src = '';\n      this.video.removeAttribute('src');\n      this.transmuxer.destroy();\n      this.transmuxer = null;\n      this.mediaSource.destroy();\n      this.mediaSource = null;\n    }\n  }\n\n  seek (seconds) {\n    return this._seek(seconds);\n  }\n\n  play () {\n    return this.video.play();\n  }\n\n  pause () {\n    return this.video.pause();\n  }\n\n  refresh () {\n    this.transmuxer.refresh();\n  }\n}\n"],"names":["aFunction","isObject","require$$0","document","require$$1","require$$2","anObject","toPrimitive","IE8_DOM_DEFINE","dP","createDesc","core","global","ctx","hide","$export","_defineProperty","defined","toInteger","cof","IObject","min","toIObject","toLength","toAbsoluteIndex","uid","IE_PROTO","has","$keys","enumBugKeys","getKeys","PROTOTYPE","dPs","create","descriptor","setToStringTag","toObject","$iterCreate","getPrototypeOf","LIBRARY","Iterators","redefine","step","addToUnscopables","defineProperty","wksExt","gOPS","pIE","gOPN","toString","gOPD","$GOPD","$DP","gOPNExt","wks","shared","ObjectProto","DESCRIPTORS","$fails","_create","enumKeys","require$$3","require$$4","wksDefine","isArray","require$$5","_iterator","_symbol","fails","floor","spaces","$parseFloat","define","this","ITERATOR","$defineProperty","TAG","classof","getIterFn","isArrayIter","createProperty","call","_from","process","invoke","cel","html","Promise","isNode","newPromiseCapability","SPECIES","TypeError","newPromiseCapabilityModule","USE_NATIVE","perform","anInstance","speciesConstructor","require$$6","promiseResolve","require$$7","forOf","$Object","assign","_evtListenerCache","getEvtTypeCache","emitEventCache","addEventCache","removeEventCache","CustEvent","inBrowser","makeArray","MSEController","videoElement","config","video","tag","e","onSourceOpen","bind","onSourceEnded","onSourceClose","onSourceBufferError","removeRangesList","removeBucketing","timer","queue","sourceBuffer","mimeCodec","mediaInfo","mediaSource","Error","data","videoCodec","audioCodec","ms","window","MediaSource","addEventListener","sourceBufferEvent","verbose","removeEventListener","addSourceBuffer","emit","type","sb","Log","length","updating","needCleanupSourceBuffer","doCleanupSourceBuffer","shift","appendBuffer","doUpdate","setTimeout","on","handler","push","currentTime","buffered","start","autoCleanupMaxBackwardDuration","doRemove","i","end","removeEnd","autoCleanupMinBackwardDuration","cleanRangesList","ranges","remove","buffer","code","log","error","readyState","removeSourceBuffer","onSourceBufferUpdateEnd","endOfStream","message","_mediaElement","src","removeAttribute","_mediaSourceObjectURL","URL","revokeObjectURL","range","headers","param","to","from","FetchLoader","fetch","ReadableStream","fetching","totalRange","block","reader","requestAbort","arrivalDataCallback","bytesStart","keyframePoint","reqHeaders","Headers","r","isLive","handleRange","append","req","Request","then","res","ok","body","getReader","pump","read","result","done","cancel","chunk","value","byteLength","RangeLoader","xhr","XMLHttpRequest","open","responseType","totalLength","chunkSizeKB","onreadystatechange","onReadyStateChange","onprogress","onProgress","onload","onLoad","onerror","onXhrError","setRequestHeader","send","abort","status","info","total","target","response","constructor","name","WebSocketLoader","WebSocket","_ws","_requestAbort","_receivedLength","ws","self","binaryType","onopen","_onWebSocketOpen","onclose","_onWebSocketClose","onmessage","_onWebSocketMessage","_onWebSocketError","msg","_onError","LoaderErrors","EXCEPTION","RuntimeException","close","_onComplete","ArrayBuffer","_dispatchArrayBuffer","Blob","FileReader","readAsArrayBuffer","arraybuffer","byteStart","MozChunkLoader","onLoadEnd","Ioloader","loader","bufferSize","cacheBuffer","cacheRemain","stashByteStart","enableStash","stashSize","resumeFrom","currentRange","totalReceive","seekPonit","webSocketURLReg","selectLoader","url","test","WebsocketLoader","isSupport","onLoaderChunkArrival","fileStart","stashArray","Uint8Array","set","slice","consumed","remainArray","expandBuffer","remain","expectedBytes","bufferNewSize","pause","StartBytes","undefined","paused","bytes","dropCache","Date","LOG_LEVEL_ERROR","LOG_LEVEL_WARNING","LOG_LEVEL_INFO","LOG_LEVEL_DEBUG","log_level","logObject","level","debug","warn","module","console","getDurationString","duration","_timescale","neg","pad","number","str","a","split","join","timescale","duration_sec","hours","Math","minutes","msec","printRanges","exports","MP4BoxStream","arrayBuffer","dataview","DataView","position","prototype","getPosition","getEndPosition","getLength","seek","pos","npos","max","isNaN","isFinite","isEos","readAnyInt","size","signed","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","readUint8","readUint16","readUint24","readUint32","readUint64","readString","s","String","fromCharCode","readCString","arr","b","apply","readInt8","readInt16","readInt32","readUint8Array","readInt16Array","Int16Array","readUint32Array","Uint32Array","readInt32Array","Int32Array","DataStream","byteOffset","endianness","_byteOffset","dataView","LITTLE_ENDIAN","_realloc","extra","_dynamicSize","blen","_buffer","_byteLength","buf","dst","_trimAlloc","BIG_ENDIAN","Object","get","v","_dataView","isEof","mapUint8Array","memcpy","BYTES_PER_ELEMENT","arrayToNative","readInt8Array","Int8Array","readUint16Array","Uint16Array","readFloat64Array","Float64Array","readFloat32Array","Float32Array","readFloat32","getFloat32","readFloat64","getFloat64","dstOffset","srcOffset","dstU8","srcU8","array","arrayIsLittleEndian","flipArrayEndianness","nativeToEndian","littleEndian","u8","j","k","tmp","failurePosition","fromCharCodeUint8","uint8arr","encoding","TextDecoder","decode","len","MAX_SIZE","pow","save","filename","blob","webkitURL","createObjectURL","createElement","setAttribute","click","offset","writeInt32Array","mapInt32Array","writeInt32","writeInt16Array","mapInt16Array","writeInt16","writeInt8Array","mapInt8Array","writeInt8","writeUint32Array","mapUint32Array","writeUint32","writeUint16Array","mapUint16Array","writeUint16","writeUint8Array","writeUint8","writeFloat64Array","mapFloat64Array","writeFloat64","writeFloat32Array","mapFloat32Array","writeFloat32","setInt32","setInt16","setInt8","setUint32","setUint16","setUint8","setFloat32","setFloat64","writeUCS2String","lengthOverride","charCodeAt","writeString","TextEncoder","encode","substring","writeCString","writeStruct","structDefinition","struct","t","writeType","tp","Array","charset","parseInt","ta","writeUint64","h","writeUint24","adjustUint32","MultiBufferStream","buffers","bufferIndex","insertBuffer","initialized","firstBuffer","logBufferLevel","concat","buffer1","buffer2","reduceBuffer","newLength","smallB","usedBytes","ab","to_add","splice","used","bufferedString","cleanBuffers","mergeNextBuffer","next_buffer","oldLength","oldUsedBytes","oldFileStart","findPosition","fromStart","filePosition","markAsUsed","abuffer","index","findEndContiguousBuf","inputindex","currentBuf","nextBuf","getEndFilePositionAfter","addUsedBytes","nbBytes","setAllUsedBytes","MPEG4DescriptorParser","ES_DescrTag","DecoderConfigDescrTag","DecSpecificInfoTag","SLConfigDescrTag","descTagToName","that","classes","parseOneDescriptor","stream","hdrSize","desc","byteRead","Descriptor","parse","_tag","_size","descs","findDescriptor","parseRemainingDescriptors","ES_Descriptor","ES_ID","flags","dependsOn_ES_ID","l","OCR_ES_ID","getOTI","dcd","oti","getAudioConfig","dsi","DecoderConfigDescriptor","streamType","maxBitrate","avgBitrate","DecoderSpecificInfo","SLConfigDescriptor","BoxParser","prefix","types","FullBox","Box","ContainerBox","SampleEntry","TrackGroupTypeBox","boxCodes","fullBoxCodes","containerBoxCodes","subBoxNames","nbSubBoxes","sampleEntryCodes","nb_types","sampleGroupEntryCodes","SampleGroupEntry","trackGroupTypes","_type","version","boxes","hdr_size","grouping_type","initialize","TKHD_FLAG_ENABLED","TKHD_FLAG_IN_MOVIE","TKHD_FLAG_IN_PREVIEW","TFHD_FLAG_BASE_DATA_OFFSET","TFHD_FLAG_SAMPLE_DESC","TFHD_FLAG_SAMPLE_DUR","TFHD_FLAG_SAMPLE_SIZE","TFHD_FLAG_SAMPLE_FLAGS","TFHD_FLAG_DUR_EMPTY","TFHD_FLAG_DEFAULT_BASE_IS_MOOF","TRUN_FLAGS_DATA_OFFSET","TRUN_FLAGS_FIRST_FLAG","TRUN_FLAGS_DURATION","TRUN_FLAGS_SIZE","TRUN_FLAGS_FLAGS","TRUN_FLAGS_CTS_OFFSET","add","box","prop","addEntry","_prop","isVideo","isAudio","isSubtitle","isMetadata","isHint","getCodec","replace","getWidth","getHeight","getChannelCount","getSampleRate","getSampleSize","VisualSampleEntry","width","height","AudioSampleEntry","channel_count","samplerate","samplesize","SubtitleSampleEntry","MetadataSampleEntry","decimalToHex","d","padding","hex","Number","avc1SampleEntry","baseCodec","avcC","AVCProfileIndication","profile_compatibility","AVCLevelIndication","hvc1SampleEntry","hvcC","general_profile_space","general_profile_idc","val","general_profile_compatibility","reversed","general_tier_flag","general_level_idc","hasByte","constraint_string","general_constraint_indicator","mp4aSampleEntry","esds","esd","stxtSampleEntry","mime_format","parseOneBox","headerOnly","parentSize","diff","uuid","ERR_NOT_ENOUGH_DATA","OK","write","parseDataAndRewind","parseFullHeader","ret","indexOf","parseLanguage","language","chars","languageString","track_group_id","TrackReferenceTypeBox","track_ids","avcCBox","nb_nalus","toparse","configurationVersion","lengthSizeMinusOne","SPS","PPS","ext","btrtBox","bufferSizeDB","clapBox","cleanApertureWidthN","cleanApertureWidthD","cleanApertureHeightN","cleanApertureHeightD","horizOffN","horizOffD","vertOffN","vertOffD","co64Box","entry_count","chunk_offsets","colrBox","colour_type","colour_primaries","transfer_characteristics","matrix_coefficients","full_range_flag","ICC_profile","cprtBox","notice","cslgBox","compositionToDTSShift","leastDecodeToDisplayDelta","greatestDecodeToDisplayDelta","compositionStartTime","compositionEndTime","cttsBox","sample_counts","sample_offsets","dimmBox","bytessent","dmaxBox","time","dmedBox","drefBox","entries","drepBox","elngBox","extended_language","elstBox","entry","segment_duration","media_time","readInt64","media_rate_integer","media_rate_fraction","emsgBox","scheme_id_uri","presentation_time_delta","event_duration","id","message_size","message_data","esdsBox","esd_data","esd_parser","frmaBox","data_format","ftypBox","major_brand","minor_version","compatible_brands","hdlrBox","hvcCBox","tmp_byte","min_spatial_segmentation_idc","parallelismType","chromaFormat","bitDepthLumaMinus8","bitDepthChromaMinus8","avgFrameRate","constantFrameRate","numTemporalLayers","temporalIdNested","nalu_arrays","numOfArrays","nalu_array","completeness","nalu_type","numNalus","nalu","iinfBox","item_infos","ilocBox","byte","offset_size","length_size","base_offset_size","index_size","items","item_count","item","item_ID","construction_method","data_reference_index","base_offset","extent_count","extents","extent","extent_index","extent_offset","extent_length","infeBox","item_protection_index","item_name","content_type","content_encoding","extension_type","item_type","item_uri_type","ipmaBox","associations","item_assoc","association_count","props","p","essential","property_index","irefBox","references","entryCount","SingleItemTypeReferenceBox","SingleItemTypeReferenceBoxLarge","ispeBox","image_width","image_height","kindBox","schemeURI","levaBox","count","levels","track_ID","padding_flag","assignment_type","grouping_type_parameter","sub_track_id","maxrBox","period","mdhdBox","creation_time","modification_time","mehdBox","fragment_duration","metaBox","mfhdBox","sequence_number","mfroBox","mvhdBox","aaa","rate","volume","matrix","next_track_id","npckBox","packetssent","numpBox","padbBox","sample_count","padbits","paspBox","hSpacing","vSpacing","paylBox","text","paytBox","payloadID","rtpmap_string","pdinBox","initial_delay","pitmBox","item_id","pixiBox","num_channels","bits_per_channels","pmaxBox","prftBox","ref_track_id","ntp_timestamp","psshBox","system_id","kid","datasize","descriptionformat","sdptext","saioBox","aux_info_type","aux_info_type_parameter","saizBox","default_sample_info_size","sample_info_size","mettSampleEntry","parseHeader","parseFooter","metxSampleEntry","namespace","schema_location","horizresolution","vertresolution","frame_count","compressorname","depth","sbttSampleEntry","stppSampleEntry","auxiliary_mime_types","tx3gSampleEntry","displayFlags","horizontal_justification","vertical_justification","bg_color_rgba","box_record","style_record","wvttSampleEntry","alstSampleGroupEntry","roll_count","first_output_sample","sample_offset","remaining","description_length","num_output_samples","num_total_samples","avllSampleGroupEntry","layerNumber","accurateStatisticsFlag","avgBitRate","avssSampleGroupEntry","subSequenceIdentifier","durationFlag","avgRateFlag","dependency","numReferences","dependencyInfo","subSeqDirectionFlag","dtrtSampleGroupEntry","mvifSampleGroupEntry","prolSampleGroupEntry","roll_distance","num_leading_samples_known","num_leading_samples","rashSampleGroupEntry","operation_point_count","target_rate_share","available_bitrate","maximum_bitrate","minimum_bitrate","discard_priority","rollSampleGroupEntry","scifSampleGroupEntry","scnmSampleGroupEntry","seigSampleGroupEntry","reserved","crypt_byte_block","skip_byte_block","isProtected","Per_Sample_IV_Size","KID","constant_IV_size","constant_IV","stsaSampleGroupEntry","syncSampleGroupEntry","NAL_unit_type","teleSampleGroupEntry","level_independently_decodable","tsasSampleGroupEntry","tsclSampleGroupEntry","viprSampleGroupEntry","sbgpBox","group_description_index","schmBox","scheme_type","scheme_version","scheme_uri","sdtpBox","is_leading","sample_depends_on","sample_is_depended_on","sample_has_redundancy","sgpdBox","default_length","default_group_description_index","sidxBox","reference_ID","earliest_presentation_time","first_offset","ref","tmp_32","reference_type","referenced_size","subsegment_duration","starts_with_SAP","SAP_type","SAP_delta_time","from_item_ID","ssixBox","subsegments","subsegment_count","subsegment","range_count","range_size","stcoBox","stdpBox","priority","sthdBox","striBox","switch_group","alternate_group","attribute_list","stscBox","first_chunk","samples_per_chunk","sample_description_index","stsdBox","stsgBox","stshBox","shadowed_sample_numbers","sync_sample_numbers","stssBox","sample_numbers","stszBox","sample_sizes","sample_size","sttsBox","delta","sample_deltas","stviBox","tmp32","single_view_allowed","stereo_scheme","stereo_indication_type","stypBox","stz2Box","field_size","subsBox","subsample_count","sampleInfo","sample_delta","subsamples","subsample","discardable","codec_specific_parameters","tencBox","default_crypt_byte_block","default_skip_byte_block","default_isProtected","default_Per_Sample_IV_Size","default_KID","default_constant_IV_size","default_constant_IV","tfdtBox","baseMediaDecodeTime","tfhdBox","readBytes","track_id","base_data_offset","default_sample_description_index","default_sample_duration","default_sample_size","default_sample_flags","tfraBox","length_size_of_traf_num","length_size_of_trun_num","length_size_of_sample_num","number_of_entries","moof_offset","traf_number","trun_number","sample_number","tkhdBox","layer","tmaxBox","tminBox","totlBox","tpayBox","tpylBox","trefBox","trepBox","trexBox","trpyBox","trunBox","data_offset","first_sample_flags","sample_duration","sample_flags","sample_composition_time_offset","tselBox","txtCBox","location","vmhdBox","graphicsmode","opcolor","vpcCBox","profile","bitDepth","colorSpace","chromaSubsampling","transferFunction","videoFullRangeFlag","codecIntializationDataSize","codecIntializationData","vttCBox","writeHeader","sizePosition","writeFooter","constant","data_offset_position","unpack","samples","pts","dts","m","Infinity","description_index","chunk_index","VTTin4Parser","parseSample","cues","cue","getText","startTime","endTime","n","z","secToTimestamp","insec","string","cueIn4","payl","XMLSubtitlein4Parser","sample","resources","documentString","DOMParser","parseFromString","Textin4Parser","textString","parseConfig","ISOFile","mdats","moofs","isProgressive","moovStartFound","found","parseBoxHeadersOnly","restoreParsePosition","hasIncompleteMdat","processIncompleteMdat","saveParsePosition","processIncompleteBox","updateUsedBytes","getBox","getBoxes","returnEarly","_sweep","lastBoxStartPosition","parsingMdat","nextParsePosition","discardMdatData","merged","init","moov","addTrack","_options","options","mvhd","trak","mdia","hdlr","minf","sample_entry","media_type","stbl","mvex","getBuffer","addSample","lastMoofIndex","samplesDataSize","resetTables","stco","stsc","stsz","stts","ctts","stss","initial_duration","traks","tkhd","mdhd","co64","stz2","initSampleGroups","traf","sbgps","trak_sgpds","traf_sgpds","sample_groups_info","sample_group_info","sample_group_key","SampleGroupInfo","_parameter","_sbgp","sbgp","last_sample_in_run","entry_index","description","fragment_description","is_fragment","setSampleGroupProperties","sample_groups","process_sdtp","sdtp","depends_on","is_depended_on","has_redundancy","buildSampleLists","stsd","subs","sgpds","stdp","chunk_run_index","last_chunk_in_run","offset_in_chunk","last_sample_in_chunk","last_sample_in_stts_run","stts_run_index","last_sample_in_ctts_run","ctts_run_index","last_stss_index","last_subs_index","subs_entry_index","last_subs_sample_index","samples_duration","samples_size","alreadyRead","cts","is_sync","degradation_priority","updateSampleLists","last_run_position","moof","trex","trafs","getTrackById","tfhd","getTrexById","truns","trun","number_in_traf","first_sample_index","first_traf_merged","tfdt","bdop","dbim","dop","bdo","has_fragment_subsamples","sample_index","getSample","sampleNum","lengthAfterStart","releaseSample","getAllocatedSampleDataSize","getCodecs","codecs","trexs","itemsDataSize","flattenItemInfo","meta","iinf","ref_to","protection_index","protection","ipro","protections","iloc","itemloc","source","dinf","pitm","primary","iref","getItem","releaseItem","processItems","callback","sent","hasItem","getMetaHandler","getPrimaryItem","outstream","writeInitializationSegment","ftyp","total_duration","mehd","MP4Box","_keepMdatData","inputStream","keepMdatData","inputIsoFile","onMoovStart","moovStartSent","onReady","readySent","onSegment","onSamples","onError","sampleListBuilt","fragmentedTracks","extractedTracks","isFragmentationInitialized","sampleProcessingStarted","nextMoofNumber","itemListBuilt","setSegmentOptions","user","fragTrack","nextSample","segmentStream","nb_samples","rapAlignement","nbSamples","unsetSegmentOptions","setExtractionOptions","extractTrack","unsetExtractionOptions","createSingleSampleMoof","moofBox","createFragment","input","sampleNumber","stream_","nextSeekPosition","mdat","mdatBox","processSamples","fragTrak","extractTrak","checkBuffer","nextFileStart","getInfo","onItem","movie","track","sample_desc","_1904","getTime","hasMoov","isFragmented","hasIOD","iods","brands","created","modified","tracks","audioTracks","videoTracks","subtitleTracks","metadataTracks","hintTracks","otherTracks","tref","edts","edits","elst","movie_duration","movie_timescale","track_width","track_height","cts_shift","cslg","codec","kind","udta","kinds","elng","bitrate","audio","sample_rate","mime","writeFile","initializeSegmentation","initSegs","seg","moovBox","releaseUsedSamples","lastValidSample","flush","seekTrack","useRap","seek_offset","rap_seek_sample_num","seek_sample_num","trak_seek_info","seek_info","getTrackSamplesInfo","getTrackSample","stop","Mp4decode","mp4box","bindEvent","mediainfo","onMediaInfo","forEach","onInitMediaSegment","onMediaSegment","shimWorker","CPU","postMessage","cmd","onInitSegment","onRemuxerInitSegmentArrival","onRemuxerMediaSegmentArrival","onCPUError","seekCallBack","IoLoader","arrivalDataCallbackWorker","setflv","initSegment","w","Transmuxer","webWorker","TransmuxerWorker","parseCallback","handle","sendBuffer","resume","hasKeyframesIndex","distroy","destroy","times","keyframesIndex","keyframesList","keyframesPositions","filepositions","binarySearch","list","Flv","parser","UAParser","getBrowser","major","isTypeSupported","__VERSION__","videodom","deepAssign","defaultConfig","requestSetTime","bindEvents","attachMedia","getOwnPropertyDescriptor","_this","HTMLMediaElement","currentTimeLock","play","lockInternalProperty","internalPropertyHandle","MseContriller","pauseTransmuxer","onmseUpdateEnd","transmuxer","throttle","_seek","leading","loadSource","seconds","currentRangeEnd","isTimeinBuffered","alwaysSeekKeyframe","nearlestkeyframe","getNearlestKeyframe","keyframetime","clearInterval","currentBufferEnd","getCurrentBufferEnd","lazyLoadMaxDuration","needResume","lazyLoadRecoverDuration","setInterval","heartbeat","refresh"],"mappings":"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"}